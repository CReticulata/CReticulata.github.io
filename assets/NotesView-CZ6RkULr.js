import{u as mt,a as ht,b as gt,p as Fe,c as bt,d as xt,e as kt,f as yt,r as Pe,g as pt,h as St,i as Ct,j as qt,Q as wt,k as Mt,N as Tt}from"./Note-CQYsz18h.js";import{u as we,g as Z,a as Me,r as _,c as u,i as $t,b as ye,T as Bt,o as se,d as D,p as Xe,h as q,e as Ye,f as Te,w as z,s as $e,j as Ne,k as _t,l as ze,n as Lt,m as Vt,q as Et,t as Rt,v as Ce,x as Ft,y as Pt,z as Nt,A as zt,B as At,C as Ht,D as Wt,E as It,F as Ot,G as Dt,H as jt,I as Kt,J as Qt,K as Ut,R as Xt,Q as pe,L as Yt,M as Gt,N as Jt,O as ne,P as J,S as Ge,U as Zt,V as oe,W as Je,X as el,Y as Ze,_ as tl,Z as ll,$ as al,a0 as L,a1 as F,a2 as Ae,a3 as He}from"./index-C48wgooP.js";const We="q-slider__marker-labels",nl=e=>({value:e}),ol=({marker:e})=>q("div",{key:e.value,style:e.style,class:e.classes},e.label),et=[34,37,40,33,39,38],rl={...we,...mt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},il=["pan","update:modelValue","change"];function sl({updateValue:e,updatePosition:o,getDragging:i,formAttrs:l}){const{props:t,emit:g,slots:s,proxy:{$q:c}}=Z(),x=Me(t,c),d=ht(l),f=_(!1),y=_(!1),m=_(!1),a=_(!1),r=u(()=>t.vertical===!0?"--v":"--h"),w=u(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),v=u(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(c.lang.rtl===!0)),M=u(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),E=u(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),k=u(()=>t.disable!==!0&&t.readonly!==!0&&M.value<E.value),T=u(()=>{if(t.step===0)return h=>h;const n=(String(t.step).trim().split(".")[1]||"").length;return h=>parseFloat(h.toFixed(n))}),p=u(()=>t.step===0?1:t.step),P=u(()=>k.value===!0?t.tabindex||0:-1),$=u(()=>t.max-t.min),R=u(()=>E.value-M.value),V=u(()=>G(M.value)),I=u(()=>G(E.value)),A=u(()=>t.vertical===!0?v.value===!0?"bottom":"top":v.value===!0?"right":"left"),ee=u(()=>t.vertical===!0?"height":"width"),j=u(()=>t.vertical===!0?"width":"height"),K=u(()=>t.vertical===!0?"vertical":"horizontal"),ue=u(()=>{const n={role:"slider","aria-valuemin":M.value,"aria-valuemax":E.value,"aria-orientation":K.value,"data-step":t.step};return t.disable===!0?n["aria-disabled"]="true":t.readonly===!0&&(n["aria-readonly"]="true"),n}),ce=u(()=>`q-slider q-slider${r.value} q-slider--${f.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(k.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(x.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+r.value:""));function O(n){const h="q-slider__"+n;return`${h} ${h}${r.value} ${h}${r.value}${w.value}`}function Q(n){const h="q-slider__"+n;return`${h} ${h}${r.value}`}const U=u(()=>{const n=t.selectionColor||t.color;return"q-slider__selection absolute"+(n!==void 0?` text-${n}`:"")}),de=u(()=>Q("markers")+" absolute overflow-hidden"),ve=u(()=>Q("track-container")),te=u(()=>O("pin")),le=u(()=>O("label")),fe=u(()=>O("text-container")),ae=u(()=>O("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),X=u(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),H=u(()=>{const n={[j.value]:t.trackSize};return t.trackImg!==void 0&&(n.backgroundImage=`url(${t.trackImg}) !important`),n}),me=u(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),b=u(()=>{const n=I.value-V.value,h={[A.value]:`${100*V.value}%`,[ee.value]:n===0?"2px":`${100*n}%`};return t.innerTrackImg!==void 0&&(h.backgroundImage=`url(${t.innerTrackImg}) !important`),h});function Y(n){const{min:h,max:S,step:C}=t;let B=h+n*(S-h);if(C>0){const N=(B-M.value)%C;B+=(Math.abs(N)>=C/2?(N<0?-1:1)*C:0)-N}return B=T.value(B),D(B,M.value,E.value)}function G(n){return $.value===0?0:(n-t.min)/$.value}function he(n,h){const S=Xe(n),C=t.vertical===!0?D((S.top-h.top)/h.height,0,1):D((S.left-h.left)/h.width,0,1);return D(v.value===!0?1-C:C,V.value,I.value)}const Be=u(()=>$t(t.markers)===!0?t.markers:p.value),_e=u(()=>{const n=[],h=Be.value,S=t.max;let C=t.min;do n.push(C),C+=h;while(C<S);return n.push(S),n}),Le=u(()=>{const n=` ${We}${r.value}-`;return We+`${n}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${n}${v.value===!0?"rtl":"ltr"}`}),ge=u(()=>t.markerLabels===!1?null:at(t.markerLabels).map((n,h)=>({index:h,value:n.value,label:n.label||n.value,classes:Le.value+(n.classes!==void 0?" "+n.classes:""),style:{...Ee(n.value),...n.style||{}}}))),Ve=u(()=>({markerList:ge.value,markerMap:nt.value,classes:Le.value,getStyle:Ee})),lt=u(()=>{const n=R.value===0?"2px":100*Be.value/R.value;return{...b.value,backgroundSize:t.vertical===!0?`2px ${n}%`:`${n}% 2px`}});function at(n){if(n===!1)return null;if(n===!0)return _e.value.map(nl);if(typeof n=="function")return _e.value.map(S=>{const C=n(S);return ye(C)===!0?{...C,value:S}:{value:S,label:C}});const h=({value:S})=>S>=t.min&&S<=t.max;return Array.isArray(n)===!0?n.map(S=>ye(S)===!0?S:{value:S}).filter(h):Object.keys(n).map(S=>{const C=n[S],B=Number(S);return ye(C)===!0?{...C,value:B}:{value:B,label:C}}).filter(h)}function Ee(n){return{[A.value]:`${100*(n-t.min)/$.value}%`}}const nt=u(()=>{if(t.markerLabels===!1)return null;const n={};return ge.value.forEach(h=>{n[h.value]=h}),n});function ot(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](Ve.value);const n=s["marker-label"]||ol;return ge.value.map(h=>n({marker:h,...Ve.value}))}const rt=u(()=>[[Bt,it,void 0,{[K.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function it(n){n.isFinal===!0?(a.value!==void 0&&(o(n.evt),n.touch===!0&&e(!0),a.value=void 0,g("pan","end")),f.value=!1,m.value=!1):n.isFirst===!0?(a.value=i(n.evt),o(n.evt),e(),f.value=!0,g("pan","start")):(o(n.evt),e())}function Re(){m.value=!1}function st(n){o(n,i(n)),e(),y.value=!0,f.value=!0,document.addEventListener("mouseup",be,!0)}function be(){y.value=!1,f.value=!1,e(!0),Re(),document.removeEventListener("mouseup",be,!0)}function ut(n){o(n,i(n)),e(!0)}function ct(n){et.includes(n.keyCode)&&e(!0)}function dt(n){if(t.vertical===!0)return null;const h=c.lang.rtl!==t.reverse?1-n:n;return{transform:`translateX(calc(${2*h-1} * ${t.thumbSize} / 2 + ${50-100*h}%))`}}function vt(n){const h=u(()=>y.value===!1&&(m.value===n.focusValue||m.value==="both")?" q-slider--focus":""),S=u(()=>`q-slider__thumb q-slider__thumb${r.value} q-slider__thumb${r.value}-${v.value===!0?"rtl":"ltr"} absolute non-selectable`+h.value+(n.thumbColor.value!==void 0?` text-${n.thumbColor.value}`:"")),C=u(()=>({width:t.thumbSize,height:t.thumbSize,[A.value]:`${100*n.ratio.value}%`,zIndex:m.value===n.focusValue?2:void 0})),B=u(()=>n.labelColor.value!==void 0?` text-${n.labelColor.value}`:""),N=u(()=>dt(n.ratio.value)),xe=u(()=>"q-slider__text"+(n.labelTextColor.value!==void 0?` text-${n.labelTextColor.value}`:""));return()=>{const ke=[q("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[q("path",{d:t.thumbPath})]),q("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(ke.push(q("div",{class:te.value+" absolute fit no-pointer-events"+B.value},[q("div",{class:le.value,style:{minWidth:t.thumbSize}},[q("div",{class:fe.value,style:N.value},[q("span",{class:xe.value},n.label.value)])])])),t.name!==void 0&&t.disable!==!0&&d(ke,"push")),q("div",{class:S.value,style:C.value,...n.getNodeData()},ke)}}function ft(n,h,S,C){const B=[];t.innerTrackColor!=="transparent"&&B.push(q("div",{key:"inner",class:me.value,style:b.value})),t.selectionColor!=="transparent"&&B.push(q("div",{key:"selection",class:U.value,style:n.value})),t.markers!==!1&&B.push(q("div",{key:"marker",class:de.value,style:lt.value})),C(B);const N=[Ye("div",{key:"trackC",class:ve.value,tabindex:h.value,...S.value},[q("div",{class:X.value,style:H.value},B)],"slide",k.value,()=>rt.value)];if(t.markerLabels!==!1){const xe=t.switchMarkerLabelsSide===!0?"unshift":"push";N[xe](q("div",{key:"markerL",class:ae.value},ot()))}return N}return se(()=>{document.removeEventListener("mouseup",be,!0)}),{state:{active:f,focus:m,preventFocus:y,dragging:a,editable:k,classes:ce,tabindex:P,attributes:ue,roundValueFn:T,keyStep:p,trackLen:$,innerMin:M,innerMinRatio:V,innerMax:E,innerMaxRatio:I,positionProp:A,sizeProp:ee,isReversed:v},methods:{onActivate:st,onMobileClick:ut,onBlur:Re,onKeyup:ct,getContent:ft,getThumbRenderFn:vt,convertRatioToModel:Y,convertModelToRatio:G,getDraggingRatio:he}}}const ul=()=>({}),cl=Te({name:"QSlider",props:{...rl,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:il,setup(e,{emit:o}){const{proxy:{$q:i}}=Z(),{state:l,methods:t}=sl({updateValue:r,updatePosition:v,getDragging:w,formAttrs:gt(e)}),g=_(null),s=_(0),c=_(0);function x(){c.value=e.modelValue===null?l.innerMin.value:D(e.modelValue,l.innerMin.value,l.innerMax.value)}z(()=>`${e.modelValue}|${l.innerMin.value}|${l.innerMax.value}`,x),x();const d=u(()=>t.convertModelToRatio(c.value)),f=u(()=>l.active.value===!0?s.value:d.value),y=u(()=>{const k={[l.positionProp.value]:`${100*l.innerMinRatio.value}%`,[l.sizeProp.value]:`${100*(f.value-l.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(k.backgroundImage=`url(${e.selectionImg}) !important`),k}),m=t.getThumbRenderFn({focusValue:!0,getNodeData:ul,ratio:f,label:u(()=>e.labelValue!==void 0?e.labelValue:c.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),a=u(()=>l.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:M,onBlur:t.onBlur,onKeydown:E,onKeyup:t.onKeyup});function r(k){c.value!==e.modelValue&&o("update:modelValue",c.value),k===!0&&o("change",c.value)}function w(){return g.value.getBoundingClientRect()}function v(k,T=l.dragging.value){const p=t.getDraggingRatio(k,T);c.value=t.convertRatioToModel(p),s.value=e.snap!==!0||e.step===0?p:t.convertModelToRatio(c.value)}function M(){l.focus.value=!0}function E(k){if(et.includes(k.keyCode)===!1)return;$e(k);const T=([34,33].includes(k.keyCode)?10:1)*l.keyStep.value,p=([34,37,40].includes(k.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*T;c.value=D(l.roundValueFn.value(c.value+p),l.innerMin.value,l.innerMax.value),r()}return()=>{const k=t.getContent(y,l.tabindex,a,T=>{T.push(m())});return q("div",{ref:g,class:l.classes.value+(e.modelValue===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":e.modelValue},k)}}}),dl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},vl={...dl,contextMenu:Boolean};function fl({showing:e,avoidEmit:o,configureAnchorEl:i}){const{props:l,proxy:t,emit:g}=Z(),s=_(null);let c=null;function x(a){return s.value===null?!1:a===void 0||a.touches===void 0||a.touches.length<=1}const d={};i===void 0&&(Object.assign(d,{hide(a){t.hide(a)},toggle(a){t.toggle(a),a.qAnchorHandled=!0},toggleKey(a){Vt(a,13)===!0&&d.toggle(a)},contextClick(a){t.hide(a),Ne(a),Lt(()=>{t.show(a),a.qAnchorHandled=!0})},prevent:Ne,mobileTouch(a){if(d.mobileCleanup(a),x(a)!==!0)return;t.hide(a),s.value.classList.add("non-selectable");const r=a.target;ze(d,"anchor",[[r,"touchmove","mobileCleanup","passive"],[r,"touchend","mobileCleanup","passive"],[r,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{c=null,t.show(a),a.qAnchorHandled=!0},300)},mobileCleanup(a){s.value.classList.remove("non-selectable"),c!==null&&(clearTimeout(c),c=null),e.value===!0&&a!==void 0&&_t()}}),i=function(a=l.contextMenu){if(l.noParentEvent===!0||s.value===null)return;let r;a===!0?t.$q.platform.is.mobile===!0?r=[[s.value,"touchstart","mobileTouch","passive"]]:r=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:r=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],ze(d,"anchor",r)});function f(){Rt(d,"anchor")}function y(a){for(s.value=a;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;i()}function m(){if(l.target===!1||l.target===""||t.$el.parentNode===null)s.value=null;else if(l.target===!0)y(t.$el.parentNode);else{let a=l.target;if(typeof l.target=="string")try{a=document.querySelector(l.target)}catch{a=void 0}a!=null?(s.value=a.$el||a,i()):(s.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return z(()=>l.contextMenu,a=>{s.value!==null&&(f(),i(a))}),z(()=>l.target,()=>{s.value!==null&&f(),m()}),z(()=>l.noParentEvent,a=>{s.value!==null&&(a===!0?f():i())}),Et(()=>{m(),o!==!0&&l.modelValue===!0&&s.value===null&&g("update:modelValue",!1)}),se(()=>{c!==null&&clearTimeout(c),f()}),{anchorEl:s,canShow:x,anchorEvents:d}}function ml(e,o){const i=_(null);let l;function t(c,x){const d=`${x!==void 0?"add":"remove"}EventListener`,f=x!==void 0?x:l;c!==window&&c[d]("scroll",f,Ce.passive),window[d]("scroll",f,Ce.passive),l=x}function g(){i.value!==null&&(t(i.value),i.value=null)}const s=z(()=>e.noParentEvent,()=>{i.value!==null&&(g(),o())});return se(s),{localScrollTarget:i,unconfigureScrollTarget:g,changeScrollEvent:t}}const{notPassiveCapture:re}=Ce,W=[];function ie(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let i=Fe.length-1;for(;i>=0;){const l=Fe[i].$;if(l.type.name==="QTooltip"){i--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;i--}for(let l=W.length-1;l>=0;l--){const t=W[l];if((t.anchorEl.value===null||t.anchorEl.value.contains(o)===!1)&&(o===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(o)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function hl(e){W.push(e),W.length===1&&(document.addEventListener("mousedown",ie,re),document.addEventListener("touchstart",ie,re))}function Ie(e){const o=W.findIndex(i=>i===e);o!==-1&&(W.splice(o,1),W.length===0&&(document.removeEventListener("mousedown",ie,re),document.removeEventListener("touchstart",ie,re)))}let Oe,De;function je(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function gl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const qe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{qe[`${e}#ltr`]=e,qe[`${e}#rtl`]=e});function Ke(e,o){const i=e.split(" ");return{vertical:i[0],horizontal:qe[`${i[1]}#${o===!0?"rtl":"ltr"}`]}}function bl(e,o){let{top:i,left:l,right:t,bottom:g,width:s,height:c}=e.getBoundingClientRect();return o!==void 0&&(i-=o[1],l-=o[0],g+=o[1],t+=o[0],s+=o[0],c+=o[1]),{top:i,bottom:g,height:c,left:l,right:t,width:s,middle:l+(t-l)/2,center:i+(g-i)/2}}function xl(e,o,i){let{top:l,left:t}=e.getBoundingClientRect();return l+=o.top,t+=o.left,i!==void 0&&(l+=i[1],t+=i[0]),{top:l,bottom:l+1,height:1,left:t,right:t+1,width:1,middle:t,center:l}}function kl(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function Qe(e,o,i,l){return{top:e[i.vertical]-o[l.vertical],left:e[i.horizontal]-o[l.horizontal]}}function tt(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{tt(e,o+1)},10);return}const{targetEl:i,offset:l,anchorEl:t,anchorOrigin:g,selfOrigin:s,absoluteOffset:c,fit:x,cover:d,maxHeight:f,maxWidth:y}=e;if(Ft.is.ios===!0&&window.visualViewport!==void 0){const P=document.body.style,{offsetLeft:$,offsetTop:R}=window.visualViewport;$!==Oe&&(P.setProperty("--q-pe-left",$+"px"),Oe=$),R!==De&&(P.setProperty("--q-pe-top",R+"px"),De=R)}const{scrollLeft:m,scrollTop:a}=i,r=c===void 0?bl(t,d===!0?[0,0]:l):xl(t,c,l);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:f,visibility:"visible"});const{offsetWidth:w,offsetHeight:v}=i,{elWidth:M,elHeight:E}=x===!0||d===!0?{elWidth:Math.max(r.width,w),elHeight:d===!0?Math.max(r.height,v):v}:{elWidth:w,elHeight:v};let k={maxWidth:y,maxHeight:f};(x===!0||d===!0)&&(k.minWidth=r.width+"px",d===!0&&(k.minHeight=r.height+"px")),Object.assign(i.style,k);const T=kl(M,E);let p=Qe(r,T,g,s);if(c===void 0||l===void 0)Se(p,r,T,g,s);else{const{top:P,left:$}=p;Se(p,r,T,g,s);let R=!1;if(p.top!==P){R=!0;const V=2*l[1];r.center=r.top-=V,r.bottom-=V+2}if(p.left!==$){R=!0;const V=2*l[0];r.middle=r.left-=V,r.right-=V+2}R===!0&&(p=Qe(r,T,g,s),Se(p,r,T,g,s))}k={top:p.top+"px",left:p.left+"px"},p.maxHeight!==void 0&&(k.maxHeight=p.maxHeight+"px",r.height>p.maxHeight&&(k.minHeight=k.maxHeight)),p.maxWidth!==void 0&&(k.maxWidth=p.maxWidth+"px",r.width>p.maxWidth&&(k.minWidth=k.maxWidth)),Object.assign(i.style,k),i.scrollTop!==a&&(i.scrollTop=a),i.scrollLeft!==m&&(i.scrollLeft=m)}function Se(e,o,i,l,t){const g=i.bottom,s=i.right,c=Pt(),x=window.innerHeight-c,d=document.body.clientWidth;if(e.top<0||e.top+g>x)if(t.vertical==="center")e.top=o[l.vertical]>x/2?Math.max(0,x-g):0,e.maxHeight=Math.min(g,x);else if(o[l.vertical]>x/2){const f=Math.min(x,l.vertical==="center"?o.center:l.vertical===t.vertical?o.bottom:o.top);e.maxHeight=Math.min(g,f),e.top=Math.max(0,f-g)}else e.top=Math.max(0,l.vertical==="center"?o.center:l.vertical===t.vertical?o.top:o.bottom),e.maxHeight=Math.min(g,x-e.top);if(e.left<0||e.left+s>d)if(e.maxWidth=Math.min(s,d),t.horizontal==="middle")e.left=o[l.horizontal]>d/2?Math.max(0,d-s):0;else if(o[l.horizontal]>d/2){const f=Math.min(d,l.horizontal==="middle"?o.middle:l.horizontal===t.horizontal?o.right:o.left);e.maxWidth=Math.min(s,f),e.left=Math.max(0,f-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?o.middle:l.horizontal===t.horizontal?o.left:o.right),e.maxWidth=Math.min(s,d-e.left)}const yl=Te({name:"QMenu",inheritAttrs:!1,props:{...vl,...At,...we,...bt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:je},self:{type:String,validator:je},offset:{type:Array,validator:gl},scrollTarget:zt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Nt,"click","escapeKey"],setup(e,{slots:o,emit:i,attrs:l}){let t=null,g,s,c;const x=Z(),{proxy:d}=x,{$q:f}=d,y=_(null),m=_(!1),a=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),r=Me(e,f),{registerTick:w,removeTick:v}=Ht(),{registerTimeout:M}=Wt(),{transitionProps:E,transitionStyle:k}=xt(e),{localScrollTarget:T,changeScrollEvent:p,unconfigureScrollTarget:P}=ml(e,le),{anchorEl:$,canShow:R}=fl({showing:m}),{hide:V}=It({showing:m,canShow:R,handleShow:de,handleHide:ve,hideOnRouteChange:a,processOnMount:!0}),{showPortal:I,hidePortal:A,renderPortal:ee}=kt(x,y,me,"menu"),j={anchorEl:$,innerRef:y,onClickOutside(b){if(e.persistent!==!0&&m.value===!0)return V(b),(b.type==="touchstart"||b.target.classList.contains("q-dialog__backdrop"))&&$e(b),!0}},K=u(()=>Ke(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),ue=u(()=>e.cover===!0?K.value:Ke(e.self||"top start",f.lang.rtl)),ce=u(()=>(e.square===!0?" q-menu--square":"")+(r.value===!0?" q-menu--dark q-dark":"")),O=u(()=>e.autoClose===!0?{onClick:fe}:{}),Q=u(()=>m.value===!0&&e.persistent!==!0);z(Q,b=>{b===!0?(yt(X),hl(j)):(Pe(X),Ie(j))});function U(){qt(()=>{let b=y.value;b&&b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||b.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function de(b){if(t=e.noRefocus===!1?document.activeElement:null,pt(ae),I(),le(),g=void 0,b!==void 0&&(e.touchPosition||e.contextMenu)){const Y=Xe(b);if(Y.left!==void 0){const{top:G,left:he}=$.value.getBoundingClientRect();g={left:Y.left-he,top:Y.top-G}}}s===void 0&&(s=z(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,H)),e.noFocus!==!0&&document.activeElement.blur(),w(()=>{H(),e.noFocus!==!0&&U()}),M(()=>{f.platform.is.ios===!0&&(c=e.autoClose,y.value.click()),H(),I(!0),i("show",b)},e.transitionDuration)}function ve(b){v(),A(),te(!0),t!==null&&(b===void 0||b.qClickOutside!==!0)&&(((b&&b.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),M(()=>{A(!0),i("hide",b)},e.transitionDuration)}function te(b){g=void 0,s!==void 0&&(s(),s=void 0),(b===!0||m.value===!0)&&(St(ae),P(),Ie(j),Pe(X)),b!==!0&&(t=null)}function le(){($.value!==null||e.scrollTarget!==void 0)&&(T.value=Ot($.value,e.scrollTarget),p(T.value,H))}function fe(b){c!==!0?(Ct(d,b),i("click",b)):c=!1}function ae(b){Q.value===!0&&e.noFocus!==!0&&Kt(y.value,b.target)!==!0&&U()}function X(b){i("escapeKey"),V(b)}function H(){tt({targetEl:y.value,offset:e.offset,anchorEl:$.value,anchorOrigin:K.value,selfOrigin:ue.value,absoluteOffset:g,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function me(){return q(jt,E.value,()=>m.value===!0?q("div",{role:"menu",...l,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+ce.value,l.class],style:[l.style,k.value],...O.value},Dt(o.default)):null)}return se(te),Object.assign(d,{focus:U,updatePosition:H}),ee}}),pl={xs:8,sm:10,md:14,lg:20,xl:24},Sl=Te({name:"QChip",props:{...we,...Qt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:i}){const{proxy:{$q:l}}=Z(),t=Me(e,l),g=Ut(e,pl),s=u(()=>e.selected===!0||e.icon!==void 0),c=u(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),x=u(()=>e.iconRemove||l.iconSet.chip.remove),d=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=u(()=>{const v=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(d.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(t.value===!0?" q-chip--dark q-dark":"")}),y=u(()=>{const v=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},M={...v,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:v,remove:M}});function m(v){v.keyCode===13&&a(v)}function a(v){e.disable||(i("update:selected",!e.selected),i("click",v))}function r(v){(v.keyCode===void 0||v.keyCode===13)&&($e(v),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function w(){const v=[];d.value===!0&&v.push(q("div",{class:"q-focus-helper"})),s.value===!0&&v.push(q(pe,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const M=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return v.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Yt(o.default,M))),e.iconRight&&v.push(q(pe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&v.push(q(pe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:x.value,...y.value.remove,onClick:r,onKeyup:r})),v}return()=>{if(e.modelValue===!1)return;const v={class:f.value,style:g.value};return d.value===!0&&Object.assign(v,y.value.chip,{onClick:a,onKeyup:m}),Ye("div",v,w(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Xt,e.ripple]])}}}),Ue={__name:"SettingOptions",props:Gt({isOnlyOneSelected:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,i=Jt(e,"modelValue");function l(s){return s.map(c=>({...c,value:!1}))}function t(s){const c=l(i.value);return i.value[s].value?[...c.slice(0,s),{...i.value[s],value:!0},...c.slice(s+1)]:[...c.slice(0,s),{...i.value[s],value:!1},...c.slice(s+1)]}function g(s){if(o.isOnlyOneSelected){i.value=t(s);return}}return(s,c)=>(J(!0),ne(Ze,null,Ge(i.value,(x,d)=>(J(),Zt(Sl,{key:d,selected:x.value,"onUpdate:selected":f=>x.value=f,color:x.value?"light-green":"green",icon:x.icon,"icon-selected":x.icon,"text-color":"white",onClick:f=>g(d)},{default:oe(()=>[Je(el(x.label),1)]),_:2},1032,["selected","onUpdate:selected","color","icon","icon-selected","onClick"]))),128))}},Cl={class:"notes column flex-center"},ql={class:"row flex-center q-gutter-md q-pb-md"},wl={class:"search"},Ml={class:"q-pa-md column q-gutter-y-md"},Tl={class:"q-gutter-y-sm"},$l={class:"column flex-center filter-option--distance"},Bl={class:"column flex-center filter-option"},_l={class:"row"},Ll={class:"row justify-end"},Vl={class:"row flex-center q-gutter-lg"},El={__name:"NotesView",setup(e){const o=ll(),i=_(!1),l=_(""),t=u(()=>{const m=o.notes.map(a=>a.city);return Array.from(new Set(m))}),g=u(()=>t.value.map(m=>({name:m,label:m,value:!1}))),s=_(null);z(()=>g.value,()=>{s.value=g.value});const c=_(5),x=u(()=>{switch(c.value){case 1:return"100 公尺";case 2:return"300 公尺";case 3:return"500 公尺";case 4:return"1 公里";default:return"所有距離"}}),d=u(()=>{let m=[...o.notesSortedByDistance];l.value&&(m=[...m].filter(r=>r.storeName.includes(l.value))),c.value&&(m=[...m].filter(r=>{const w=al(o.userLocation.lat,o.userLocation.lng,r.location.lat,r.location.lng);switch(c.value){case 1:return w<101;case 2:return w<301;case 3:return w<501;case 4:return w<1001;default:return!0}}));let a;return s.value&&(a=s.value.filter(r=>r.value===!0).map(r=>r.name),a.length>0&&(m=[...m].filter(r=>a.includes(r.city)))),m}),f=_([{name:"total",icon:"star",label:"總分",value:!1},{name:"food",icon:"lunch_dining",label:"餐點",value:!1},{name:"service",icon:"restaurant",label:"服務",value:!1}]),y=u(()=>{const m=f.value.find(a=>a.value);if(m){if(m.name==="total")return[...d.value].sort((a,r)=>{const w=a.foodScore+a.serviceScore;return r.foodScore+r.serviceScore-w});if(m.name==="food")return[...d.value].sort((a,r)=>r.foodScore-a.foodScore);if(m.name==="service")return[...d.value].sort((a,r)=>r.serviceScore-a.serviceScore)}return d.value});return(m,a)=>(J(),ne("div",Cl,[L("div",ql,[L("div",wl,[F(wt,{class:"search__input",outlined:"",dense:"",placeholder:"以店名搜尋",color:"green",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value=r)},null,8,["modelValue"]),F(Ae,{icon:"tune",round:"",flat:"",color:"green"},{default:oe(()=>[F(yl,{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=r=>i.value=r),anchor:"bottom right",self:"top right"},{default:oe(()=>[L("div",Ml,[L("div",null,[a[8]||(a[8]=L("div",{class:"text-md text-grey-8 q-mb-sm"},"選擇排序方式",-1)),F(Ue,{isOnlyOneSelected:!0,modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=r=>f.value=r)},null,8,["modelValue"])]),F(Mt),L("div",null,[a[11]||(a[11]=L("div",{class:"text-md text-grey-8 q-mb-md"},"選擇篩選方式",-1)),L("div",Tl,[L("div",$l,[a[9]||(a[9]=L("div",{class:"text-md text-grey-8 q-mb-sm"},"依距離",-1)),F(cl,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=r=>c.value=r),color:"green",markers:"",snap:"",label:"","label-always":"","label-value":x.value,min:1,max:5,step:1},null,8,["modelValue","label-value"])]),L("div",Bl,[a[10]||(a[10]=L("div",{class:"text-md text-grey-8 q-mb-sm"},"依城市",-1)),L("div",_l,[F(Ue,{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=r=>s.value=r)},null,8,["modelValue"])])])])]),L("div",Ll,[F(Ae,{flat:"",size:"md","text-color":"green",onClick:a[4]||(a[4]=r=>i.value=!1)},{default:oe(()=>a[12]||(a[12]=[Je("確定")])),_:1})])])]),_:1},8,["modelValue"])]),_:1})])]),L("div",Vl,[(J(!0),ne(Ze,null,Ge(y.value,(r,w)=>(J(),ne("div",{class:"note",key:r.id},[F(Tt,{noteInput:y.value[w],"onUpdate:note":a[6]||(a[6]=v=>He(o).updateNote(v)),"onDelete:note":a[7]||(a[7]=v=>He(o).deleteNote(v))},null,8,["noteInput"])]))),128))])]))}},Pl=tl(El,[["__scopeId","data-v-b5ea506d"]]);export{Pl as default};
