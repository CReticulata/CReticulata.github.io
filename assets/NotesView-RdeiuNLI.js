import{u as vt,a as ft,b as mt,p as Be,c as ht,d as gt,e as bt,f as pt,r as Ee,g as xt,h as kt,i as yt,j as Ct,Q as St,k as Mt,l as wt,N as Tt}from"./Note-BSiIM1sC.js";import{u as Oe,g as se,a as je,r as L,c as u,i as qt,b as ke,T as $t,o as ie,d as O,p as Ke,h as T,e as Lt,f as Qe,w as R,s as Ue,j as _e,k as Bt,l as Ve,n as Et,m as _t,q as Vt,t as Ft,v as Ce,x as Pt,y as Ht,z as Nt,A as Rt,B as At,C as zt,D as Wt,E as It,F as Dt,G as Ot,H as jt,I as Kt,J as Qt,K as Ut,L as ae,M as J,N as Xe,O as Xt,P as ne,Q as Ye,R as Yt,S as Ge,_ as Gt,U as Jt,V as Zt,W as B,X as P,Y as Fe,Z as Pe}from"./index-Ck0fXqoL.js";const He="q-slider__marker-labels",el=t=>({value:t}),tl=({marker:t})=>T("div",{key:t.value,style:t.style,class:t.classes},t.label),Je=[34,37,40,33,39,38],ll={...Oe,...vt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},al=["pan","update:modelValue","change"];function nl({updateValue:t,updatePosition:o,getDragging:i,formAttrs:a}){const{props:e,emit:g,slots:s,proxy:{$q:c}}=se(),b=je(e,c),f=ft(a),d=L(!1),C=L(!1),v=L(!1),l=L(!1),r=u(()=>e.vertical===!0?"--v":"--h"),M=u(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),S=u(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(c.lang.rtl===!0)),E=u(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),V=u(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),p=u(()=>e.disable!==!0&&e.readonly!==!0&&E.value<V.value),w=u(()=>{if(e.step===0)return m=>m;const n=(String(e.step).trim().split(".")[1]||"").length;return m=>parseFloat(m.toFixed(n))}),x=u(()=>e.step===0?1:e.step),H=u(()=>p.value===!0?e.tabindex||0:-1),q=u(()=>e.max-e.min),F=u(()=>V.value-E.value),_=u(()=>G(E.value)),I=u(()=>G(V.value)),A=u(()=>e.vertical===!0?S.value===!0?"bottom":"top":S.value===!0?"right":"left"),Z=u(()=>e.vertical===!0?"height":"width"),j=u(()=>e.vertical===!0?"width":"height"),K=u(()=>e.vertical===!0?"vertical":"horizontal"),ue=u(()=>{const n={role:"slider","aria-valuemin":E.value,"aria-valuemax":V.value,"aria-orientation":K.value,"data-step":e.step};return e.disable===!0?n["aria-disabled"]="true":e.readonly===!0&&(n["aria-readonly"]="true"),n}),ce=u(()=>`q-slider q-slider${r.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(p.value===!0?" q-slider--editable":""))+(v.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(b.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+r.value:""));function D(n){const m="q-slider__"+n;return`${m} ${m}${r.value} ${m}${r.value}${M.value}`}function Q(n){const m="q-slider__"+n;return`${m} ${m}${r.value}`}const U=u(()=>{const n=e.selectionColor||e.color;return"q-slider__selection absolute"+(n!==void 0?` text-${n}`:"")}),de=u(()=>Q("markers")+" absolute overflow-hidden"),ve=u(()=>Q("track-container")),ee=u(()=>D("pin")),te=u(()=>D("label")),fe=u(()=>D("text-container")),le=u(()=>D("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),X=u(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),z=u(()=>{const n={[j.value]:e.trackSize};return e.trackImg!==void 0&&(n.backgroundImage=`url(${e.trackImg}) !important`),n}),me=u(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),h=u(()=>{const n=I.value-_.value,m={[A.value]:`${100*_.value}%`,[Z.value]:n===0?"2px":`${100*n}%`};return e.innerTrackImg!==void 0&&(m.backgroundImage=`url(${e.innerTrackImg}) !important`),m});function Y(n){const{min:m,max:k,step:y}=e;let $=m+n*(k-m);if(y>0){const N=($-E.value)%y;$+=(Math.abs(N)>=y/2?(N<0?-1:1)*y:0)-N}return $=w.value($),O($,E.value,V.value)}function G(n){return q.value===0?0:(n-e.min)/q.value}function he(n,m){const k=Ke(n),y=e.vertical===!0?O((k.top-m.top)/m.height,0,1):O((k.left-m.left)/m.width,0,1);return O(S.value===!0?1-y:y,_.value,I.value)}const Me=u(()=>qt(e.markers)===!0?e.markers:x.value),we=u(()=>{const n=[],m=Me.value,k=e.max;let y=e.min;do n.push(y),y+=m;while(y<k);return n.push(k),n}),Te=u(()=>{const n=` ${He}${r.value}-`;return He+`${n}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${n}${S.value===!0?"rtl":"ltr"}`}),ge=u(()=>e.markerLabels===!1?null:tt(e.markerLabels).map((n,m)=>({index:m,value:n.value,label:n.label||n.value,classes:Te.value+(n.classes!==void 0?" "+n.classes:""),style:{...$e(n.value),...n.style||{}}}))),qe=u(()=>({markerList:ge.value,markerMap:lt.value,classes:Te.value,getStyle:$e})),et=u(()=>{const n=F.value===0?"2px":100*Me.value/F.value;return{...h.value,backgroundSize:e.vertical===!0?`2px ${n}%`:`${n}% 2px`}});function tt(n){if(n===!1)return null;if(n===!0)return we.value.map(el);if(typeof n=="function")return we.value.map(k=>{const y=n(k);return ke(y)===!0?{...y,value:k}:{value:k,label:y}});const m=({value:k})=>k>=e.min&&k<=e.max;return Array.isArray(n)===!0?n.map(k=>ke(k)===!0?k:{value:k}).filter(m):Object.keys(n).map(k=>{const y=n[k],$=Number(k);return ke(y)===!0?{...y,value:$}:{value:$,label:y}}).filter(m)}function $e(n){return{[A.value]:`${100*(n-e.min)/q.value}%`}}const lt=u(()=>{if(e.markerLabels===!1)return null;const n={};return ge.value.forEach(m=>{n[m.value]=m}),n});function at(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](qe.value);const n=s["marker-label"]||tl;return ge.value.map(m=>n({marker:m,...qe.value}))}const nt=u(()=>[[$t,ot,void 0,{[K.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ot(n){n.isFinal===!0?(l.value!==void 0&&(o(n.evt),n.touch===!0&&t(!0),l.value=void 0,g("pan","end")),d.value=!1,v.value=!1):n.isFirst===!0?(l.value=i(n.evt),o(n.evt),t(),d.value=!0,g("pan","start")):(o(n.evt),t())}function Le(){v.value=!1}function rt(n){o(n,i(n)),t(),C.value=!0,d.value=!0,document.addEventListener("mouseup",be,!0)}function be(){C.value=!1,d.value=!1,t(!0),Le(),document.removeEventListener("mouseup",be,!0)}function st(n){o(n,i(n)),t(!0)}function it(n){Je.includes(n.keyCode)&&t(!0)}function ut(n){if(e.vertical===!0)return null;const m=c.lang.rtl!==e.reverse?1-n:n;return{transform:`translateX(calc(${2*m-1} * ${e.thumbSize} / 2 + ${50-100*m}%))`}}function ct(n){const m=u(()=>C.value===!1&&(v.value===n.focusValue||v.value==="both")?" q-slider--focus":""),k=u(()=>`q-slider__thumb q-slider__thumb${r.value} q-slider__thumb${r.value}-${S.value===!0?"rtl":"ltr"} absolute non-selectable`+m.value+(n.thumbColor.value!==void 0?` text-${n.thumbColor.value}`:"")),y=u(()=>({width:e.thumbSize,height:e.thumbSize,[A.value]:`${100*n.ratio.value}%`,zIndex:v.value===n.focusValue?2:void 0})),$=u(()=>n.labelColor.value!==void 0?` text-${n.labelColor.value}`:""),N=u(()=>ut(n.ratio.value)),pe=u(()=>"q-slider__text"+(n.labelTextColor.value!==void 0?` text-${n.labelTextColor.value}`:""));return()=>{const xe=[T("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[T("path",{d:e.thumbPath})]),T("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(xe.push(T("div",{class:ee.value+" absolute fit no-pointer-events"+$.value},[T("div",{class:te.value,style:{minWidth:e.thumbSize}},[T("div",{class:fe.value,style:N.value},[T("span",{class:pe.value},n.label.value)])])])),e.name!==void 0&&e.disable!==!0&&f(xe,"push")),T("div",{class:k.value,style:y.value,...n.getNodeData()},xe)}}function dt(n,m,k,y){const $=[];e.innerTrackColor!=="transparent"&&$.push(T("div",{key:"inner",class:me.value,style:h.value})),e.selectionColor!=="transparent"&&$.push(T("div",{key:"selection",class:U.value,style:n.value})),e.markers!==!1&&$.push(T("div",{key:"marker",class:de.value,style:et.value})),y($);const N=[Lt("div",{key:"trackC",class:ve.value,tabindex:m.value,...k.value},[T("div",{class:X.value,style:z.value},$)],"slide",p.value,()=>nt.value)];if(e.markerLabels!==!1){const pe=e.switchMarkerLabelsSide===!0?"unshift":"push";N[pe](T("div",{key:"markerL",class:le.value},at()))}return N}return ie(()=>{document.removeEventListener("mouseup",be,!0)}),{state:{active:d,focus:v,preventFocus:C,dragging:l,editable:p,classes:ce,tabindex:H,attributes:ue,roundValueFn:w,keyStep:x,trackLen:q,innerMin:E,innerMinRatio:_,innerMax:V,innerMaxRatio:I,positionProp:A,sizeProp:Z,isReversed:S},methods:{onActivate:rt,onMobileClick:st,onBlur:Le,onKeyup:it,getContent:dt,getThumbRenderFn:ct,convertRatioToModel:Y,convertModelToRatio:G,getDraggingRatio:he}}}const ol=()=>({}),rl=Qe({name:"QSlider",props:{...ll,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:al,setup(t,{emit:o}){const{proxy:{$q:i}}=se(),{state:a,methods:e}=nl({updateValue:r,updatePosition:S,getDragging:M,formAttrs:mt(t)}),g=L(null),s=L(0),c=L(0);function b(){c.value=t.modelValue===null?a.innerMin.value:O(t.modelValue,a.innerMin.value,a.innerMax.value)}R(()=>`${t.modelValue}|${a.innerMin.value}|${a.innerMax.value}`,b),b();const f=u(()=>e.convertModelToRatio(c.value)),d=u(()=>a.active.value===!0?s.value:f.value),C=u(()=>{const p={[a.positionProp.value]:`${100*a.innerMinRatio.value}%`,[a.sizeProp.value]:`${100*(d.value-a.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(p.backgroundImage=`url(${t.selectionImg}) !important`),p}),v=e.getThumbRenderFn({focusValue:!0,getNodeData:ol,ratio:d,label:u(()=>t.labelValue!==void 0?t.labelValue:c.value),thumbColor:u(()=>t.thumbColor||t.color),labelColor:u(()=>t.labelColor),labelTextColor:u(()=>t.labelTextColor)}),l=u(()=>a.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:E,onBlur:e.onBlur,onKeydown:V,onKeyup:e.onKeyup});function r(p){c.value!==t.modelValue&&o("update:modelValue",c.value),p===!0&&o("change",c.value)}function M(){return g.value.getBoundingClientRect()}function S(p,w=a.dragging.value){const x=e.getDraggingRatio(p,w);c.value=e.convertRatioToModel(x),s.value=t.snap!==!0||t.step===0?x:e.convertModelToRatio(c.value)}function E(){a.focus.value=!0}function V(p){if(Je.includes(p.keyCode)===!1)return;Ue(p);const w=([34,33].includes(p.keyCode)?10:1)*a.keyStep.value,x=([34,37,40].includes(p.keyCode)?-1:1)*(a.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*w;c.value=O(a.roundValueFn.value(c.value+x),a.innerMin.value,a.innerMax.value),r()}return()=>{const p=e.getContent(C,a.tabindex,l,w=>{w.push(v())});return T("div",{ref:g,class:a.classes.value+(t.modelValue===null?" q-slider--no-value":""),...a.attributes.value,"aria-valuenow":t.modelValue},p)}}}),sl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},il={...sl,contextMenu:Boolean};function ul({showing:t,avoidEmit:o,configureAnchorEl:i}){const{props:a,proxy:e,emit:g}=se(),s=L(null);let c=null;function b(l){return s.value===null?!1:l===void 0||l.touches===void 0||l.touches.length<=1}const f={};i===void 0&&(Object.assign(f,{hide(l){e.hide(l)},toggle(l){e.toggle(l),l.qAnchorHandled=!0},toggleKey(l){_t(l,13)===!0&&f.toggle(l)},contextClick(l){e.hide(l),_e(l),Et(()=>{e.show(l),l.qAnchorHandled=!0})},prevent:_e,mobileTouch(l){if(f.mobileCleanup(l),b(l)!==!0)return;e.hide(l),s.value.classList.add("non-selectable");const r=l.target;Ve(f,"anchor",[[r,"touchmove","mobileCleanup","passive"],[r,"touchend","mobileCleanup","passive"],[r,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{c=null,e.show(l),l.qAnchorHandled=!0},300)},mobileCleanup(l){s.value.classList.remove("non-selectable"),c!==null&&(clearTimeout(c),c=null),t.value===!0&&l!==void 0&&Bt()}}),i=function(l=a.contextMenu){if(a.noParentEvent===!0||s.value===null)return;let r;l===!0?e.$q.platform.is.mobile===!0?r=[[s.value,"touchstart","mobileTouch","passive"]]:r=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:r=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],Ve(f,"anchor",r)});function d(){Ft(f,"anchor")}function C(l){for(s.value=l;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;i()}function v(){if(a.target===!1||a.target===""||e.$el.parentNode===null)s.value=null;else if(a.target===!0)C(e.$el.parentNode);else{let l=a.target;if(typeof a.target=="string")try{l=document.querySelector(a.target)}catch{l=void 0}l!=null?(s.value=l.$el||l,i()):(s.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return R(()=>a.contextMenu,l=>{s.value!==null&&(d(),i(l))}),R(()=>a.target,()=>{s.value!==null&&d(),v()}),R(()=>a.noParentEvent,l=>{s.value!==null&&(l===!0?d():i())}),Vt(()=>{v(),o!==!0&&a.modelValue===!0&&s.value===null&&g("update:modelValue",!1)}),ie(()=>{c!==null&&clearTimeout(c),d()}),{anchorEl:s,canShow:b,anchorEvents:f}}function cl(t,o){const i=L(null);let a;function e(c,b){const f=`${b!==void 0?"add":"remove"}EventListener`,d=b!==void 0?b:a;c!==window&&c[f]("scroll",d,Ce.passive),window[f]("scroll",d,Ce.passive),a=b}function g(){i.value!==null&&(e(i.value),i.value=null)}const s=R(()=>t.noParentEvent,()=>{i.value!==null&&(g(),o())});return ie(s),{localScrollTarget:i,unconfigureScrollTarget:g,changeScrollEvent:e}}const{notPassiveCapture:oe}=Ce,W=[];function re(t){const o=t.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let i=Be.length-1;for(;i>=0;){const a=Be[i].$;if(a.type.name==="QTooltip"){i--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;i--}for(let a=W.length-1;a>=0;a--){const e=W[a];if((e.anchorEl.value===null||e.anchorEl.value.contains(o)===!1)&&(o===document.body||e.innerRef.value!==null&&e.innerRef.value.contains(o)===!1))t.qClickOutside=!0,e.onClickOutside(t);else return}}function dl(t){W.push(t),W.length===1&&(document.addEventListener("mousedown",re,oe),document.addEventListener("touchstart",re,oe))}function Ne(t){const o=W.findIndex(i=>i===t);o!==-1&&(W.splice(o,1),W.length===0&&(document.removeEventListener("mousedown",re,oe),document.removeEventListener("touchstart",re,oe)))}let Re,Ae;function ze(t){const o=t.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function vl(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const Se={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{Se[`${t}#ltr`]=t,Se[`${t}#rtl`]=t});function We(t,o){const i=t.split(" ");return{vertical:i[0],horizontal:Se[`${i[1]}#${o===!0?"rtl":"ltr"}`]}}function fl(t,o){let{top:i,left:a,right:e,bottom:g,width:s,height:c}=t.getBoundingClientRect();return o!==void 0&&(i-=o[1],a-=o[0],g+=o[1],e+=o[0],s+=o[0],c+=o[1]),{top:i,bottom:g,height:c,left:a,right:e,width:s,middle:a+(e-a)/2,center:i+(g-i)/2}}function ml(t,o,i){let{top:a,left:e}=t.getBoundingClientRect();return a+=o.top,e+=o.left,i!==void 0&&(a+=i[1],e+=i[0]),{top:a,bottom:a+1,height:1,left:e,right:e+1,width:1,middle:e,center:a}}function hl(t,o){return{top:0,center:o/2,bottom:o,left:0,middle:t/2,right:t}}function Ie(t,o,i,a){return{top:t[i.vertical]-o[a.vertical],left:t[i.horizontal]-o[a.horizontal]}}function Ze(t,o=0){if(t.targetEl===null||t.anchorEl===null||o>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{Ze(t,o+1)},10);return}const{targetEl:i,offset:a,anchorEl:e,anchorOrigin:g,selfOrigin:s,absoluteOffset:c,fit:b,cover:f,maxHeight:d,maxWidth:C}=t;if(Pt.is.ios===!0&&window.visualViewport!==void 0){const H=document.body.style,{offsetLeft:q,offsetTop:F}=window.visualViewport;q!==Re&&(H.setProperty("--q-pe-left",q+"px"),Re=q),F!==Ae&&(H.setProperty("--q-pe-top",F+"px"),Ae=F)}const{scrollLeft:v,scrollTop:l}=i,r=c===void 0?fl(e,f===!0?[0,0]:a):ml(e,c,a);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:C,maxHeight:d,visibility:"visible"});const{offsetWidth:M,offsetHeight:S}=i,{elWidth:E,elHeight:V}=b===!0||f===!0?{elWidth:Math.max(r.width,M),elHeight:f===!0?Math.max(r.height,S):S}:{elWidth:M,elHeight:S};let p={maxWidth:C,maxHeight:d};(b===!0||f===!0)&&(p.minWidth=r.width+"px",f===!0&&(p.minHeight=r.height+"px")),Object.assign(i.style,p);const w=hl(E,V);let x=Ie(r,w,g,s);if(c===void 0||a===void 0)ye(x,r,w,g,s);else{const{top:H,left:q}=x;ye(x,r,w,g,s);let F=!1;if(x.top!==H){F=!0;const _=2*a[1];r.center=r.top-=_,r.bottom-=_+2}if(x.left!==q){F=!0;const _=2*a[0];r.middle=r.left-=_,r.right-=_+2}F===!0&&(x=Ie(r,w,g,s),ye(x,r,w,g,s))}p={top:x.top+"px",left:x.left+"px"},x.maxHeight!==void 0&&(p.maxHeight=x.maxHeight+"px",r.height>x.maxHeight&&(p.minHeight=p.maxHeight)),x.maxWidth!==void 0&&(p.maxWidth=x.maxWidth+"px",r.width>x.maxWidth&&(p.minWidth=p.maxWidth)),Object.assign(i.style,p),i.scrollTop!==l&&(i.scrollTop=l),i.scrollLeft!==v&&(i.scrollLeft=v)}function ye(t,o,i,a,e){const g=i.bottom,s=i.right,c=Ht(),b=window.innerHeight-c,f=document.body.clientWidth;if(t.top<0||t.top+g>b)if(e.vertical==="center")t.top=o[a.vertical]>b/2?Math.max(0,b-g):0,t.maxHeight=Math.min(g,b);else if(o[a.vertical]>b/2){const d=Math.min(b,a.vertical==="center"?o.center:a.vertical===e.vertical?o.bottom:o.top);t.maxHeight=Math.min(g,d),t.top=Math.max(0,d-g)}else t.top=Math.max(0,a.vertical==="center"?o.center:a.vertical===e.vertical?o.top:o.bottom),t.maxHeight=Math.min(g,b-t.top);if(t.left<0||t.left+s>f)if(t.maxWidth=Math.min(s,f),e.horizontal==="middle")t.left=o[a.horizontal]>f/2?Math.max(0,f-s):0;else if(o[a.horizontal]>f/2){const d=Math.min(f,a.horizontal==="middle"?o.middle:a.horizontal===e.horizontal?o.right:o.left);t.maxWidth=Math.min(s,d),t.left=Math.max(0,d-t.maxWidth)}else t.left=Math.max(0,a.horizontal==="middle"?o.middle:a.horizontal===e.horizontal?o.left:o.right),t.maxWidth=Math.min(s,f-t.left)}const gl=Qe({name:"QMenu",inheritAttrs:!1,props:{...il,...At,...Oe,...ht,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ze},self:{type:String,validator:ze},offset:{type:Array,validator:vl},scrollTarget:Rt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Nt,"click","escapeKey"],setup(t,{slots:o,emit:i,attrs:a}){let e=null,g,s,c;const b=se(),{proxy:f}=b,{$q:d}=f,C=L(null),v=L(!1),l=u(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),r=je(t,d),{registerTick:M,removeTick:S}=zt(),{registerTimeout:E}=Wt(),{transitionProps:V,transitionStyle:p}=gt(t),{localScrollTarget:w,changeScrollEvent:x,unconfigureScrollTarget:H}=cl(t,te),{anchorEl:q,canShow:F}=ul({showing:v}),{hide:_}=It({showing:v,canShow:F,handleShow:de,handleHide:ve,hideOnRouteChange:l,processOnMount:!0}),{showPortal:I,hidePortal:A,renderPortal:Z}=bt(b,C,me,"menu"),j={anchorEl:q,innerRef:C,onClickOutside(h){if(t.persistent!==!0&&v.value===!0)return _(h),(h.type==="touchstart"||h.target.classList.contains("q-dialog__backdrop"))&&Ue(h),!0}},K=u(()=>We(t.anchor||(t.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ue=u(()=>t.cover===!0?K.value:We(t.self||"top start",d.lang.rtl)),ce=u(()=>(t.square===!0?" q-menu--square":"")+(r.value===!0?" q-menu--dark q-dark":"")),D=u(()=>t.autoClose===!0?{onClick:fe}:{}),Q=u(()=>v.value===!0&&t.persistent!==!0);R(Q,h=>{h===!0?(pt(X),dl(j)):(Ee(X),Ne(j))});function U(){Ct(()=>{let h=C.value;h&&h.contains(document.activeElement)!==!0&&(h=h.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||h.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||h.querySelector("[autofocus], [data-autofocus]")||h,h.focus({preventScroll:!0}))})}function de(h){if(e=t.noRefocus===!1?document.activeElement:null,xt(le),I(),te(),g=void 0,h!==void 0&&(t.touchPosition||t.contextMenu)){const Y=Ke(h);if(Y.left!==void 0){const{top:G,left:he}=q.value.getBoundingClientRect();g={left:Y.left-he,top:Y.top-G}}}s===void 0&&(s=R(()=>d.screen.width+"|"+d.screen.height+"|"+t.self+"|"+t.anchor+"|"+d.lang.rtl,z)),t.noFocus!==!0&&document.activeElement.blur(),M(()=>{z(),t.noFocus!==!0&&U()}),E(()=>{d.platform.is.ios===!0&&(c=t.autoClose,C.value.click()),z(),I(!0),i("show",h)},t.transitionDuration)}function ve(h){S(),A(),ee(!0),e!==null&&(h===void 0||h.qClickOutside!==!0)&&(((h&&h.type.indexOf("key")===0?e.closest('[tabindex]:not([tabindex^="-"])'):void 0)||e).focus(),e=null),E(()=>{A(!0),i("hide",h)},t.transitionDuration)}function ee(h){g=void 0,s!==void 0&&(s(),s=void 0),(h===!0||v.value===!0)&&(kt(le),H(),Ne(j),Ee(X)),h!==!0&&(e=null)}function te(){(q.value!==null||t.scrollTarget!==void 0)&&(w.value=Dt(q.value,t.scrollTarget),x(w.value,z))}function fe(h){c!==!0?(yt(f,h),i("click",h)):c=!1}function le(h){Q.value===!0&&t.noFocus!==!0&&Kt(C.value,h.target)!==!0&&U()}function X(h){i("escapeKey"),_(h)}function z(){Ze({targetEl:C.value,offset:t.offset,anchorEl:q.value,anchorOrigin:K.value,selfOrigin:ue.value,absoluteOffset:g,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function me(){return T(jt,V.value,()=>v.value===!0?T("div",{role:"menu",...a,ref:C,tabindex:-1,class:["q-menu q-position-engine scroll"+ce.value,a.class],style:[a.style,p.value],...D.value},Ot(o.default)):null)}return ie(ee),Object.assign(f,{focus:U,updatePosition:z}),Z}}),De={__name:"SettingOptions",props:Qt({isOnlyOneSelected:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,i=Ut(t,"modelValue");function a(s){return s.map(c=>({...c,value:!1}))}function e(s){const c=a(i.value);return i.value[s].value?[...c.slice(0,s),{...i.value[s],value:!0},...c.slice(s+1)]:[...c.slice(0,s),{...i.value[s],value:!1},...c.slice(s+1)]}function g(s){if(o.isOnlyOneSelected){i.value=e(s);return}}return(s,c)=>(J(!0),ae(Ge,null,Xe(i.value,(b,f)=>(J(),Xt(St,{key:f,selected:b.value,"onUpdate:selected":d=>b.value=d,color:b.value?"light-green":"green",icon:b.icon,"icon-selected":b.icon,"text-color":"white",onClick:d=>g(f)},{default:ne(()=>[Ye(Yt(b.label),1)]),_:2},1032,["selected","onUpdate:selected","color","icon","icon-selected","onClick"]))),128))}},bl={class:"notes column flex-center"},pl={class:"row flex-center q-gutter-md q-pb-md"},xl={class:"search"},kl={class:"q-pa-md column q-gutter-y-md"},yl={class:"q-gutter-y-sm"},Cl={class:"column flex-center filter-option--distance"},Sl={class:"column flex-center filter-option"},Ml={class:"row"},wl={class:"row justify-end"},Tl={class:"row flex-center q-gutter-lg"},ql={__name:"NotesView",setup(t){const o=Jt(),i=L(!1),a=L(""),e=u(()=>{const v=o.notes.map(l=>l.city);return Array.from(new Set(v))}),g=u(()=>e.value.map(v=>({name:v,label:v,value:!1}))),s=L(null);R(()=>g.value,()=>{s.value=g.value});const c=L(5),b=u(()=>{switch(c.value){case 1:return"100 公尺";case 2:return"300 公尺";case 3:return"500 公尺";case 4:return"1 公里";default:return"所有距離"}}),f=u(()=>{let v=[...o.notesSortedByDistance];a.value&&(v=[...v].filter(r=>r.storeName.includes(a.value))),c.value&&(v=[...v].filter(r=>{const M=Zt(o.userLocation.lat,o.userLocation.lng,r.location.lat,r.location.lng);switch(c.value){case 1:return M<101;case 2:return M<301;case 3:return M<501;case 4:return M<1001;default:return!0}}));let l;return s.value&&(l=s.value.filter(r=>r.value===!0).map(r=>r.name),l.length>0&&(v=[...v].filter(r=>l.includes(r.city)))),v}),d=L([{name:"total",icon:"star",label:"總分",value:!1},{name:"food",icon:"lunch_dining",label:"餐點",value:!1},{name:"service",icon:"restaurant",label:"服務",value:!1}]),C=u(()=>{const v=d.value.find(l=>l.value);if(v){if(v.name==="total")return[...f.value].sort((l,r)=>{const M=l.foodScore+l.serviceScore;return r.foodScore+r.serviceScore-M});if(v.name==="food")return[...f.value].sort((l,r)=>r.foodScore-l.foodScore);if(v.name==="service")return[...f.value].sort((l,r)=>r.serviceScore-l.serviceScore)}return f.value});return(v,l)=>(J(),ae("div",bl,[B("div",pl,[B("div",xl,[P(Mt,{class:"search__input",outlined:"",dense:"",placeholder:"以店名搜尋",color:"green",modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r)},null,8,["modelValue"]),P(Fe,{icon:"tune",round:"",flat:"",color:"green"},{default:ne(()=>[P(gl,{modelValue:i.value,"onUpdate:modelValue":l[5]||(l[5]=r=>i.value=r),anchor:"bottom right",self:"top right"},{default:ne(()=>[B("div",kl,[B("div",null,[l[8]||(l[8]=B("div",{class:"text-md text-grey-8 q-mb-sm"},"選擇排序方式",-1)),P(De,{isOnlyOneSelected:!0,modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=r=>d.value=r)},null,8,["modelValue"])]),P(wt),B("div",null,[l[11]||(l[11]=B("div",{class:"text-md text-grey-8 q-mb-md"},"選擇篩選方式",-1)),B("div",yl,[B("div",Cl,[l[9]||(l[9]=B("div",{class:"text-md text-grey-8 q-mb-sm"},"依距離",-1)),P(rl,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=r=>c.value=r),color:"green",markers:"",snap:"",label:"","label-always":"","label-value":b.value,min:1,max:5,step:1},null,8,["modelValue","label-value"])]),B("div",Sl,[l[10]||(l[10]=B("div",{class:"text-md text-grey-8 q-mb-sm"},"依城市",-1)),B("div",Ml,[P(De,{modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=r=>s.value=r)},null,8,["modelValue"])])])])]),B("div",wl,[P(Fe,{flat:"",size:"md","text-color":"green",onClick:l[4]||(l[4]=r=>i.value=!1)},{default:ne(()=>l[12]||(l[12]=[Ye("確定")])),_:1})])])]),_:1},8,["modelValue"])]),_:1})])]),B("div",Tl,[(J(!0),ae(Ge,null,Xe(C.value,(r,M)=>(J(),ae("div",{class:"note",key:r.id},[P(Tt,{noteInput:C.value[M],"onUpdate:note":l[6]||(l[6]=S=>Pe(o).updateNote(S)),"onDelete:note":l[7]||(l[7]=S=>Pe(o).deleteNote(S))},null,8,["noteInput"])]))),128))])]))}},Bl=Gt(ql,[["__scopeId","data-v-b5ea506d"]]);export{Bl as default};
