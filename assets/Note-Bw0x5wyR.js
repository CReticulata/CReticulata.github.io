import{f as Ie,u as ft,a as dt,g as Ee,c as V,h as z,a8 as Mt,a9 as $t,e as Ot,a5 as ln,a1 as Ce,aa as sn,s as Ne,r as ae,ab as un,ac as Bt,d as cn,ad as fn,ae as dn,G as Ye,o as ht,H as Vt,af as hn,z as vn,B as gn,ag as Dt,E as mn,w as Ae,ah as bn,a3 as yn,a2 as Ve,ai as pn,a4 as bt,aj as wn,x as An,ak as xn,al as _n,j as Sn,am as Cn,m as In,D as kn,an as Un,ao as Fn,ap as En,aq as Pn,ar as Ct,as as Tn,q as Nt,i as qn,a0 as oe,at as Ln,au as Rn,_ as Ht,av as Mn,L as it,M as be,Z as H,P as It,Q as kt,N as Fe,R as j,aw as $n,Y as fe,ax as On,ay as zt,az as Bn,V as Vn,W as Dn,X as Ut,O as yt,U as rt,S as ze,$ as Nn}from"./index-CX8msKT7.js";import{u as Qt,b as Hn,a as zn,o as Qn,k as Ft,q as jn,s as Wn,t as Kn,v as Gn,w as Yn,x as Et,y as Zn,z as Xn,A as Jn,l as tt,m as je,n as Ue,B as er,Q as Pt}from"./QDialog-4PX8tTqy.js";const tr={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},pt={xs:2,sm:4,md:8,lg:16,xl:24},We=Ie({name:"QSeparator",props:{...ft,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(n){const C=Ee(),q=dt(n,C.proxy.$q),c=V(()=>n.vertical===!0?"vertical":"horizontal"),e=V(()=>` q-separator--${c.value}`),t=V(()=>n.inset!==!1?`${e.value}-${tr[n.inset]}`:""),d=V(()=>`q-separator${e.value}${t.value}`+(n.color!==void 0?` bg-${n.color}`:"")+(q.value===!0?" q-separator--dark":"")),l=V(()=>{const g={};if(n.size!==void 0&&(g[n.vertical===!0?"width":"height"]=n.size),n.spaced!==!1){const x=n.spaced===!0?`${pt.md}px`:n.spaced in pt?`${pt[n.spaced]}px`:n.spaced,a=n.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${a[0]}`]=g[`margin${a[1]}`]=x}return g});return()=>z("hr",{class:d.value,style:l.value,"aria-orientation":c.value})}}),nr={xs:8,sm:10,md:14,lg:20,xl:24},jt=Ie({name:"QChip",props:{...ft,...Mt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(n,{slots:C,emit:q}){const{proxy:{$q:c}}=Ee(),e=dt(n,c),t=$t(n,nr),d=V(()=>n.selected===!0||n.icon!==void 0),l=V(()=>n.selected===!0?n.iconSelected||c.iconSet.chip.selected:n.icon),g=V(()=>n.iconRemove||c.iconSet.chip.remove),x=V(()=>n.disable===!1&&(n.clickable===!0||n.selected!==null)),a=V(()=>{const S=n.outline===!0&&n.color||n.textColor;return"q-chip row inline no-wrap items-center"+(n.outline===!1&&n.color!==void 0?` bg-${n.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(n.disable===!0?" disabled":"")+(n.dense===!0?" q-chip--dense":"")+(n.outline===!0?" q-chip--outline":"")+(n.selected===!0?" q-chip--selected":"")+(x.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(n.square===!0?" q-chip--square":"")+(e.value===!0?" q-chip--dark q-dark":"")}),i=V(()=>{const S=n.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0},b={...S,role:"button","aria-hidden":"false","aria-label":n.removeAriaLabel||c.lang.label.remove};return{chip:S,remove:b}});function r(S){S.keyCode===13&&f(S)}function f(S){n.disable||(q("update:selected",!n.selected),q("click",S))}function m(S){(S.keyCode===void 0||S.keyCode===13)&&(Ne(S),n.disable===!1&&(q("update:modelValue",!1),q("remove")))}function A(){const S=[];x.value===!0&&S.push(z("div",{class:"q-focus-helper"})),d.value===!0&&S.push(z(Ce,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const b=n.label!==void 0?[z("div",{class:"ellipsis"},[n.label])]:void 0;return S.push(z("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},sn(C.default,b))),n.iconRight&&S.push(z(Ce,{class:"q-chip__icon q-chip__icon--right",name:n.iconRight})),n.removable===!0&&S.push(z(Ce,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...i.value.remove,onClick:m,onKeyup:m})),S}return()=>{if(n.modelValue===!1)return;const S={class:a.value,style:t.value};return x.value===!0&&Object.assign(S,i.value.chip,{onClick:f,onKeyup:r}),Ot("div",S,A(),"ripple",n.ripple!==!1&&n.disable!==!0,()=>[[ln,n.ripple]])}}}),Tt=Ie({name:"QRating",props:{...Mt,...Qt,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(n,{slots:C,emit:q}){const{proxy:{$q:c}}=Ee(),e=$t(n),t=Hn(n),d=zn(t),l=ae(0);let g={};const x=V(()=>n.readonly!==!0&&n.disable!==!0),a=V(()=>`q-rating row inline items-center q-rating--${x.value===!0?"":"non-"}editable`+(n.noDimming===!0?" q-rating--no-dimming":"")+(n.disable===!0?" disabled":"")+(n.color!==void 0&&Array.isArray(n.color)===!1?` text-${n.color}`:"")),i=V(()=>{const U=Array.isArray(n.icon)===!0?n.icon.length:0,y=Array.isArray(n.iconSelected)===!0?n.iconSelected.length:0,_=Array.isArray(n.iconHalf)===!0?n.iconHalf.length:0,h=Array.isArray(n.color)===!0?n.color.length:0,L=Array.isArray(n.colorSelected)===!0?n.colorSelected.length:0,s=Array.isArray(n.colorHalf)===!0?n.colorHalf.length:0;return{iconLen:U,icon:U>0?n.icon[U-1]:n.icon,selIconLen:y,selIcon:y>0?n.iconSelected[y-1]:n.iconSelected,halfIconLen:_,halfIcon:_>0?n.iconHalf[y-1]:n.iconHalf,colorLen:h,color:h>0?n.color[h-1]:n.color,selColorLen:L,selColor:L>0?n.colorSelected[L-1]:n.colorSelected,halfColorLen:s,halfColor:s>0?n.colorHalf[s-1]:n.colorHalf}}),r=V(()=>{if(typeof n.iconAriaLabel=="string"){const U=n.iconAriaLabel.length!==0?`${n.iconAriaLabel} `:"";return y=>`${U}${y}`}if(Array.isArray(n.iconAriaLabel)===!0){const U=n.iconAriaLabel.length;if(U>0)return y=>n.iconAriaLabel[Math.min(y,U)-1]}return(U,y)=>`${y} ${U}`}),f=V(()=>{const U=[],y=i.value,_=Math.ceil(n.modelValue),h=x.value===!0?0:null,L=n.iconHalf===void 0||_===n.modelValue?-1:_;for(let s=1;s<=n.max;s++){const u=l.value===0&&n.modelValue>=s||l.value>0&&l.value>=s,w=L===s&&l.value<s,I=l.value>0&&(w===!0?_:n.modelValue)>=s&&l.value<s,k=w===!0?s<=y.halfColorLen?n.colorHalf[s-1]:y.halfColor:y.selColor!==void 0&&u===!0?s<=y.selColorLen?n.colorSelected[s-1]:y.selColor:s<=y.colorLen?n.color[s-1]:y.color,F=(w===!0?s<=y.halfIconLen?n.iconHalf[s-1]:y.halfIcon:y.selIcon!==void 0&&(u===!0||I===!0)?s<=y.selIconLen?n.iconSelected[s-1]:y.selIcon:s<=y.iconLen?n.icon[s-1]:y.icon)||c.iconSet.rating.icon;U.push({name:(w===!0?s<=y.halfIconLen?n.iconHalf[s-1]:y.halfIcon:y.selIcon!==void 0&&(u===!0||I===!0)?s<=y.selIconLen?n.iconSelected[s-1]:y.selIcon:s<=y.iconLen?n.icon[s-1]:y.icon)||c.iconSet.rating.icon,attrs:{tabindex:h,role:"radio","aria-checked":n.modelValue===s?"true":"false","aria-label":r.value(s,F)},iconClass:"q-rating__icon"+(u===!0||w===!0?" q-rating__icon--active":"")+(I===!0?" q-rating__icon--exselected":"")+(l.value===s?" q-rating__icon--hovered":"")+(k!==void 0?` text-${k}`:"")})}return U}),m=V(()=>{const U={role:"radiogroup"};return n.disable===!0&&(U["aria-disabled"]="true"),n.readonly===!0&&(U["aria-readonly"]="true"),U});function A(U){if(x.value===!0){const y=cn(parseInt(U,10),1,parseInt(n.max,10)),_=n.noReset!==!0&&n.modelValue===y?0:y;_!==n.modelValue&&q("update:modelValue",_),l.value=0}}function S(U){x.value===!0&&(l.value=U)}function b(U,y){switch(U.keyCode){case 13:case 32:return A(y),Ne(U);case 37:case 40:return g[`rt${y-1}`]&&g[`rt${y-1}`].focus(),Ne(U);case 39:case 38:return g[`rt${y+1}`]&&g[`rt${y+1}`].focus(),Ne(U)}}function E(){l.value=0}return un(()=>{g={}}),()=>{const U=[];return f.value.forEach(({iconClass:y,name:_,attrs:h},L)=>{const s=L+1;U.push(z("div",{key:s,ref:u=>{g[`rt${s}`]=u},class:"q-rating__icon-container flex flex-center",...h,onClick(){A(s)},onMouseover(){S(s)},onMouseout:E,onFocus(){S(s)},onBlur:E,onKeyup(u){b(u,s)}},Bt(C[`tip-${s}`],[z(Ce,{class:y,name:_})])))}),n.name!==void 0&&n.disable!==!0&&d(U,"push"),z("div",{class:a.value,style:e.value,...m.value},U)}}}),et=Ie({name:"QCardActions",props:{...fn,vertical:Boolean},setup(n,{slots:C}){const q=dn(n),c=V(()=>`q-card__actions ${q.value} q-card__actions--${n.vertical===!0?"vert column":"horiz row"}`);return()=>z("div",{class:c.value},Ye(C.default))}}),rr=Ie({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(n,{slots:C,emit:q}){let c=!1,e,t,d=null,l=null,g,x;function a(){e&&e(),e=null,c=!1,d!==null&&(clearTimeout(d),d=null),l!==null&&(clearTimeout(l),l=null),t!==void 0&&t.removeEventListener("transitionend",g),g=null}function i(A,S,b){S!==void 0&&(A.style.height=`${S}px`),A.style.transition=`height ${n.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,e=b}function r(A,S){A.style.overflowY=null,A.style.height=null,A.style.transition=null,a(),S!==x&&q(S)}function f(A,S){let b=0;t=A,c===!0?(a(),b=A.offsetHeight===A.scrollHeight?0:void 0):(x="hide",A.style.overflowY="hidden"),i(A,b,S),d=setTimeout(()=>{d=null,A.style.height=`${A.scrollHeight}px`,g=E=>{l=null,(Object(E)!==E||E.target===A)&&r(A,"show")},A.addEventListener("transitionend",g),l=setTimeout(g,n.duration*1.1)},100)}function m(A,S){let b;t=A,c===!0?a():(x="show",A.style.overflowY="hidden",b=A.scrollHeight),i(A,b,S),d=setTimeout(()=>{d=null,A.style.height=0,g=E=>{l=null,(Object(E)!==E||E.target===A)&&r(A,"hide")},A.addEventListener("transitionend",g),l=setTimeout(g,n.duration*1.1)},100)}return ht(()=>{c===!0&&a()}),()=>z(Vt,{css:!1,appear:n.appear,onEnter:f,onLeave:m},C.default)}}),Be=hn({}),ar=Object.keys(Dt),ir=Ie({name:"QExpansionItem",props:{...Dt,...gn,...ft,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...vn,"click","afterShow","afterHide"],setup(n,{slots:C,emit:q}){const{proxy:{$q:c}}=Ee(),e=dt(n,c),t=ae(n.modelValue!==null?n.modelValue:n.defaultOpened),d=ae(null),l=Qn(),{show:g,hide:x,toggle:a}=mn({showing:t});let i,r;const f=V(()=>`q-expansion-item q-item-type q-expansion-item--${t.value===!0?"expanded":"collapsed"} q-expansion-item--${n.popup===!0?"popup":"standard"}`),m=V(()=>n.contentInsetLevel===void 0?null:{["padding"+(c.lang.rtl===!0?"Right":"Left")]:n.contentInsetLevel*56+"px"}),A=V(()=>n.disable!==!0&&(n.href!==void 0||n.to!==void 0&&n.to!==null&&n.to!=="")),S=V(()=>{const o={};return ar.forEach(R=>{o[R]=n[R]}),o}),b=V(()=>A.value===!0||n.expandIconToggle!==!0),E=V(()=>n.expandedIcon!==void 0&&t.value===!0?n.expandedIcon:n.expandIcon||c.iconSet.expansionItem[n.denseToggle===!0?"denseIcon":"icon"]),U=V(()=>n.disable!==!0&&(A.value===!0||n.expandIconToggle===!0)),y=V(()=>({expanded:t.value===!0,detailsId:l.value,toggle:a,show:g,hide:x})),_=V(()=>{const o=n.toggleAriaLabel!==void 0?n.toggleAriaLabel:c.lang.label[t.value===!0?"collapse":"expand"](n.label);return{role:"button","aria-expanded":t.value===!0?"true":"false","aria-controls":l.value,"aria-label":o}});Ae(()=>n.group,o=>{r!==void 0&&r(),o!==void 0&&I()});function h(o){A.value!==!0&&a(o),q("click",o)}function L(o){o.keyCode===13&&s(o,!0)}function s(o,R){R!==!0&&d.value!==null&&d.value.focus(),a(o),Ne(o)}function u(){q("afterShow")}function w(){q("afterHide")}function I(){i===void 0&&(i=bn()),t.value===!0&&(Be[n.group]=i);const o=Ae(t,T=>{T===!0?Be[n.group]=i:Be[n.group]===i&&delete Be[n.group]}),R=Ae(()=>Be[n.group],(T,$)=>{$===i&&T!==void 0&&T!==i&&x()});r=()=>{o(),R(),Be[n.group]===i&&delete Be[n.group],r=void 0}}function k(){const o={class:[`q-focusable relative-position cursor-pointer${n.denseToggle===!0&&n.switchToggleSide===!0?" items-end":""}`,n.expandIconClass],side:n.switchToggleSide!==!0,avatar:n.switchToggleSide},R=[z(Ce,{class:"q-expansion-item__toggle-icon"+(n.expandedIcon===void 0&&t.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return U.value===!0&&(Object.assign(o,{tabindex:0,..._.value,onClick:s,onKeyup:L}),R.unshift(z("div",{ref:d,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),z(bt,o,()=>R)}function F(){let o;return C.header!==void 0?o=[].concat(C.header(y.value)):(o=[z(bt,()=>[z(Ft,{lines:n.labelLines},()=>n.label||""),n.caption?z(Ft,{lines:n.captionLines,caption:!0},()=>n.caption):null])],n.icon&&o[n.switchToggleSide===!0?"push":"unshift"](z(bt,{side:n.switchToggleSide===!0,avatar:n.switchToggleSide!==!0},()=>z(Ce,{name:n.icon})))),n.disable!==!0&&n.hideExpandIcon!==!0&&o[n.switchToggleSide===!0?"unshift":"push"](k()),o}function p(){const o={ref:"item",style:n.headerStyle,class:n.headerClass,dark:e.value,disable:n.disable,dense:n.dense,insetLevel:n.headerInsetLevel};return b.value===!0&&(o.clickable=!0,o.onClick=h,Object.assign(o,A.value===!0?S.value:_.value)),z(yn,o,F)}function P(){return Ve(z("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:m.value,id:l.value},Ye(C.default)),[[pn,t.value]])}function v(){const o=[p(),z(rr,{duration:n.duration,onShow:u,onHide:w},P)];return n.expandSeparator===!0&&o.push(z(We,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:e.value}),z(We,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:e.value})),o}return n.group!==void 0&&I(),ht(()=>{r!==void 0&&r()}),()=>z("div",{class:f.value},[z("div",{class:"q-expansion-item__container relative-position"},v())])}});function Qe(n,C,q,c){const e=[];return n.forEach(t=>{c(t)===!0?e.push(t):C.push({failedPropValidation:q,file:t})}),e}function at(n){n&&n.dataTransfer&&(n.dataTransfer.dropEffect="copy"),Ne(n)}const or={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},lr=["rejected"];function sr({editable:n,dnd:C,getFileInput:q,addFilesToQueue:c}){const{props:e,emit:t,proxy:d}=Ee(),l=ae(null),g=V(()=>e.accept!==void 0?e.accept.split(",").map(E=>(E=E.trim(),E==="*"?"*/":(E.endsWith("/*")&&(E=E.slice(0,E.length-1)),E.toUpperCase()))):null),x=V(()=>parseInt(e.maxFiles,10)),a=V(()=>parseInt(e.maxTotalSize,10));function i(E){if(n.value)if(E!==Object(E)&&(E={target:null}),E.target!==null&&E.target.matches('input[type="file"]')===!0)E.clientX===0&&E.clientY===0&&wn(E);else{const U=q();U&&U!==E.target&&U.click(E)}}function r(E){n.value&&E&&c(null,E)}function f(E,U,y,_){let h=Array.from(U||E.target.files);const L=[],s=()=>{L.length!==0&&t("rejected",L)};if(e.accept!==void 0&&g.value.indexOf("*/")===-1&&(h=Qe(h,L,"accept",u=>g.value.some(w=>u.type.toUpperCase().startsWith(w)||u.name.toUpperCase().endsWith(w))),h.length===0))return s();if(e.maxFileSize!==void 0){const u=parseInt(e.maxFileSize,10);if(h=Qe(h,L,"max-file-size",w=>w.size<=u),h.length===0)return s()}if(e.multiple!==!0&&h.length!==0&&(h=[h[0]]),h.forEach(u=>{u.__key=u.webkitRelativePath+u.lastModified+u.name+u.size}),_===!0){const u=y.map(w=>w.__key);h=Qe(h,L,"duplicate",w=>u.includes(w.__key)===!1)}if(h.length===0)return s();if(e.maxTotalSize!==void 0){let u=_===!0?y.reduce((w,I)=>w+I.size,0):0;if(h=Qe(h,L,"max-total-size",w=>(u+=w.size,u<=a.value)),h.length===0)return s()}if(typeof e.filter=="function"){const u=e.filter(h);h=Qe(h,L,"filter",w=>u.includes(w))}if(e.maxFiles!==void 0){let u=_===!0?y.length:0;if(h=Qe(h,L,"max-files",()=>(u++,u<=x.value)),h.length===0)return s()}if(s(),h.length!==0)return h}function m(E){at(E),C.value!==!0&&(C.value=!0)}function A(E){Ne(E),(E.relatedTarget!==null||An.is.safari!==!0?E.relatedTarget!==l.value:document.elementsFromPoint(E.clientX,E.clientY).includes(l.value)===!1)===!0&&(C.value=!1)}function S(E){at(E);const U=E.dataTransfer.files;U.length!==0&&c(null,U),C.value=!1}function b(E){if(C.value===!0)return z("div",{ref:l,class:`q-${E}__dnd absolute-full`,onDragenter:at,onDragover:at,onDragleave:A,onDrop:S})}return Object.assign(d,{pickFiles:i,addFiles:r}),{pickFiles:i,addFiles:r,onDragover:m,onDragleave:A,processFiles:f,getDndNode:b,maxFilesNumber:x,maxTotalSizeNumber:a}}const ur=Ie({name:"QFile",inheritAttrs:!1,props:{...Wn,...Qt,...or,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...jn,...lr],setup(n,{slots:C,emit:q,attrs:c}){const{proxy:e}=Ee(),t=Kn(),d=ae(null),l=ae(!1),g=Gn(n),{pickFiles:x,onDragover:a,onDragleave:i,processFiles:r,getDndNode:f}=sr({editable:t.editable,dnd:l,getFileInput:k,addFilesToQueue:F}),m=Yn(n),A=V(()=>Object(n.modelValue)===n.modelValue?"length"in n.modelValue?Array.from(n.modelValue):[n.modelValue]:[]),S=V(()=>Et(A.value)),b=V(()=>A.value.map(o=>o.name).join(", ")),E=V(()=>xn(A.value.reduce((o,R)=>o+R.size,0))),U=V(()=>({totalSize:E.value,filesNumber:A.value.length,maxFiles:n.maxFiles})),y=V(()=>({tabindex:-1,type:"file",title:"",accept:n.accept,capture:n.capture,name:g.value,...c,id:t.targetUid.value,disabled:t.editable.value!==!0})),_=V(()=>"q-file q-field--auto-height"+(l.value===!0?" q-file--dnd":"")),h=V(()=>n.multiple===!0&&n.append===!0);function L(o){const R=A.value.slice();R.splice(o,1),u(R)}function s(o){const R=A.value.indexOf(o);R!==-1&&L(R)}function u(o){q("update:modelValue",n.multiple===!0?o:o[0])}function w(o){o.keyCode===13&&Sn(o)}function I(o){(o.keyCode===13||o.keyCode===32)&&x(o)}function k(){return d.value}function F(o,R){const T=r(o,R,A.value,h.value),$=k();$!=null&&($.value=""),T!==void 0&&((n.multiple===!0?n.modelValue&&T.every(N=>A.value.includes(N)):n.modelValue===T[0])||u(h.value===!0?A.value.concat(T):T))}function p(){return[z("input",{class:[n.inputClass,"q-file__filler"],style:n.inputStyle})]}function P(){if(C.file!==void 0)return A.value.length===0?p():A.value.map((R,T)=>C.file({index:T,file:R,ref:this}));if(C.selected!==void 0)return A.value.length===0?p():C.selected({files:A.value,ref:this});if(n.useChips===!0)return A.value.length===0?p():A.value.map((R,T)=>z(jt,{key:"file-"+T,removable:t.editable.value,dense:!0,textColor:n.color,tabindex:n.tabindex,onRemove:()=>{L(T)}},()=>z("span",{class:"ellipsis",textContent:R.name})));const o=n.displayValue!==void 0?n.displayValue:b.value;return o.length!==0?[z("div",{class:n.inputClass,style:n.inputStyle,textContent:o})]:p()}function v(){const o={ref:d,...y.value,...m.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:F};return n.multiple===!0&&(o.multiple=!0),z("input",o)}return Object.assign(t,{fieldClass:_,emitValue:u,hasValue:S,inputRef:d,innerValue:A,floatingLabel:V(()=>S.value===!0||Et(n.displayValue)),computedCounter:V(()=>{if(n.counterLabel!==void 0)return n.counterLabel(U.value);const o=n.maxFiles;return`${A.value.length}${o!==void 0?" / "+o:""} (${E.value})`}),getControlChild:()=>f("file"),getControl:()=>{const o={ref:t.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:n.tabindex};return t.editable.value===!0&&Object.assign(o,{onDragover:a,onDragleave:i,onKeydown:w,onKeyup:I}),z("div",o,[v()].concat(P()))}}),Object.assign(e,{removeAtIndex:L,removeFile:s,getNativeElement:()=>d.value}),_n(e,"nativeEl",()=>d.value),Zn(t)}});function qt(n){if(n===!1)return 0;if(n===!0||n===void 0)return 1;const C=parseInt(n,10);return isNaN(C)?0:C}const Ke=Cn({name:"close-popup",beforeMount(n,{value:C}){const q={depth:qt(C),handler(c){q.depth!==0&&setTimeout(()=>{const e=Xn(n);e!==void 0&&Jn(e,c,q.depth)})},handlerKey(c){In(c,13)===!0&&q.handler(c)}};n.__qclosepopup=q,n.addEventListener("click",q.handler),n.addEventListener("keyup",q.handlerKey)},updated(n,{value:C,oldValue:q}){C!==q&&(n.__qclosepopup.depth=qt(C))},beforeUnmount(n){const C=n.__qclosepopup;n.removeEventListener("click",C.handler),n.removeEventListener("keyup",C.handlerKey),delete n.__qclosepopup}});function cr(){let n=Object.create(null);return{getCache:(C,q)=>n[C]===void 0?n[C]=typeof q=="function"?q():q:n[C],setCache(C,q){n[C]=q},hasCache(C){return Object.hasOwnProperty.call(n,C)},clearCache(C){C!==void 0?delete n[C]:n=Object.create(null)}}}const fr={name:{required:!0},disable:Boolean},Lt={setup(n,{slots:C}){return()=>z("div",{class:"q-panel scroll",role:"tabpanel"},Ye(C.default))}},dr={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},hr=["update:modelValue","beforeTransition","transition"];function vr(){const{props:n,emit:C,proxy:q}=Ee(),{getCache:c}=cr(),{registerTimeout:e}=kn();let t,d;const l=ae(null),g={value:null};function x(p){const P=n.vertical===!0?"up":"left";s((q.$q.lang.rtl===!0?-1:1)*(p.direction===P?1:-1))}const a=V(()=>[[Un,x,void 0,{horizontal:n.vertical!==!0,vertical:n.vertical,mouse:!0}]]),i=V(()=>n.transitionPrev||`slide-${n.vertical===!0?"down":"right"}`),r=V(()=>n.transitionNext||`slide-${n.vertical===!0?"up":"left"}`),f=V(()=>`--q-transition-duration: ${n.transitionDuration}ms`),m=V(()=>typeof n.modelValue=="string"||typeof n.modelValue=="number"?n.modelValue:String(n.modelValue)),A=V(()=>({include:n.keepAliveInclude,exclude:n.keepAliveExclude,max:n.keepAliveMax})),S=V(()=>n.keepAliveInclude!==void 0||n.keepAliveExclude!==void 0);Ae(()=>n.modelValue,(p,P)=>{const v=y(p)===!0?_(p):-1;d!==!0&&L(v===-1?0:v<_(P)?-1:1),g.value!==v&&(g.value=v,C("beforeTransition",p,P),e(()=>{C("transition",p,P)},n.transitionDuration))});function b(){s(1)}function E(){s(-1)}function U(p){C("update:modelValue",p)}function y(p){return p!=null&&p!==""}function _(p){return t.findIndex(P=>P.props.name===p&&P.props.disable!==""&&P.props.disable!==!0)}function h(){return t.filter(p=>p.props.disable!==""&&p.props.disable!==!0)}function L(p){const P=p!==0&&n.animated===!0&&g.value!==-1?"q-transition--"+(p===-1?i.value:r.value):null;l.value!==P&&(l.value=P)}function s(p,P=g.value){let v=P+p;for(;v!==-1&&v<t.length;){const o=t[v];if(o!==void 0&&o.props.disable!==""&&o.props.disable!==!0){L(p),d=!0,C("update:modelValue",o.props.name),setTimeout(()=>{d=!1});return}v+=p}n.infinite===!0&&t.length!==0&&P!==-1&&P!==t.length&&s(p,p===-1?t.length:-1)}function u(){const p=_(n.modelValue);return g.value!==p&&(g.value=p),!0}function w(){const p=y(n.modelValue)===!0&&u()&&t[g.value];return n.keepAlive===!0?[z(En,A.value,[z(S.value===!0?c(m.value,()=>({...Lt,name:m.value})):Lt,{key:m.value,style:f.value},()=>p)])]:[z("div",{class:"q-panel scroll",style:f.value,key:m.value,role:"tabpanel"},[p])]}function I(){if(t.length!==0)return n.animated===!0?[z(Vt,{name:l.value},w)]:w()}function k(p){return t=Fn(Ye(p.default,[])).filter(P=>P.props!==null&&P.props.slot===void 0&&y(P.props.name)===!0),t.length}function F(){return t}return Object.assign(q,{next:b,previous:E,goTo:U}),{panelIndex:g,panelDirectives:a,updatePanelsList:k,updatePanelIndex:u,getPanelContent:I,getEnabledPanels:h,getPanels:F,isValidPanelName:y,keepAliveProps:A,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:s,goToPanel:U,nextPanel:b,previousPanel:E}}const gr=Ie({name:"QCarouselSlide",props:{...fr,imgSrc:String},setup(n,{slots:C}){const q=V(()=>n.imgSrc?{backgroundImage:`url("${n.imgSrc}")`}:{});return()=>z("div",{class:"q-carousel__slide",style:q.value},Ye(C.default))}}),mr=Ie({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:n=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(n)},offset:{type:Array,default:()=>[18,18],validator:n=>n.length===2}},setup(n,{slots:C}){const q=V(()=>`q-carousel__control absolute absolute-${n.position}`),c=V(()=>({margin:`${n.offset[1]}px ${n.offset[0]}px`}));return()=>z("div",{class:q.value,style:c.value},Ye(C.default))}});let Je=0;const br={fullscreen:Boolean,noRouteFullscreenExit:Boolean},yr=["update:fullscreen","fullscreen"];function pr(){const n=Ee(),{props:C,emit:q,proxy:c}=n;let e,t,d;const l=ae(!1);Pn(n)===!0&&Ae(()=>c.$route.fullPath,()=>{C.noRouteFullscreenExit!==!0&&a()}),Ae(()=>C.fullscreen,i=>{l.value!==i&&g()}),Ae(l,i=>{q("update:fullscreen",i),q("fullscreen",i)});function g(){l.value===!0?a():x()}function x(){l.value!==!0&&(l.value=!0,d=c.$el.parentNode,d.replaceChild(t,c.$el),document.body.appendChild(c.$el),Je++,Je===1&&document.body.classList.add("q-body--fullscreen-mixin"),e={handler:a},Ct.add(e))}function a(){l.value===!0&&(e!==void 0&&(Ct.remove(e),e=void 0),d.replaceChild(c.$el,t),l.value=!1,Je=Math.max(0,Je-1),Je===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),c.$el.scrollIntoView!==void 0&&setTimeout(()=>{c.$el.scrollIntoView()})))}return Tn(()=>{t=document.createElement("span")}),Nt(()=>{C.fullscreen===!0&&x()}),ht(a),Object.assign(c,{toggleFullscreen:g,setFullscreen:x,exitFullscreen:a}),{inFullscreen:l,toggleFullscreen:g}}const wr=["top","right","bottom","left"],Ar=["regular","flat","outline","push","unelevated"],xr=Ie({name:"QCarousel",props:{...ft,...dr,...br,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:n=>Ar.includes(n),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:n=>wr.includes(n)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...yr,...hr],setup(n,{slots:C}){const{proxy:{$q:q}}=Ee(),c=dt(n,q);let e=null,t;const{updatePanelsList:d,getPanelContent:l,panelDirectives:g,goToPanel:x,previousPanel:a,nextPanel:i,getEnabledPanels:r,panelIndex:f}=vr(),{inFullscreen:m}=pr(),A=V(()=>m.value!==!0&&n.height!==void 0?{height:n.height}:{}),S=V(()=>n.vertical===!0?"vertical":"horizontal"),b=V(()=>n.navigationPosition||(n.vertical===!0?"right":"bottom")),E=V(()=>`q-carousel q-panel-parent q-carousel--with${n.padding===!0?"":"out"}-padding`+(m.value===!0?" fullscreen":"")+(c.value===!0?" q-carousel--dark q-dark":"")+(n.arrows===!0?` q-carousel--arrows-${S.value}`:"")+(n.navigation===!0?` q-carousel--navigation-${b.value}`:"")),U=V(()=>{const w=[n.prevIcon||q.iconSet.carousel[n.vertical===!0?"up":"left"],n.nextIcon||q.iconSet.carousel[n.vertical===!0?"down":"right"]];return n.vertical===!1&&q.lang.rtl===!0?w.reverse():w}),y=V(()=>n.navigationIcon||q.iconSet.carousel.navigationIcon),_=V(()=>n.navigationActiveIcon||y.value),h=V(()=>({color:n.controlColor,textColor:n.controlTextColor,round:!0,[n.controlType]:!0,dense:!0}));Ae(()=>n.modelValue,()=>{n.autoplay&&L()}),Ae(()=>n.autoplay,w=>{w?L():e!==null&&(clearTimeout(e),e=null)});function L(){const w=qn(n.autoplay)===!0?Math.abs(n.autoplay):5e3;e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,w>=0?i():a()},w)}Nt(()=>{n.autoplay&&L()}),ht(()=>{e!==null&&clearTimeout(e)});function s(w,I){return z("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${w} q-carousel__navigation--${b.value}`+(n.controlColor!==void 0?` text-${n.controlColor}`:"")},[z("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},r().map(I))])}function u(){const w=[];if(n.navigation===!0){const I=C["navigation-icon"]!==void 0?C["navigation-icon"]:F=>z(oe,{key:"nav"+F.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${F.active===!0?"":"in"}active`,...F.btnProps,onClick:F.onClick}),k=t-1;w.push(s("buttons",(F,p)=>{const P=F.props.name,v=f.value===p;return I({index:p,maxIndex:k,name:P,active:v,btnProps:{icon:v===!0?_.value:y.value,size:"sm",...h.value},onClick:()=>{x(P)}})}))}else if(n.thumbnails===!0){const I=n.controlColor!==void 0?` text-${n.controlColor}`:"";w.push(s("thumbnails",k=>{const F=k.props;return z("img",{key:"tmb#"+F.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${F.name===n.modelValue?"":"in"}active`+I,src:F.imgSrc||F["img-src"],onClick:()=>{x(F.name)}})}))}return n.arrows===!0&&f.value>=0&&((n.infinite===!0||f.value>0)&&w.push(z("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[z(oe,{icon:U.value[0],...h.value,onClick:a})])),(n.infinite===!0||f.value<t-1)&&w.push(z("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[z(oe,{icon:U.value[1],...h.value,onClick:i})]))),Bt(C.control,w)}return()=>(t=d(C),z("div",{class:E.value,style:A.value},[Ot("div",{class:"q-carousel__slides-container"},l(),"sl-cont",n.swipeable,()=>g.value)].concat(u())))}});function _r(){return Ln(Rn)}const Sr={class:"row photo-carousel-btns"},Cr=["src"],Ir={__name:"PhotoCarouselBtns",props:{photos:{type:Array,required:!0},deletable:{type:Boolean,default:!0}},emits:["delete:photo"],setup(n,{emit:C}){const q=_r(),c=()=>{q.loading.show({message:"載入圖片中...",spinnerColor:"green",spinnerSize:"4em"})},e=()=>{q.loading.hide()},t=n,d=ae(!1),l=ae(1),g=ae(!1),x=ae(!1),a=ae([]),i=V(()=>a.value.map(b=>{const{height:E,width:U}=Mn,y=E(document.body)-48,_=U(document.body)>600?560:U(document.body)-48;if(b.height<=y&&b.width<=_)return b;const h={width:_,height:b.height*_/b.width},L={width:b.width*y/b.height,height:y};if(b.height>y&&b.width<=_)return L;if(b.height<=y&&b.width>_)return h;if(b.height>y&&b.width>_)return b.height>b.width?y>_?h:L:h})),r=C;async function f(b){if(!a.value[b]){c(),await S(t.photos),e(),l.value=b,d.value=!0;return}l.value=b,d.value=!0}function m(){g.value=!0}function A(){x.value=!0;const b=l.value,E=[...t.photos.slice(0,b),...t.photos.slice(b+1)];return d.value=!1,r("delete:photo",E)}async function S(b){const E=b.map(async y=>new Promise((_,h)=>{const L=new Image;L.onload=()=>{_({width:L.naturalWidth,height:L.naturalHeight})},L.onerror=h,L.src=y})),U=await Promise.all(E);a.value=U}return Ae(()=>t.photos,async()=>{if(x.value){x.value=!1;return}await S(t.photos)}),(b,E)=>(be(),it("div",Sr,[(be(!0),it(It,null,kt(n.photos,(U,y)=>(be(),Fe(oe,{key:y,round:"",size:"12px",onClick:_=>f(y)},{default:j(()=>[H($n,{size:"36px"},{default:j(()=>[fe("img",{src:U},null,8,Cr)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),H(tt,{modelValue:d.value,"onUpdate:modelValue":E[1]||(E[1]=U=>d.value=U)},{default:j(()=>[H(xr,{swipeable:"",animated:"",arrows:"",modelValue:l.value,"onUpdate:modelValue":E[0]||(E[0]=U=>l.value=U),infinite:"",style:On(`width: ${i.value[l.value].width}px; height: ${i.value[l.value].height}px`),class:"carousel-dialog"},zt({default:j(()=>[(be(!0),it(It,null,kt(n.photos,(U,y)=>(be(),Fe(gr,{name:y,"img-src":U,key:y},null,8,["name","img-src"]))),128))]),_:2},[n.deletable?{name:"control",fn:j(()=>[H(mr,{position:"bottom-right",offset:[18,18]},{default:j(()=>[H(oe,{round:"",dense:"",color:"white","text-color":"grey-8",icon:"delete",onClick:m})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","style"])]),_:1},8,["modelValue"]),H(tt,{modelValue:g.value,"onUpdate:modelValue":E[2]||(E[2]=U=>g.value=U),persistent:""},{default:j(()=>[H(je,null,{default:j(()=>[H(Ue,{class:"row items-center"},{default:j(()=>[H(Ce,{name:"warning",color:"negative",size:"24px"}),E[3]||(E[3]=fe("span",{class:"q-ml-sm"},"確定要刪除這張照片嗎？",-1))]),_:1}),H(et,{align:"right"},{default:j(()=>[Ve(H(oe,{flat:"",label:"取消",color:"primary"},null,512),[[Ke]]),Ve(H(oe,{flat:"",label:"刪除",color:"negative",onClick:A},null,512),[[Ke]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},kr=Ht(Ir,[["__scopeId","data-v-d39ad1e5"]]),Ur="https://api.imgbb.com/1/",Fr="793acb1518e63a5f9304b32c8bd4d2f1",Er=Bn.create({baseURL:`${Ur}`}),Pr={async POST(n){const C=new FormData;return C.append("image",n),(await Er.post(`upload?key=${Fr}`,C)).data}};function Tr(n,C){return C.forEach(function(q){q&&typeof q!="string"&&!Array.isArray(q)&&Object.keys(q).forEach(function(c){if(c!=="default"&&!(c in n)){var e=Object.getOwnPropertyDescriptor(q,c);Object.defineProperty(n,c,e.get?e:{enumerable:!0,get:function(){return q[c]}})}})}),Object.freeze(n)}function Wt(n,C){return new Promise(function(q,c){let e;return qr(n).then(function(t){try{return e=t,q(new Blob([C.slice(0,2),e,C.slice(2)],{type:"image/jpeg"}))}catch(d){return c(d)}},c)})}const qr=n=>new Promise((C,q)=>{const c=new FileReader;c.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let d=0;if(t.getUint16(d)!==65496)return q("not a valid JPEG");for(d+=2;;){const l=t.getUint16(d);if(l===65498)break;const g=t.getUint16(d+2);if(l===65505&&t.getUint32(d+4)===1165519206){const x=d+10;let a;switch(t.getUint16(x)){case 18761:a=!0;break;case 19789:a=!1;break;default:return q("TIFF header contains invalid endian")}if(t.getUint16(x+2,a)!==42)return q("TIFF header contains invalid version");const i=t.getUint32(x+4,a),r=x+i+2+12*t.getUint16(x+i,a);for(let f=x+i+2;f<r;f+=12)if(t.getUint16(f,a)==274){if(t.getUint16(f+2,a)!==3)return q("Orientation data type is invalid");if(t.getUint32(f+4,a)!==1)return q("Orientation data count is invalid");t.setUint16(f+8,1,a);break}return C(e.slice(d,d+2+g))}d+=2+g}return C(new Blob)}),c.readAsArrayBuffer(n)});var lt={},Lr={get exports(){return lt},set exports(n){lt=n}};(function(n){var C,q,c={};Lr.exports=c,c.parse=function(e,t){for(var d=c.bin.readUshort,l=c.bin.readUint,g=0,x={},a=new Uint8Array(e),i=a.length-4;l(a,i)!=101010256;)i--;g=i,g+=4;var r=d(a,g+=4);d(a,g+=2);var f=l(a,g+=2),m=l(a,g+=4);g+=4,g=m;for(var A=0;A<r;A++){l(a,g),g+=4,g+=4,g+=4,l(a,g+=4),f=l(a,g+=4);var S=l(a,g+=4),b=d(a,g+=4),E=d(a,g+2),U=d(a,g+4);g+=6;var y=l(a,g+=8);g+=4,g+=b+E+U,c._readLocal(a,y,x,f,S,t)}return x},c._readLocal=function(e,t,d,l,g,x){var a=c.bin.readUshort,i=c.bin.readUint;i(e,t),a(e,t+=4),a(e,t+=2);var r=a(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=a(e,t+=8),m=a(e,t+=2);t+=2;var A=c.bin.readUTF8(e,t,f);if(t+=f,t+=m,x)d[A]={size:g,csize:l};else{var S=new Uint8Array(e.buffer,t);if(r==0)d[A]=new Uint8Array(S.buffer.slice(t,t+l));else{if(r!=8)throw"unknown compression method: "+r;var b=new Uint8Array(g);c.inflateRaw(S,b),d[A]=b}}},c.inflateRaw=function(e,t){return c.F.inflate(e,t)},c.inflate=function(e,t){return e[0],e[1],c.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},c.deflate=function(e,t){t==null&&(t={level:6});var d=0,l=new Uint8Array(50+Math.floor(1.1*e.length));l[d]=120,l[d+1]=156,d+=2,d=c.F.deflateRaw(e,l,d,t.level);var g=c.adler(e,0,e.length);return l[d+0]=g>>>24&255,l[d+1]=g>>>16&255,l[d+2]=g>>>8&255,l[d+3]=g>>>0&255,new Uint8Array(l.buffer,0,d+4)},c.deflateRaw=function(e,t){t==null&&(t={level:6});var d=new Uint8Array(50+Math.floor(1.1*e.length)),l=c.F.deflateRaw(e,d,l,t.level);return new Uint8Array(d.buffer,0,l)},c.encode=function(e,t){t==null&&(t=!1);var d=0,l=c.bin.writeUint,g=c.bin.writeUshort,x={};for(var a in e){var i=!c._noNeed(a)&&!t,r=e[a],f=c.crc.crc(r,0,r.length);x[a]={cpr:i,usize:r.length,crc:f,file:i?c.deflateRaw(r):r}}for(var a in x)d+=x[a].file.length+30+46+2*c.bin.sizeUTF8(a);d+=22;var m=new Uint8Array(d),A=0,S=[];for(var a in x){var b=x[a];S.push(A),A=c._writeHeader(m,A,a,b,0)}var E=0,U=A;for(var a in x)b=x[a],S.push(A),A=c._writeHeader(m,A,a,b,1,S[E++]);var y=A-U;return l(m,A,101010256),A+=4,g(m,A+=4,E),g(m,A+=2,E),l(m,A+=2,y),l(m,A+=4,U),A+=4,A+=2,m.buffer},c._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},c._writeHeader=function(e,t,d,l,g,x){var a=c.bin.writeUint,i=c.bin.writeUshort,r=l.file;return a(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,l.cpr?8:0),a(e,t+=2,0),a(e,t+=4,l.crc),a(e,t+=4,r.length),a(e,t+=4,l.usize),i(e,t+=4,c.bin.sizeUTF8(d)),i(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,a(e,t+=6,x),t+=4),t+=c.bin.writeUTF8(e,t,d),g==0&&(e.set(r,t),t+=r.length),t},c.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var d=t,l=0;l<8;l++)1&d?d=3988292384^d>>>1:d>>>=1;e[t]=d}return e}(),update:function(e,t,d,l){for(var g=0;g<l;g++)e=c.crc.table[255&(e^t[d+g])]^e>>>8;return e},crc:function(e,t,d){return 4294967295^c.crc.update(4294967295,e,t,d)}},c.adler=function(e,t,d){for(var l=1,g=0,x=t,a=t+d;x<a;){for(var i=Math.min(x+5552,a);x<i;)g+=l+=e[x++];l%=65521,g%=65521}return g<<16|l},c.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255,e[t+2]=d>>16&255,e[t+3]=d>>24&255},readASCII:function(e,t,d){for(var l="",g=0;g<d;g++)l+=String.fromCharCode(e[t+g]);return l},writeASCII:function(e,t,d){for(var l=0;l<d.length;l++)e[t+l]=d.charCodeAt(l)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,d){for(var l,g="",x=0;x<d;x++)g+="%"+c.bin.pad(e[t+x].toString(16));try{l=decodeURIComponent(g)}catch{return c.bin.readASCII(e,t,d)}return l},writeUTF8:function(e,t,d){for(var l=d.length,g=0,x=0;x<l;x++){var a=d.charCodeAt(x);if((4294967168&a)==0)e[t+g]=a,g++;else if((4294965248&a)==0)e[t+g]=192|a>>6,e[t+g+1]=128|a>>0&63,g+=2;else if((4294901760&a)==0)e[t+g]=224|a>>12,e[t+g+1]=128|a>>6&63,e[t+g+2]=128|a>>0&63,g+=3;else{if((4292870144&a)!=0)throw"e";e[t+g]=240|a>>18,e[t+g+1]=128|a>>12&63,e[t+g+2]=128|a>>6&63,e[t+g+3]=128|a>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,d=0,l=0;l<t;l++){var g=e.charCodeAt(l);if((4294967168&g)==0)d++;else if((4294965248&g)==0)d+=2;else if((4294901760&g)==0)d+=3;else{if((4292870144&g)!=0)throw"e";d+=4}}return d}},c.F={},c.F.deflateRaw=function(e,t,d,l){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],x=c.F.U,a=c.F._goodIndex;c.F._hash;var i=c.F._putsE,r=0,f=d<<3,m=0,A=e.length;if(l==0){for(;r<A;)i(t,f,r+(I=Math.min(65535,A-r))==A?1:0),f=c.F._copyExact(e,r,I,t,f+8),r+=I;return f>>>3}var S=x.lits,b=x.strt,E=x.prev,U=0,y=0,_=0,h=0,L=0,s=0;for(A>2&&(b[s=c.F._hash(e,0)]=0),r=0;r<A;r++){if(L=s,r+1<A-2){s=c.F._hash(e,r+1);var u=r+1&32767;E[u]=b[s],b[s]=u}if(m<=r){(U>14e3||y>26697)&&A-r>100&&(m<r&&(S[U]=r-m,U+=2,m=r),f=c.F._writeBlock(r==A-1||m==A?1:0,S,U,h,e,_,r-_,t,f),U=y=h=0,_=r);var w=0;r<A-2&&(w=c.F._bestMatch(e,r,E,L,Math.min(g[2],A-r),g[3]));var I=w>>>16,k=65535&w;if(w!=0){k=65535&w;var F=a(I=w>>>16,x.of0);x.lhst[257+F]++;var p=a(k,x.df0);x.dhst[p]++,h+=x.exb[F]+x.dxb[p],S[U]=I<<23|r-m,S[U+1]=k<<16|F<<8|p,U+=2,m=r+I}else x.lhst[e[r]]++;y++}}for(_==r&&e.length!=0||(m<r&&(S[U]=r-m,U+=2,m=r),f=c.F._writeBlock(1,S,U,h,e,_,r-_,t,f),U=0,y=0,U=y=h=0,_=r);(7&f)!=0;)f++;return f>>>3},c.F._bestMatch=function(e,t,d,l,g,x){var a=32767&t,i=d[a],r=a-i+32768&32767;if(i==a||l!=c.F._hash(e,t-r))return 0;for(var f=0,m=0,A=Math.min(32767,t);r<=A&&--x!=0&&i!=a;){if(f==0||e[t+f]==e[t+f-r]){var S=c.F._howLong(e,t,r);if(S>f){if(m=r,(f=S)>=g)break;r+2<S&&(S=r+2);for(var b=0,E=0;E<S-2;E++){var U=t-r+E+32768&32767,y=U-d[U]+32768&32767;y>b&&(b=y,i=U)}}}r+=(a=i)-(i=d[a])+32768&32767}return f<<16|m},c.F._howLong=function(e,t,d){if(e[t]!=e[t-d]||e[t+1]!=e[t+1-d]||e[t+2]!=e[t+2-d])return 0;var l=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-d];)t++;return t-l},c.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},c.saved=0,c.F._writeBlock=function(e,t,d,l,g,x,a,i,r){var f,m,A,S,b,E,U,y,_,h=c.F.U,L=c.F._putsF,s=c.F._putsE;h.lhst[256]++,m=(f=c.F.getTrees())[0],A=f[1],S=f[2],b=f[3],E=f[4],U=f[5],y=f[6],_=f[7];var u=32+((r+3&7)==0?0:8-(r+3&7))+(a<<3),w=l+c.F.contSize(h.fltree,h.lhst)+c.F.contSize(h.fdtree,h.dhst),I=l+c.F.contSize(h.ltree,h.lhst)+c.F.contSize(h.dtree,h.dhst);I+=14+3*U+c.F.contSize(h.itree,h.ihst)+(2*h.ihst[16]+3*h.ihst[17]+7*h.ihst[18]);for(var k=0;k<286;k++)h.lhst[k]=0;for(k=0;k<30;k++)h.dhst[k]=0;for(k=0;k<19;k++)h.ihst[k]=0;var F=u<w&&u<I?0:w<I?1:2;if(L(i,r,e),L(i,r+1,F),r+=3,F==0){for(;(7&r)!=0;)r++;r=c.F._copyExact(g,x,a,i,r)}else{var p,P;if(F==1&&(p=h.fltree,P=h.fdtree),F==2){c.F.makeCodes(h.ltree,m),c.F.revCodes(h.ltree,m),c.F.makeCodes(h.dtree,A),c.F.revCodes(h.dtree,A),c.F.makeCodes(h.itree,S),c.F.revCodes(h.itree,S),p=h.ltree,P=h.dtree,s(i,r,b-257),s(i,r+=5,E-1),s(i,r+=5,U-4),r+=4;for(var v=0;v<U;v++)s(i,r+3*v,h.itree[1+(h.ordr[v]<<1)]);r+=3*U,r=c.F._codeTiny(y,h.itree,i,r),r=c.F._codeTiny(_,h.itree,i,r)}for(var o=x,R=0;R<d;R+=2){for(var T=t[R],$=T>>>23,N=o+(8388607&T);o<N;)r=c.F._writeLit(g[o++],p,i,r);if($!=0){var B=t[R+1],D=B>>16,O=B>>8&255,M=255&B;s(i,r=c.F._writeLit(257+O,p,i,r),$-h.of0[O]),r+=h.exb[O],L(i,r=c.F._writeLit(M,P,i,r),D-h.df0[M]),r+=h.dxb[M],o+=$}}r=c.F._writeLit(256,p,i,r)}return r},c.F._copyExact=function(e,t,d,l,g){var x=g>>>3;return l[x]=d,l[x+1]=d>>>8,l[x+2]=255-l[x],l[x+3]=255-l[x+1],x+=4,l.set(new Uint8Array(e.buffer,t,d),x),g+(d+4<<3)},c.F.getTrees=function(){for(var e=c.F.U,t=c.F._hufTree(e.lhst,e.ltree,15),d=c.F._hufTree(e.dhst,e.dtree,15),l=[],g=c.F._lenCodes(e.ltree,l),x=[],a=c.F._lenCodes(e.dtree,x),i=0;i<l.length;i+=2)e.ihst[l[i]]++;for(i=0;i<x.length;i+=2)e.ihst[x[i]]++;for(var r=c.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[t,d,r,g,a,f,l,x]},c.F.getSecond=function(e){for(var t=[],d=0;d<e.length;d+=2)t.push(e[d+1]);return t},c.F.nonZero=function(e){for(var t="",d=0;d<e.length;d+=2)e[d+1]!=0&&(t+=(d>>1)+",");return t},c.F.contSize=function(e,t){for(var d=0,l=0;l<t.length;l++)d+=t[l]*e[1+(l<<1)];return d},c.F._codeTiny=function(e,t,d,l){for(var g=0;g<e.length;g+=2){var x=e[g],a=e[g+1];l=c.F._writeLit(x,t,d,l);var i=x==16?2:x==17?3:7;x>15&&(c.F._putsE(d,l,a,i),l+=i)}return l},c.F._lenCodes=function(e,t){for(var d=e.length;d!=2&&e[d-1]==0;)d-=2;for(var l=0;l<d;l+=2){var g=e[l+1],x=l+3<d?e[l+3]:-1,a=l+5<d?e[l+5]:-1,i=l==0?-1:e[l-1];if(g==0&&x==g&&a==g){for(var r=l+5;r+2<d&&e[r+2]==g;)r+=2;(f=Math.min(r+1-l>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),l+=2*f-2}else if(g==i&&x==g&&a==g){for(r=l+5;r+2<d&&e[r+2]==g;)r+=2;var f=Math.min(r+1-l>>>1,6);t.push(16,f-3),l+=2*f-2}else t.push(g,0)}return d>>>1},c.F._hufTree=function(e,t,d){var l=[],g=e.length,x=t.length,a=0;for(a=0;a<x;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<g;a++)e[a]!=0&&l.push({lit:a,f:e[a]});var i=l.length,r=l.slice(0);if(i==0)return 0;if(i==1){var f=l[0].lit;return r=f==0?1:0,t[1+(f<<1)]=1,t[1+(r<<1)]=1,1}l.sort(function(y,_){return y.f-_.f});var m=l[0],A=l[1],S=0,b=1,E=2;for(l[0]={lit:-1,f:m.f+A.f,l:m,r:A,d:0};b!=i-1;)m=S!=b&&(E==i||l[S].f<l[E].f)?l[S++]:l[E++],A=S!=b&&(E==i||l[S].f<l[E].f)?l[S++]:l[E++],l[b++]={lit:-1,f:m.f+A.f,l:m,r:A};var U=c.F.setDepth(l[b-1],0);for(U>d&&(c.F.restrictDepth(r,d,U),U=d),a=0;a<i;a++)t[1+(r[a].lit<<1)]=r[a].d;return U},c.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(c.F.setDepth(e.l,t+1),c.F.setDepth(e.r,t+1))},c.F.restrictDepth=function(e,t,d){var l=0,g=1<<d-t,x=0;for(e.sort(function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d}),l=0;l<e.length&&e[l].d>t;l++){var a=e[l].d;e[l].d=t,x+=g-(1<<d-a)}for(x>>>=d-t;x>0;)(a=e[l].d)<t?(e[l].d++,x-=1<<t-a-1):l++;for(;l>=0;l--)e[l].d==t&&x<0&&(e[l].d--,x++);x!=0&&console.log("debt left")},c.F._goodIndex=function(e,t){var d=0;return t[16|d]<=e&&(d|=16),t[8|d]<=e&&(d|=8),t[4|d]<=e&&(d|=4),t[2|d]<=e&&(d|=2),t[1|d]<=e&&(d|=1),d},c.F._writeLit=function(e,t,d,l){return c.F._putsF(d,l,t[e<<1]),l+t[1+(e<<1)]},c.F.inflate=function(e,t){var d=Uint8Array;if(e[0]==3&&e[1]==0)return t||new d(0);var l=c.F,g=l._bitsF,x=l._bitsE,a=l._decodeTiny,i=l.makeCodes,r=l.codes2map,f=l._get17,m=l.U,A=t==null;A&&(t=new d(e.length>>>2<<3));for(var S,b,E=0,U=0,y=0,_=0,h=0,L=0,s=0,u=0,w=0;E==0;)if(E=g(e,w,1),U=g(e,w+1,2),w+=3,U!=0){if(A&&(t=c.F._check(t,u+(1<<17))),U==1&&(S=m.flmap,b=m.fdmap,L=511,s=31),U==2){y=x(e,w,5)+257,_=x(e,w+5,5)+1,h=x(e,w+10,4)+4,w+=14;for(var I=0;I<38;I+=2)m.itree[I]=0,m.itree[I+1]=0;var k=1;for(I=0;I<h;I++){var F=x(e,w+3*I,3);m.itree[1+(m.ordr[I]<<1)]=F,F>k&&(k=F)}w+=3*h,i(m.itree,k),r(m.itree,k,m.imap),S=m.lmap,b=m.dmap,w=a(m.imap,(1<<k)-1,y+_,e,w,m.ttree);var p=l._copyOut(m.ttree,0,y,m.ltree);L=(1<<p)-1;var P=l._copyOut(m.ttree,y,_,m.dtree);s=(1<<P)-1,i(m.ltree,p),r(m.ltree,p,S),i(m.dtree,P),r(m.dtree,P,b)}for(;;){var v=S[f(e,w)&L];w+=15&v;var o=v>>>4;if(!(o>>>8))t[u++]=o;else{if(o==256)break;var R=u+o-254;if(o>264){var T=m.ldef[o-257];R=u+(T>>>3)+x(e,w,7&T),w+=7&T}var $=b[f(e,w)&s];w+=15&$;var N=$>>>4,B=m.ddef[N],D=(B>>>4)+g(e,w,15&B);for(w+=15&B,A&&(t=c.F._check(t,u+(1<<17)));u<R;)t[u]=t[u++-D],t[u]=t[u++-D],t[u]=t[u++-D],t[u]=t[u++-D];u=R}}}else{(7&w)!=0&&(w+=8-(7&w));var O=4+(w>>>3),M=e[O-4]|e[O-3]<<8;A&&(t=c.F._check(t,u+M)),t.set(new d(e.buffer,e.byteOffset+O,M),u),w=O+M<<3,u+=M}return t.length==u?t:t.slice(0,u)},c.F._check=function(e,t){var d=e.length;if(t<=d)return e;var l=new Uint8Array(Math.max(d<<1,t));return l.set(e,0),l},c.F._decodeTiny=function(e,t,d,l,g,x){for(var a=c.F._bitsE,i=c.F._get17,r=0;r<d;){var f=e[i(l,g)&t];g+=15&f;var m=f>>>4;if(m<=15)x[r]=m,r++;else{var A=0,S=0;m==16?(S=3+a(l,g,2),g+=2,A=x[r-1]):m==17?(S=3+a(l,g,3),g+=3):m==18&&(S=11+a(l,g,7),g+=7);for(var b=r+S;r<b;)x[r]=A,r++}}return g},c.F._copyOut=function(e,t,d,l){for(var g=0,x=0,a=l.length>>>1;x<d;){var i=e[x+t];l[x<<1]=0,l[1+(x<<1)]=i,i>g&&(g=i),x++}for(;x<a;)l[x<<1]=0,l[1+(x<<1)]=0,x++;return g},c.F.makeCodes=function(e,t){for(var d,l,g,x,a=c.F.U,i=e.length,r=a.bl_count,f=0;f<=t;f++)r[f]=0;for(f=1;f<i;f+=2)r[e[f]]++;var m=a.next_code;for(d=0,r[0]=0,l=1;l<=t;l++)d=d+r[l-1]<<1,m[l]=d;for(g=0;g<i;g+=2)(x=e[g+1])!=0&&(e[g]=m[x],m[x]++)},c.F.codes2map=function(e,t,d){for(var l=e.length,g=c.F.U.rev15,x=0;x<l;x+=2)if(e[x+1]!=0)for(var a=x>>1,i=e[x+1],r=a<<4|i,f=t-i,m=e[x]<<f,A=m+(1<<f);m!=A;)d[g[m]>>>15-t]=r,m++},c.F.revCodes=function(e,t){for(var d=c.F.U.rev15,l=15-t,g=0;g<e.length;g+=2){var x=e[g]<<t-e[g+1];e[g]=d[x]>>>l}},c.F._putsE=function(e,t,d){d<<=7&t;var l=t>>>3;e[l]|=d,e[l+1]|=d>>>8},c.F._putsF=function(e,t,d){d<<=7&t;var l=t>>>3;e[l]|=d,e[l+1]|=d>>>8,e[l+2]|=d>>>16},c.F._bitsE=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<d)-1},c.F._bitsF=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<d)-1},c.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},c.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},c.F.U=(C=Uint16Array,q=Uint32Array,{next_code:new C(16),bl_count:new C(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new C(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new q(32),flmap:new C(512),fltree:[],fdmap:new C(32),fdtree:[],lmap:new C(32768),ltree:[],ttree:[],dmap:new C(32768),dtree:[],imap:new C(512),itree:[],rev15:new C(32768),lhst:new q(286),dhst:new q(30),ihst:new q(19),lits:new q(15e3),strt:new C(65536),prev:new C(32768)}),function(){for(var e=c.F.U,t=0;t<32768;t++){var d=t;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,e.rev15[t]=(d>>>16|d<<16)>>>17}function l(g,x,a){for(;x--!=0;)g.push(0,a)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];l(e.fltree,144,8),l(e.fltree,112,9),l(e.fltree,24,7),l(e.fltree,8,8),c.F.makeCodes(e.fltree,9),c.F.codes2map(e.fltree,9,e.flmap),c.F.revCodes(e.fltree,9),l(e.fdtree,32,5),c.F.makeCodes(e.fdtree,5),c.F.codes2map(e.fdtree,5,e.fdmap),c.F.revCodes(e.fdtree,5),l(e.itree,19,0),l(e.ltree,286,0),l(e.dtree,30,0),l(e.ttree,320,0)}()})();var Rr=Tr({__proto__:null,default:lt},[lt]);const we=function(){var n={nextZero(a,i){for(;a[i]!=0;)i++;return i},readUshort:(a,i)=>a[i]<<8|a[i+1],writeUshort(a,i,r){a[i]=r>>8&255,a[i+1]=255&r},readUint:(a,i)=>16777216*a[i]+(a[i+1]<<16|a[i+2]<<8|a[i+3]),writeUint(a,i,r){a[i]=r>>24&255,a[i+1]=r>>16&255,a[i+2]=r>>8&255,a[i+3]=255&r},readASCII(a,i,r){let f="";for(let m=0;m<r;m++)f+=String.fromCharCode(a[i+m]);return f},writeASCII(a,i,r){for(let f=0;f<r.length;f++)a[i+f]=r.charCodeAt(f)},readBytes(a,i,r){const f=[];for(let m=0;m<r;m++)f.push(a[i+m]);return f},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,i,r){let f,m="";for(let A=0;A<r;A++)m+=`%${n.pad(a[i+A].toString(16))}`;try{f=decodeURIComponent(m)}catch{return n.readASCII(a,i,r)}return f}};function C(a,i,r,f){const m=i*r,A=t(f),S=Math.ceil(i*A/8),b=new Uint8Array(4*m),E=new Uint32Array(b.buffer),{ctype:U}=f,{depth:y}=f,_=n.readUshort;if(U==6){const T=m<<2;if(y==8)for(var h=0;h<T;h+=4)b[h]=a[h],b[h+1]=a[h+1],b[h+2]=a[h+2],b[h+3]=a[h+3];if(y==16)for(h=0;h<T;h++)b[h]=a[h<<1]}else if(U==2){const T=f.tabs.tRNS;if(T==null){if(y==8)for(h=0;h<m;h++){var L=3*h;E[h]=255<<24|a[L+2]<<16|a[L+1]<<8|a[L]}if(y==16)for(h=0;h<m;h++)L=6*h,E[h]=255<<24|a[L+4]<<16|a[L+2]<<8|a[L]}else{var s=T[0];const $=T[1],N=T[2];if(y==8)for(h=0;h<m;h++){var u=h<<2;L=3*h,E[h]=255<<24|a[L+2]<<16|a[L+1]<<8|a[L],a[L]==s&&a[L+1]==$&&a[L+2]==N&&(b[u+3]=0)}if(y==16)for(h=0;h<m;h++)u=h<<2,L=6*h,E[h]=255<<24|a[L+4]<<16|a[L+2]<<8|a[L],_(a,L)==s&&_(a,L+2)==$&&_(a,L+4)==N&&(b[u+3]=0)}}else if(U==3){const T=f.tabs.PLTE,$=f.tabs.tRNS,N=$?$.length:0;if(y==1)for(var w=0;w<r;w++){var I=w*S,k=w*i;for(h=0;h<i;h++){u=k+h<<2;var F=3*(p=a[I+(h>>3)]>>7-((7&h)<<0)&1);b[u]=T[F],b[u+1]=T[F+1],b[u+2]=T[F+2],b[u+3]=p<N?$[p]:255}}if(y==2)for(w=0;w<r;w++)for(I=w*S,k=w*i,h=0;h<i;h++)u=k+h<<2,F=3*(p=a[I+(h>>2)]>>6-((3&h)<<1)&3),b[u]=T[F],b[u+1]=T[F+1],b[u+2]=T[F+2],b[u+3]=p<N?$[p]:255;if(y==4)for(w=0;w<r;w++)for(I=w*S,k=w*i,h=0;h<i;h++)u=k+h<<2,F=3*(p=a[I+(h>>1)]>>4-((1&h)<<2)&15),b[u]=T[F],b[u+1]=T[F+1],b[u+2]=T[F+2],b[u+3]=p<N?$[p]:255;if(y==8)for(h=0;h<m;h++){var p;u=h<<2,F=3*(p=a[h]),b[u]=T[F],b[u+1]=T[F+1],b[u+2]=T[F+2],b[u+3]=p<N?$[p]:255}}else if(U==4){if(y==8)for(h=0;h<m;h++){u=h<<2;var P=a[v=h<<1];b[u]=P,b[u+1]=P,b[u+2]=P,b[u+3]=a[v+1]}if(y==16)for(h=0;h<m;h++){var v;u=h<<2,P=a[v=h<<2],b[u]=P,b[u+1]=P,b[u+2]=P,b[u+3]=a[v+2]}}else if(U==0)for(s=f.tabs.tRNS?f.tabs.tRNS:-1,w=0;w<r;w++){const T=w*S,$=w*i;if(y==1)for(var o=0;o<i;o++){var R=(P=255*(a[T+(o>>>3)]>>>7-(7&o)&1))==255*s?0:255;E[$+o]=R<<24|P<<16|P<<8|P}else if(y==2)for(o=0;o<i;o++)R=(P=85*(a[T+(o>>>2)]>>>6-((3&o)<<1)&3))==85*s?0:255,E[$+o]=R<<24|P<<16|P<<8|P;else if(y==4)for(o=0;o<i;o++)R=(P=17*(a[T+(o>>>1)]>>>4-((1&o)<<2)&15))==17*s?0:255,E[$+o]=R<<24|P<<16|P<<8|P;else if(y==8)for(o=0;o<i;o++)R=(P=a[T+o])==s?0:255,E[$+o]=R<<24|P<<16|P<<8|P;else if(y==16)for(o=0;o<i;o++)P=a[T+(o<<1)],R=_(a,T+(o<<1))==s?0:255,E[$+o]=R<<24|P<<16|P<<8|P}return b}function q(a,i,r,f){const m=t(a),A=Math.ceil(r*m/8),S=new Uint8Array((A+1+a.interlace)*f);return i=a.tabs.CgBI?e(i,S):c(i,S),a.interlace==0?i=d(i,a,0,r,f):a.interlace==1&&(i=function(E,U){const y=U.width,_=U.height,h=t(U),L=h>>3,s=Math.ceil(y*h/8),u=new Uint8Array(_*s);let w=0;const I=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let P=0;for(;P<7;){const o=F[P],R=p[P];let T=0,$=0,N=I[P];for(;N<_;)N+=o,$++;let B=k[P];for(;B<y;)B+=R,T++;const D=Math.ceil(T*h/8);d(E,U,w,T,$);let O=0,M=I[P];for(;M<_;){let Q=k[P],X=w+O*D<<3;for(;Q<y;){var v;if(h==1&&(v=(v=E[X>>3])>>7-(7&X)&1,u[M*s+(Q>>3)]|=v<<7-((7&Q)<<0)),h==2&&(v=(v=E[X>>3])>>6-(7&X)&3,u[M*s+(Q>>2)]|=v<<6-((3&Q)<<1)),h==4&&(v=(v=E[X>>3])>>4-(7&X)&15,u[M*s+(Q>>1)]|=v<<4-((1&Q)<<2)),h>=8){const K=M*s+Q*L;for(let W=0;W<L;W++)u[K+W]=E[(X>>3)+W]}X+=h,Q+=R}O++,M+=o}T*$!=0&&(w+=$*(1+D)),P+=1}return u}(i,a)),i}function c(a,i){return e(new Uint8Array(a.buffer,2,a.length-6),i)}var e=function(){const a={H:{}};return a.H.N=function(i,r){const f=Uint8Array;let m,A,S=0,b=0,E=0,U=0,y=0,_=0,h=0,L=0,s=0;if(i[0]==3&&i[1]==0)return r||new f(0);const u=a.H,w=u.b,I=u.e,k=u.R,F=u.n,p=u.A,P=u.Z,v=u.m,o=r==null;for(o&&(r=new f(i.length>>>2<<5));S==0;)if(S=w(i,s,1),b=w(i,s+1,2),s+=3,b!=0){if(o&&(r=a.H.W(r,L+(1<<17))),b==1&&(m=v.J,A=v.h,_=511,h=31),b==2){E=I(i,s,5)+257,U=I(i,s+5,5)+1,y=I(i,s+10,4)+4,s+=14;let T=1;for(var R=0;R<38;R+=2)v.Q[R]=0,v.Q[R+1]=0;for(R=0;R<y;R++){const B=I(i,s+3*R,3);v.Q[1+(v.X[R]<<1)]=B,B>T&&(T=B)}s+=3*y,F(v.Q,T),p(v.Q,T,v.u),m=v.w,A=v.d,s=k(v.u,(1<<T)-1,E+U,i,s,v.v);const $=u.V(v.v,0,E,v.C);_=(1<<$)-1;const N=u.V(v.v,E,U,v.D);h=(1<<N)-1,F(v.C,$),p(v.C,$,m),F(v.D,N),p(v.D,N,A)}for(;;){const T=m[P(i,s)&_];s+=15&T;const $=T>>>4;if(!($>>>8))r[L++]=$;else{if($==256)break;{let N=L+$-254;if($>264){const Q=v.q[$-257];N=L+(Q>>>3)+I(i,s,7&Q),s+=7&Q}const B=A[P(i,s)&h];s+=15&B;const D=B>>>4,O=v.c[D],M=(O>>>4)+w(i,s,15&O);for(s+=15&O;L<N;)r[L]=r[L++-M],r[L]=r[L++-M],r[L]=r[L++-M],r[L]=r[L++-M];L=N}}}}else{(7&s)!=0&&(s+=8-(7&s));const T=4+(s>>>3),$=i[T-4]|i[T-3]<<8;o&&(r=a.H.W(r,L+$)),r.set(new f(i.buffer,i.byteOffset+T,$),L),s=T+$<<3,L+=$}return r.length==L?r:r.slice(0,L)},a.H.W=function(i,r){const f=i.length;if(r<=f)return i;const m=new Uint8Array(f<<1);return m.set(i,0),m},a.H.R=function(i,r,f,m,A,S){const b=a.H.e,E=a.H.Z;let U=0;for(;U<f;){const y=i[E(m,A)&r];A+=15&y;const _=y>>>4;if(_<=15)S[U]=_,U++;else{let h=0,L=0;_==16?(L=3+b(m,A,2),A+=2,h=S[U-1]):_==17?(L=3+b(m,A,3),A+=3):_==18&&(L=11+b(m,A,7),A+=7);const s=U+L;for(;U<s;)S[U]=h,U++}}return A},a.H.V=function(i,r,f,m){let A=0,S=0;const b=m.length>>>1;for(;S<f;){const E=i[S+r];m[S<<1]=0,m[1+(S<<1)]=E,E>A&&(A=E),S++}for(;S<b;)m[S<<1]=0,m[1+(S<<1)]=0,S++;return A},a.H.n=function(i,r){const f=a.H.m,m=i.length;let A,S,b,E;const U=f.j;for(var y=0;y<=r;y++)U[y]=0;for(y=1;y<m;y+=2)U[i[y]]++;const _=f.K;for(A=0,U[0]=0,S=1;S<=r;S++)A=A+U[S-1]<<1,_[S]=A;for(b=0;b<m;b+=2)E=i[b+1],E!=0&&(i[b]=_[E],_[E]++)},a.H.A=function(i,r,f){const m=i.length,A=a.H.m.r;for(let S=0;S<m;S+=2)if(i[S+1]!=0){const b=S>>1,E=i[S+1],U=b<<4|E,y=r-E;let _=i[S]<<y;const h=_+(1<<y);for(;_!=h;)f[A[_]>>>15-r]=U,_++}},a.H.l=function(i,r){const f=a.H.m.r,m=15-r;for(let A=0;A<i.length;A+=2){const S=i[A]<<r-i[A+1];i[A]=f[S]>>>m}},a.H.M=function(i,r,f){f<<=7&r;const m=r>>>3;i[m]|=f,i[m+1]|=f>>>8},a.H.I=function(i,r,f){f<<=7&r;const m=r>>>3;i[m]|=f,i[m+1]|=f>>>8,i[m+2]|=f>>>16},a.H.e=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<f)-1},a.H.b=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<f)-1},a.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},a.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},a.H.m=function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=a.H.m;for(var r=0;r<32768;r++){let m=r;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,i.r[r]=(m>>>16|m<<16)>>>17}function f(m,A,S){for(;A--!=0;)m.push(0,S)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),a.H.n(i._,9),a.H.A(i._,9,i.J),a.H.l(i._,9),f(i.$,32,5),a.H.n(i.$,5),a.H.A(i.$,5,i.h),a.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)}(),a.H.N}();function t(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function d(a,i,r,f,m){let A=t(i);const S=Math.ceil(f*A/8);let b,E;A=Math.ceil(A/8);let U=a[r],y=0;if(U>1&&(a[r]=[0,0,1][U-2]),U==3)for(y=A;y<S;y++)a[y+1]=a[y+1]+(a[y+1-A]>>>1)&255;for(let _=0;_<m;_++)if(b=r+_*S,E=b+_+1,U=a[E-1],y=0,U==0)for(;y<S;y++)a[b+y]=a[E+y];else if(U==1){for(;y<A;y++)a[b+y]=a[E+y];for(;y<S;y++)a[b+y]=a[E+y]+a[b+y-A]}else if(U==2)for(;y<S;y++)a[b+y]=a[E+y]+a[b+y-S];else if(U==3){for(;y<A;y++)a[b+y]=a[E+y]+(a[b+y-S]>>>1);for(;y<S;y++)a[b+y]=a[E+y]+(a[b+y-S]+a[b+y-A]>>>1)}else{for(;y<A;y++)a[b+y]=a[E+y]+l(0,a[b+y-S],0);for(;y<S;y++)a[b+y]=a[E+y]+l(a[b+y-A],a[b+y-S],a[b+y-A-S])}return a}function l(a,i,r){const f=a+i-r,m=f-a,A=f-i,S=f-r;return m*m<=A*A&&m*m<=S*S?a:A*A<=S*S?i:r}function g(a,i,r){r.width=n.readUint(a,i),i+=4,r.height=n.readUint(a,i),i+=4,r.depth=a[i],i++,r.ctype=a[i],i++,r.compress=a[i],i++,r.filter=a[i],i++,r.interlace=a[i],i++}function x(a,i,r,f,m,A,S,b,E){const U=Math.min(i,m),y=Math.min(r,A);let _=0,h=0;for(let P=0;P<y;P++)for(let v=0;v<U;v++)if(S>=0&&b>=0?(_=P*i+v<<2,h=(b+P)*m+S+v<<2):(_=(-b+P)*i-S+v<<2,h=P*m+v<<2),E==0)f[h]=a[_],f[h+1]=a[_+1],f[h+2]=a[_+2],f[h+3]=a[_+3];else if(E==1){var L=a[_+3]*.00392156862745098,s=a[_]*L,u=a[_+1]*L,w=a[_+2]*L,I=f[h+3]*(1/255),k=f[h]*I,F=f[h+1]*I,p=f[h+2]*I;const o=1-L,R=L+I*o,T=R==0?0:1/R;f[h+3]=255*R,f[h+0]=(s+k*o)*T,f[h+1]=(u+F*o)*T,f[h+2]=(w+p*o)*T}else if(E==2)L=a[_+3],s=a[_],u=a[_+1],w=a[_+2],I=f[h+3],k=f[h],F=f[h+1],p=f[h+2],L==I&&s==k&&u==F&&w==p?(f[h]=0,f[h+1]=0,f[h+2]=0,f[h+3]=0):(f[h]=s,f[h+1]=u,f[h+2]=w,f[h+3]=L);else if(E==3){if(L=a[_+3],s=a[_],u=a[_+1],w=a[_+2],I=f[h+3],k=f[h],F=f[h+1],p=f[h+2],L==I&&s==k&&u==F&&w==p)continue;if(L<220&&I>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let f=8;const m=n,A=m.readUshort,S=m.readUint,b={tabs:{},frames:[]},E=new Uint8Array(r.length);let U,y=0,_=0;const h=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(r[L]!=h[L])throw"The input is not a PNG file!";for(;f<r.length;){const P=m.readUint(r,f);f+=4;const v=m.readASCII(r,f,4);if(f+=4,v=="IHDR")g(r,f,b);else if(v=="iCCP"){for(var s=f;r[s]!=0;)s++;m.readASCII(r,f,s-f),r[s+1];const o=r.slice(s+2,f+P);let R=null;try{R=c(o)}catch{R=e(o)}b.tabs[v]=R}else if(v=="CgBI")b.tabs[v]=r.slice(f,f+4);else if(v=="IDAT"){for(L=0;L<P;L++)E[y+L]=r[f+L];y+=P}else if(v=="acTL")b.tabs[v]={num_frames:S(r,f),num_plays:S(r,f+4)},U=new Uint8Array(r.length);else if(v=="fcTL"){_!=0&&((p=b.frames[b.frames.length-1]).data=q(b,U.slice(0,_),p.rect.width,p.rect.height),_=0);const o={x:S(r,f+12),y:S(r,f+16),width:S(r,f+4),height:S(r,f+8)};let R=A(r,f+22);R=A(r,f+20)/(R==0?100:R);const T={rect:o,delay:Math.round(1e3*R),dispose:r[f+24],blend:r[f+25]};b.frames.push(T)}else if(v=="fdAT"){for(L=0;L<P-4;L++)U[_+L]=r[f+L+4];_+=P-4}else if(v=="pHYs")b.tabs[v]=[m.readUint(r,f),m.readUint(r,f+4),r[f+8]];else if(v=="cHRM")for(b.tabs[v]=[],L=0;L<8;L++)b.tabs[v].push(m.readUint(r,f+4*L));else if(v=="tEXt"||v=="zTXt"){b.tabs[v]==null&&(b.tabs[v]={});var u=m.nextZero(r,f),w=m.readASCII(r,f,u-f),I=f+P-u-1;if(v=="tEXt")F=m.readASCII(r,u+1,I);else{var k=c(r.slice(u+2,u+2+I));F=m.readUTF8(k,0,k.length)}b.tabs[v][w]=F}else if(v=="iTXt"){b.tabs[v]==null&&(b.tabs[v]={}),u=0,s=f,u=m.nextZero(r,s),w=m.readASCII(r,s,u-s);const o=r[s=u+1];var F;r[s+1],s+=2,u=m.nextZero(r,s),m.readASCII(r,s,u-s),s=u+1,u=m.nextZero(r,s),m.readUTF8(r,s,u-s),I=P-((s=u+1)-f),o==0?F=m.readUTF8(r,s,I):(k=c(r.slice(s,s+I)),F=m.readUTF8(k,0,k.length)),b.tabs[v][w]=F}else if(v=="PLTE")b.tabs[v]=m.readBytes(r,f,P);else if(v=="hIST"){const o=b.tabs.PLTE.length/3;for(b.tabs[v]=[],L=0;L<o;L++)b.tabs[v].push(A(r,f+2*L))}else if(v=="tRNS")b.ctype==3?b.tabs[v]=m.readBytes(r,f,P):b.ctype==0?b.tabs[v]=A(r,f):b.ctype==2&&(b.tabs[v]=[A(r,f),A(r,f+2),A(r,f+4)]);else if(v=="gAMA")b.tabs[v]=m.readUint(r,f)/1e5;else if(v=="sRGB")b.tabs[v]=r[f];else if(v=="bKGD")b.ctype==0||b.ctype==4?b.tabs[v]=[A(r,f)]:b.ctype==2||b.ctype==6?b.tabs[v]=[A(r,f),A(r,f+2),A(r,f+4)]:b.ctype==3&&(b.tabs[v]=r[f]);else if(v=="IEND")break;f+=P,m.readUint(r,f),f+=4}var p;return _!=0&&((p=b.frames[b.frames.length-1]).data=q(b,U.slice(0,_),p.rect.width,p.rect.height)),b.data=q(b,E,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const r=i.width,f=i.height;if(i.tabs.acTL==null)return[C(i.data,r,f,i).buffer];const m=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const A=r*f*4,S=new Uint8Array(A),b=new Uint8Array(A),E=new Uint8Array(A);for(let y=0;y<i.frames.length;y++){const _=i.frames[y],h=_.rect.x,L=_.rect.y,s=_.rect.width,u=_.rect.height,w=C(_.data,s,u,i);if(y!=0)for(var U=0;U<A;U++)E[U]=S[U];if(_.blend==0?x(w,s,u,S,r,f,h,L,0):_.blend==1&&x(w,s,u,S,r,f,h,L,1),m.push(S.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)x(b,s,u,S,r,f,h,L,0);else if(_.dispose==2)for(U=0;U<A;U++)S[U]=E[U]}}return m},_paeth:l,_copyTile:x,_bin:n}}();(function(){const{_copyTile:n}=we,{_bin:C}=we,q=we._paeth;var c={table:function(){const s=new Uint32Array(256);for(let u=0;u<256;u++){let w=u;for(let I=0;I<8;I++)1&w?w=3988292384^w>>>1:w>>>=1;s[u]=w}return s}(),update(s,u,w,I){for(let k=0;k<I;k++)s=c.table[255&(s^u[w+k])]^s>>>8;return s},crc:(s,u,w)=>4294967295^c.update(4294967295,s,u,w)};function e(s,u,w,I){u[w]+=s[0]*I>>4,u[w+1]+=s[1]*I>>4,u[w+2]+=s[2]*I>>4,u[w+3]+=s[3]*I>>4}function t(s){return Math.max(0,Math.min(255,s))}function d(s,u){const w=s[0]-u[0],I=s[1]-u[1],k=s[2]-u[2],F=s[3]-u[3];return w*w+I*I+k*k+F*F}function l(s,u,w,I,k,F,p){p==null&&(p=1);const P=I.length,v=[];for(var o=0;o<P;o++){const M=I[o];v.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(o=0;o<P;o++){let M=4294967295;for(var R=0,T=0;T<P;T++){var $=d(v[o],v[T]);T!=o&&$<M&&(M=$,R=T)}}const N=new Uint32Array(k.buffer),B=new Int16Array(u*w*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<D.length;o++)D[o]=255*((D[o]+.5)/16-.5);for(let M=0;M<w;M++)for(let Q=0;Q<u;Q++){var O;o=4*(M*u+Q),p!=2?O=[t(s[o]+B[o]),t(s[o+1]+B[o+1]),t(s[o+2]+B[o+2]),t(s[o+3]+B[o+3])]:($=D[4*(3&M)+(3&Q)],O=[t(s[o]+$),t(s[o+1]+$),t(s[o+2]+$),t(s[o+3]+$)]),R=0;let X=16777215;for(T=0;T<P;T++){const G=d(O,v[T]);G<X&&(X=G,R=T)}const K=v[R],W=[O[0]-K[0],O[1]-K[1],O[2]-K[2],O[3]-K[3]];p==1&&(Q!=u-1&&e(W,B,o+4,7),M!=w-1&&(Q!=0&&e(W,B,o+4*u-4,3),e(W,B,o+4*u,5),Q!=u-1&&e(W,B,o+4*u+4,1))),F[o>>2]=R,N[o>>2]=I[R]}}function g(s,u,w,I,k){k==null&&(k={});const{crc:F}=c,p=C.writeUint,P=C.writeUshort,v=C.writeASCII;let o=8;const R=s.frames.length>1;let T,$=!1,N=33+(R?20:0);if(k.sRGB!=null&&(N+=13),k.pHYs!=null&&(N+=21),k.iCCP!=null&&(T=pako.deflate(k.iCCP),N+=21+T.length+4),s.ctype==3){for(var B=s.plte.length,D=0;D<B;D++)s.plte[D]>>>24!=255&&($=!0);N+=8+3*B+4+($?8+1*B+4:0)}for(var O=0;O<s.frames.length;O++)R&&(N+=38),N+=(K=s.frames[O]).cimg.length+12,O!=0&&(N+=4);N+=12;const M=new Uint8Array(N),Q=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)M[D]=Q[D];if(p(M,o,13),o+=4,v(M,o,"IHDR"),o+=4,p(M,o,u),o+=4,p(M,o,w),o+=4,M[o]=s.depth,o++,M[o]=s.ctype,o++,M[o]=0,o++,M[o]=0,o++,M[o]=0,o++,p(M,o,F(M,o-17,17)),o+=4,k.sRGB!=null&&(p(M,o,1),o+=4,v(M,o,"sRGB"),o+=4,M[o]=k.sRGB,o++,p(M,o,F(M,o-5,5)),o+=4),k.iCCP!=null){const W=13+T.length;p(M,o,W),o+=4,v(M,o,"iCCP"),o+=4,v(M,o,"ICC profile"),o+=11,o+=2,M.set(T,o),o+=T.length,p(M,o,F(M,o-(W+4),W+4)),o+=4}if(k.pHYs!=null&&(p(M,o,9),o+=4,v(M,o,"pHYs"),o+=4,p(M,o,k.pHYs[0]),o+=4,p(M,o,k.pHYs[1]),o+=4,M[o]=k.pHYs[2],o++,p(M,o,F(M,o-13,13)),o+=4),R&&(p(M,o,8),o+=4,v(M,o,"acTL"),o+=4,p(M,o,s.frames.length),o+=4,p(M,o,k.loop!=null?k.loop:0),o+=4,p(M,o,F(M,o-12,12)),o+=4),s.ctype==3){for(p(M,o,3*(B=s.plte.length)),o+=4,v(M,o,"PLTE"),o+=4,D=0;D<B;D++){const W=3*D,G=s.plte[D],te=255&G,ie=G>>>8&255,Le=G>>>16&255;M[o+W+0]=te,M[o+W+1]=ie,M[o+W+2]=Le}if(o+=3*B,p(M,o,F(M,o-3*B-4,3*B+4)),o+=4,$){for(p(M,o,B),o+=4,v(M,o,"tRNS"),o+=4,D=0;D<B;D++)M[o+D]=s.plte[D]>>>24&255;o+=B,p(M,o,F(M,o-B-4,B+4)),o+=4}}let X=0;for(O=0;O<s.frames.length;O++){var K=s.frames[O];R&&(p(M,o,26),o+=4,v(M,o,"fcTL"),o+=4,p(M,o,X++),o+=4,p(M,o,K.rect.width),o+=4,p(M,o,K.rect.height),o+=4,p(M,o,K.rect.x),o+=4,p(M,o,K.rect.y),o+=4,P(M,o,I[O]),o+=2,P(M,o,1e3),o+=2,M[o]=K.dispose,o++,M[o]=K.blend,o++,p(M,o,F(M,o-30,30)),o+=4);const W=K.cimg;p(M,o,(B=W.length)+(O==0?0:4)),o+=4;const G=o;v(M,o,O==0?"IDAT":"fdAT"),o+=4,O!=0&&(p(M,o,X++),o+=4),M.set(W,o),o+=B,p(M,o,F(M,G,o-G)),o+=4}return p(M,o,0),o+=4,v(M,o,"IEND"),o+=4,p(M,o,F(M,o-4,4)),o+=4,M.buffer}function x(s,u,w){for(let I=0;I<s.frames.length;I++){const k=s.frames[I];k.rect.width;const F=k.rect.height,p=new Uint8Array(F*k.bpl+F);k.cimg=f(k.img,F,k.bpp,k.bpl,p,u,w)}}function a(s,u,w,I,k){const F=k[0],p=k[1],P=k[2],v=k[3],o=k[4],R=k[5];let T=6,$=8,N=255;for(var B=0;B<s.length;B++){const se=new Uint8Array(s[B]);for(var D=se.length,O=0;O<D;O+=4)N&=se[O+3]}const M=N!=255,Q=function(J,Y,le,de,ne,ge){const re=[];for(var Z=0;Z<J.length;Z++){const he=new Uint8Array(J[Z]),pe=new Uint32Array(he.buffer);var me;let ye=0,ke=0,_e=Y,Me=le,gt=de?1:0;if(Z!=0){const an=ge||de||Z==1||re[Z-2].dispose!=0?1:2;let mt=0,_t=1e9;for(let Ze=0;Ze<an;Ze++){var Pe=new Uint8Array(J[Z-1-Ze]);const on=new Uint32Array(J[Z-1-Ze]);let Te=Y,qe=le,He=-1,Xe=-1;for(let $e=0;$e<le;$e++)for(let Oe=0;Oe<Y;Oe++)pe[ue=$e*Y+Oe]!=on[ue]&&(Oe<Te&&(Te=Oe),Oe>He&&(He=Oe),$e<qe&&(qe=$e),$e>Xe&&(Xe=$e));He==-1&&(Te=qe=He=Xe=0),ne&&((1&Te)==1&&Te--,(1&qe)==1&&qe--);const St=(He-Te+1)*(Xe-qe+1);St<_t&&(_t=St,mt=Ze,ye=Te,ke=qe,_e=He-Te+1,Me=Xe-qe+1)}Pe=new Uint8Array(J[Z-1-mt]),mt==1&&(re[Z-1].dispose=2),me=new Uint8Array(_e*Me*4),n(Pe,Y,le,me,_e,Me,-ye,-ke,0),gt=n(he,Y,le,me,_e,Me,-ye,-ke,3)?1:0,gt==1?r(he,Y,le,me,{x:ye,y:ke,width:_e,height:Me}):n(he,Y,le,me,_e,Me,-ye,-ke,0)}else me=he.slice(0);re.push({rect:{x:ye,y:ke,width:_e,height:Me},img:me,blend:gt,dispose:0})}if(de)for(Z=0;Z<re.length;Z++){if((Re=re[Z]).blend==1)continue;const he=Re.rect,pe=re[Z-1].rect,ye=Math.min(he.x,pe.x),ke=Math.min(he.y,pe.y),_e={x:ye,y:ke,width:Math.max(he.x+he.width,pe.x+pe.width)-ye,height:Math.max(he.y+he.height,pe.y+pe.height)-ke};re[Z-1].dispose=1,Z-1!=0&&i(J,Y,le,re,Z-1,_e,ne),i(J,Y,le,re,Z,_e,ne)}let nt=0;if(J.length!=1)for(var ue=0;ue<re.length;ue++){var Re;nt+=(Re=re[ue]).rect.width*Re.rect.height}return re}(s,u,w,F,p,P),X={},K=[],W=[];if(I!=0){const se=[];for(O=0;O<Q.length;O++)se.push(Q[O].img.buffer);const J=function(ne){let ge=0;for(var re=0;re<ne.length;re++)ge+=ne[re].byteLength;const Z=new Uint8Array(ge);let me=0;for(re=0;re<ne.length;re++){const Pe=new Uint8Array(ne[re]),nt=Pe.length;for(let ue=0;ue<nt;ue+=4){let Re=Pe[ue],he=Pe[ue+1],pe=Pe[ue+2];const ye=Pe[ue+3];ye==0&&(Re=he=pe=0),Z[me+ue]=Re,Z[me+ue+1]=he,Z[me+ue+2]=pe,Z[me+ue+3]=ye}me+=nt}return Z.buffer}(se),Y=A(J,I);for(O=0;O<Y.plte.length;O++)K.push(Y.plte[O].est.rgba);let le=0;for(O=0;O<Q.length;O++){const de=(te=Q[O]).img.length;var G=new Uint8Array(Y.inds.buffer,le>>2,de>>2);W.push(G);const ne=new Uint8Array(Y.abuf,le,de);R&&l(te.img,te.rect.width,te.rect.height,K,ne,G),te.img.set(ne),le+=de}}else for(B=0;B<Q.length;B++){var te=Q[B];const se=new Uint32Array(te.img.buffer);var ie=te.rect.width;for(D=se.length,G=new Uint8Array(D),W.push(G),O=0;O<D;O++){const J=se[O];if(O!=0&&J==se[O-1])G[O]=G[O-1];else if(O>ie&&J==se[O-ie])G[O]=G[O-ie];else{let Y=X[J];if(Y==null&&(X[J]=Y=K.length,K.push(J),K.length>=300))break;G[O]=Y}}}const Le=K.length;for(Le<=256&&o==0&&($=Le<=2?1:Le<=4?2:Le<=16?4:8,$=Math.max($,v)),B=0;B<Q.length;B++){(te=Q[B]).rect.x,te.rect.y,ie=te.rect.width;const se=te.rect.height;let J=te.img;new Uint32Array(J.buffer);let Y=4*ie,le=4;if(Le<=256&&o==0){Y=Math.ceil($*ie/8);var xe=new Uint8Array(Y*se);const de=W[B];for(let ne=0;ne<se;ne++){O=ne*Y;const ge=ne*ie;if($==8)for(var ee=0;ee<ie;ee++)xe[O+ee]=de[ge+ee];else if($==4)for(ee=0;ee<ie;ee++)xe[O+(ee>>1)]|=de[ge+ee]<<4-4*(1&ee);else if($==2)for(ee=0;ee<ie;ee++)xe[O+(ee>>2)]|=de[ge+ee]<<6-2*(3&ee);else if($==1)for(ee=0;ee<ie;ee++)xe[O+(ee>>3)]|=de[ge+ee]<<7-1*(7&ee)}J=xe,T=3,le=1}else if(M==0&&Q.length==1){xe=new Uint8Array(ie*se*3);const de=ie*se;for(O=0;O<de;O++){const ne=3*O,ge=4*O;xe[ne]=J[ge],xe[ne+1]=J[ge+1],xe[ne+2]=J[ge+2]}J=xe,T=2,le=3,Y=3*ie}te.img=J,te.bpl=Y,te.bpp=le}return{ctype:T,depth:$,plte:K,frames:Q}}function i(s,u,w,I,k,F,p){const P=Uint8Array,v=Uint32Array,o=new P(s[k-1]),R=new v(s[k-1]),T=k+1<s.length?new P(s[k+1]):null,$=new P(s[k]),N=new v($.buffer);let B=u,D=w,O=-1,M=-1;for(let X=0;X<F.height;X++)for(let K=0;K<F.width;K++){const W=F.x+K,G=F.y+X,te=G*u+W,ie=N[te];ie==0||I[k-1].dispose==0&&R[te]==ie&&(T==null||T[4*te+3]!=0)||(W<B&&(B=W),W>O&&(O=W),G<D&&(D=G),G>M&&(M=G))}O==-1&&(B=D=O=M=0),p&&((1&B)==1&&B--,(1&D)==1&&D--),F={x:B,y:D,width:O-B+1,height:M-D+1};const Q=I[k];Q.rect=F,Q.blend=1,Q.img=new Uint8Array(F.width*F.height*4),I[k-1].dispose==0?(n(o,u,w,Q.img,F.width,F.height,-F.x,-F.y,0),r($,u,w,Q.img,F)):n($,u,w,Q.img,F.width,F.height,-F.x,-F.y,0)}function r(s,u,w,I,k){n(s,u,w,I,k.width,k.height,-k.x,-k.y,2)}function f(s,u,w,I,k,F,p){const P=[];let v,o=[0,1,2,3,4];F!=-1?o=[F]:(u*I>5e5||w==1)&&(o=[0]),p&&(v={level:0});const R=Rr;for(var T=0;T<o.length;T++){for(let B=0;B<u;B++)m(k,s,B,I,w,o[T]);P.push(R.deflate(k,v))}let $,N=1e9;for(T=0;T<P.length;T++)P[T].length<N&&($=T,N=P[T].length);return P[$]}function m(s,u,w,I,k,F){const p=w*I;let P=p+w;if(s[P]=F,P++,F==0)if(I<500)for(var v=0;v<I;v++)s[P+v]=u[p+v];else s.set(new Uint8Array(u.buffer,p,I),P);else if(F==1){for(v=0;v<k;v++)s[P+v]=u[p+v];for(v=k;v<I;v++)s[P+v]=u[p+v]-u[p+v-k]+256&255}else if(w==0){for(v=0;v<k;v++)s[P+v]=u[p+v];if(F==2)for(v=k;v<I;v++)s[P+v]=u[p+v];if(F==3)for(v=k;v<I;v++)s[P+v]=u[p+v]-(u[p+v-k]>>1)+256&255;if(F==4)for(v=k;v<I;v++)s[P+v]=u[p+v]-q(u[p+v-k],0,0)+256&255}else{if(F==2)for(v=0;v<I;v++)s[P+v]=u[p+v]+256-u[p+v-I]&255;if(F==3){for(v=0;v<k;v++)s[P+v]=u[p+v]+256-(u[p+v-I]>>1)&255;for(v=k;v<I;v++)s[P+v]=u[p+v]+256-(u[p+v-I]+u[p+v-k]>>1)&255}if(F==4){for(v=0;v<k;v++)s[P+v]=u[p+v]+256-q(0,u[p+v-I],0)&255;for(v=k;v<I;v++)s[P+v]=u[p+v]+256-q(u[p+v-k],u[p+v-I],u[p+v-k-I])&255}}}function A(s,u){const w=new Uint8Array(s),I=w.slice(0),k=new Uint32Array(I.buffer),F=S(I,u),p=F[0],P=F[1],v=w.length,o=new Uint8Array(v>>2);let R;if(w.length<2e7)for(var T=0;T<v;T+=4)R=b(p,$=w[T]*(1/255),N=w[T+1]*(1/255),B=w[T+2]*(1/255),D=w[T+3]*(1/255)),o[T>>2]=R.ind,k[T>>2]=R.est.rgba;else for(T=0;T<v;T+=4){var $=w[T]*.00392156862745098,N=w[T+1]*(1/255),B=w[T+2]*(1/255),D=w[T+3]*(1/255);for(R=p;R.left;)R=E(R.est,$,N,B,D)<=0?R.left:R.right;o[T>>2]=R.ind,k[T>>2]=R.est.rgba}return{abuf:I.buffer,inds:o,plte:P}}function S(s,u,w){w==null&&(w=1e-4);const I=new Uint32Array(s.buffer),k={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=_(s,k.i0,k.i1),k.est=h(k.bst);const F=[k];for(;F.length<u;){let P=0,v=0;for(var p=0;p<F.length;p++)F[p].est.L>P&&(P=F[p].est.L,v=p);if(P<w)break;const o=F[v],R=U(s,I,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=R||o.i1<=R){o.est.L=0;continue}const T={i0:o.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};T.bst=_(s,T.i0,T.i1),T.est=h(T.bst);const $={i0:R,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:o.bst.N-T.bst.N},p=0;p<16;p++)$.bst.R[p]=o.bst.R[p]-T.bst.R[p];for(p=0;p<4;p++)$.bst.m[p]=o.bst.m[p]-T.bst.m[p];$.est=h($.bst),o.left=T,o.right=$,F[v]=T,F.push($)}for(F.sort((P,v)=>v.bst.N-P.bst.N),p=0;p<F.length;p++)F[p].ind=p;return[k,F]}function b(s,u,w,I,k){if(s.left==null)return s.tdst=function(T,$,N,B,D){const O=$-T[0],M=N-T[1],Q=B-T[2],X=D-T[3];return O*O+M*M+Q*Q+X*X}(s.est.q,u,w,I,k),s;const F=E(s.est,u,w,I,k);let p=s.left,P=s.right;F>0&&(p=s.right,P=s.left);const v=b(p,u,w,I,k);if(v.tdst<=F*F)return v;const o=b(P,u,w,I,k);return o.tdst<v.tdst?o:v}function E(s,u,w,I,k){const{e:F}=s;return F[0]*u+F[1]*w+F[2]*I+F[3]*k-s.eMq}function U(s,u,w,I,k,F){for(I-=4;w<I;){for(;y(s,w,k)<=F;)w+=4;for(;y(s,I,k)>F;)I-=4;if(w>=I)break;const p=u[w>>2];u[w>>2]=u[I>>2],u[I>>2]=p,w+=4,I-=4}for(;y(s,w,k)>F;)w-=4;return w+4}function y(s,u,w){return s[u]*w[0]+s[u+1]*w[1]+s[u+2]*w[2]+s[u+3]*w[3]}function _(s,u,w){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],F=w-u>>2;for(let p=u;p<w;p+=4){const P=s[p]*.00392156862745098,v=s[p+1]*(1/255),o=s[p+2]*(1/255),R=s[p+3]*(1/255);k[0]+=P,k[1]+=v,k[2]+=o,k[3]+=R,I[0]+=P*P,I[1]+=P*v,I[2]+=P*o,I[3]+=P*R,I[5]+=v*v,I[6]+=v*o,I[7]+=v*R,I[10]+=o*o,I[11]+=o*R,I[15]+=R*R}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:k,N:F}}function h(s){const{R:u}=s,{m:w}=s,{N:I}=s,k=w[0],F=w[1],p=w[2],P=w[3],v=I==0?0:1/I,o=[u[0]-k*k*v,u[1]-k*F*v,u[2]-k*p*v,u[3]-k*P*v,u[4]-F*k*v,u[5]-F*F*v,u[6]-F*p*v,u[7]-F*P*v,u[8]-p*k*v,u[9]-p*F*v,u[10]-p*p*v,u[11]-p*P*v,u[12]-P*k*v,u[13]-P*F*v,u[14]-P*p*v,u[15]-P*P*v],R=o,T=L;let $=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,B=0;if(I!=0)for(let O=0;O<16&&($=T.multVec(R,$),B=Math.sqrt(T.dot($,$)),$=T.sml(1/B,$),!(O!=0&&Math.abs(B-N)<1e-9));O++)N=B;const D=[k*v,F*v,p*v,P*v];return{Cov:o,q:D,e:$,L:N,eMq255:T.dot(T.sml(255,D),$),eMq:T.dot($,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var L={multVec:(s,u)=>[s[0]*u[0]+s[1]*u[1]+s[2]*u[2]+s[3]*u[3],s[4]*u[0]+s[5]*u[1]+s[6]*u[2]+s[7]*u[3],s[8]*u[0]+s[9]*u[1]+s[10]*u[2]+s[11]*u[3],s[12]*u[0]+s[13]*u[1]+s[14]*u[2]+s[15]*u[3]],dot:(s,u)=>s[0]*u[0]+s[1]*u[1]+s[2]*u[2]+s[3]*u[3],sml:(s,u)=>[s*u[0],s*u[1],s*u[2],s*u[3]]};we.encode=function(u,w,I,k,F,p,P){k==null&&(k=0),P==null&&(P=!1);const v=a(u,w,I,k,[!1,!1,!1,0,P,!1]);return x(v,-1),g(v,w,I,F,p)},we.encodeLL=function(u,w,I,k,F,p,P,v){const o={ctype:0+(k==1?0:2)+(F==0?0:4),depth:p,frames:[]},R=(k+F)*p,T=R*w;for(let $=0;$<u.length;$++)o.frames.push({rect:{x:0,y:0,width:w,height:I},img:new Uint8Array(u[$]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(T/8)});return x(o,0,!0),g(o,w,I,P,v)},we.encode.compress=a,we.encode.dither=l,we.quantize=A,we.quantize.getKDtree=S,we.quantize.getNearest=b})();const Kt={toArrayBuffer(n,C){const q=n.width,c=n.height,e=q<<2,t=n.getContext("2d").getImageData(0,0,q,c),d=new Uint32Array(t.data.buffer),l=(32*q+31)/32<<2,g=l*c,x=122+g,a=new ArrayBuffer(x),i=new DataView(a),r=1<<20;let f,m,A,S,b=r,E=0,U=0,y=0;function _(s){i.setUint16(U,s,!0),U+=2}function h(s){i.setUint32(U,s,!0),U+=4}function L(s){U+=s}_(19778),h(x),L(4),h(122),h(108),h(q),h(-c>>>0),_(1),_(32),h(3),h(g),h(2835),h(2835),L(8),h(16711680),h(65280),h(255),h(4278190080),h(1466527264),function s(){for(;E<c&&b>0;){for(S=122+E*l,f=0;f<e;)b--,m=d[y++],A=m>>>24,i.setUint32(S+f,m<<8|A),f+=4;E++}y<d.length?(b=r,setTimeout(s,Kt._dly)):C(a)}()},toBlob(n,C){this.toArrayBuffer(n,q=>{C(new Blob([q],{type:"image/bmp"}))})},_dly:9};var ve={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Mr={[ve.CHROME]:16384,[ve.FIREFOX]:11180,[ve.DESKTOP_SAFARI]:16384,[ve.IE]:8192,[ve.IOS]:4096,[ve.ETC]:8192};const At=typeof window<"u",Gt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,st=At&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$r=(At||Gt)&&(st&&st.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Yt=(At||Gt)&&(st&&st.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function xt(n,C,q=Date.now()){return new Promise(c=>{const e=n.split(","),t=e[0].match(/:(.*?);/)[1],d=globalThis.atob(e[1]);let l=d.length;const g=new Uint8Array(l);for(;l--;)g[l]=d.charCodeAt(l);const x=new Blob([g],{type:t});x.name=C,x.lastModified=q,c(x)})}function Zt(n){return new Promise((C,q)=>{const c=new Yt;c.onload=()=>C(c.result),c.onerror=e=>q(e),c.readAsDataURL(n)})}function Xt(n){return new Promise((C,q)=>{const c=new Image;c.onload=()=>C(c),c.onerror=e=>q(e),c.src=n})}function De(){if(De.cachedResult!==void 0)return De.cachedResult;let n=ve.ETC;const{userAgent:C}=navigator;return/Chrom(e|ium)/i.test(C)?n=ve.CHROME:/iP(ad|od|hone)/i.test(C)&&/WebKit/i.test(C)?n=ve.IOS:/Safari/i.test(C)?n=ve.DESKTOP_SAFARI:/Firefox/i.test(C)?n=ve.FIREFOX:(/MSIE/i.test(C)||document.documentMode)&&(n=ve.IE),De.cachedResult=n,De.cachedResult}function Jt(n,C){const q=De(),c=Mr[q];let e=n,t=C,d=e*t;const l=e>t?t/e:e/t;for(;d>c*c;){const g=(c+e)/2,x=(c+t)/2;g<x?(t=x,e=x*l):(t=g*l,e=g),d=e*t}return{width:e,height:t}}function vt(n,C){let q,c;try{if(q=new OffscreenCanvas(n,C),c=q.getContext("2d"),c===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{q=document.createElement("canvas"),c=q.getContext("2d")}return q.width=n,q.height=C,[q,c]}function en(n,C){const{width:q,height:c}=Jt(n.width,n.height),[e,t]=vt(q,c);return C&&/jpe?g/.test(C)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(n,0,0,e.width,e.height),e}function ot(){return ot.cachedResult!==void 0||(ot.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ot.cachedResult}function ut(n,C={}){return new Promise(function(q,c){let e,t;var d=function(){try{return t=en(e,C.fileType||n.type),q([e,t])}catch(g){return c(g)}},l=function(g){try{var x=function(a){try{throw a}catch(i){return c(i)}};try{let a;return Zt(n).then(function(i){try{return a=i,Xt(a).then(function(r){try{return e=r,function(){try{return d()}catch(f){return c(f)}}()}catch(f){return x(f)}},x)}catch(r){return x(r)}},x)}catch(a){x(a)}}catch(a){return c(a)}};try{if(ot()||[ve.DESKTOP_SAFARI,ve.MOBILE_SAFARI].includes(De()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(g){try{return e=g,d()}catch{return l()}},l)}catch{l()}})}function ct(n,C,q,c,e=1){return new Promise(function(t,d){let l;if(C==="image/png"){let x,a,i;return x=n.getContext("2d"),{data:a}=x.getImageData(0,0,n.width,n.height),i=we.encode([a.buffer],n.width,n.height,4096*e),l=new Blob([i],{type:C}),l.name=q,l.lastModified=c,g.call(this)}{let x=function(){return g.call(this)};if(C==="image/bmp")return new Promise(a=>Kt.toBlob(n,a)).then((function(a){try{return l=a,l.name=q,l.lastModified=c,x.call(this)}catch(i){return d(i)}}).bind(this),d);{let a=function(){return x.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:C,quality:e}).then((function(i){try{return l=i,l.name=q,l.lastModified=c,a.call(this)}catch(r){return d(r)}}).bind(this),d);{let i;return i=n.toDataURL(C,e),xt(i,q,c).then((function(r){try{return l=r,a.call(this)}catch(f){return d(f)}}).bind(this),d)}}}function g(){return t(l)}})}function Se(n){n.width=0,n.height=0}function Ge(){return new Promise(function(n,C){let q,c,e,t;return Ge.cachedResult!==void 0?n(Ge.cachedResult):xt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(d){try{return q=d,ut(q).then(function(l){try{return c=l[1],ct(c,q.type,q.name,q.lastModified).then(function(g){try{return e=g,Se(c),ut(e).then(function(x){try{return t=x[0],Ge.cachedResult=t.width===1&&t.height===2,n(Ge.cachedResult)}catch(a){return C(a)}},C)}catch(x){return C(x)}},C)}catch(g){return C(g)}},C)}catch(l){return C(l)}},C)})}function tn(n){return new Promise((C,q)=>{const c=new Yt;c.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return C(-2);const d=t.byteLength;let l=2;for(;l<d;){if(t.getUint16(l+2,!1)<=8)return C(-1);const g=t.getUint16(l,!1);if(l+=2,g==65505){if(t.getUint32(l+=2,!1)!=1165519206)return C(-1);const x=t.getUint16(l+=6,!1)==18761;l+=t.getUint32(l+4,x);const a=t.getUint16(l,x);l+=2;for(let i=0;i<a;i++)if(t.getUint16(l+12*i,x)==274)return C(t.getUint16(l+12*i+8,x))}else{if((65280&g)!=65280)break;l+=t.getUint16(l,!1)}}return C(-1)},c.onerror=e=>q(e),c.readAsArrayBuffer(n)})}function nn(n,C){const{width:q}=n,{height:c}=n,{maxWidthOrHeight:e}=C;let t,d=n;return isFinite(e)&&(q>e||c>e)&&([d,t]=vt(q,c),q>c?(d.width=e,d.height=c/q*e):(d.width=q/c*e,d.height=e),t.drawImage(n,0,0,d.width,d.height),Se(n)),d}function rn(n,C){const{width:q}=n,{height:c}=n,[e,t]=vt(q,c);switch(C>4&&C<9?(e.width=c,e.height=q):(e.width=q,e.height=c),C){case 2:t.transform(-1,0,0,1,q,0);break;case 3:t.transform(-1,0,0,-1,q,c);break;case 4:t.transform(1,0,0,-1,0,c);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,c,0);break;case 7:t.transform(0,-1,-1,0,c,q);break;case 8:t.transform(0,-1,1,0,0,q)}return t.drawImage(n,0,0,q,c),Se(n),e}function Rt(n,C,q=0){return new Promise(function(c,e){let t,d,l,g,x,a,i,r,f,m,A,S,b,E,U,y,_,h,L,s;function u(I=5){if(C.signal&&C.signal.aborted)throw C.signal.reason;t+=I,C.onProgress(Math.min(t,100))}function w(I){if(C.signal&&C.signal.aborted)throw C.signal.reason;t=Math.min(Math.max(I,t),100),C.onProgress(t)}return t=q,d=C.maxIteration||10,l=1024*C.maxSizeMB*1024,u(),ut(n,C).then((function(I){try{return[,g]=I,u(),x=nn(g,C),u(),new Promise(function(k,F){var p;if(!(p=C.exifOrientation))return tn(n).then((function(v){try{return p=v,P.call(this)}catch(o){return F(o)}}).bind(this),F);function P(){return k(p)}return P.call(this)}).then((function(k){try{return a=k,u(),Ge().then((function(F){try{return i=F?x:rn(x,a),u(),r=C.initialQuality||1,f=C.fileType||n.type,ct(i,f,n.name,n.lastModified,r).then((function(p){try{{let v=function(){if(d--&&(U>l||U>b)){let R,T;return R=s?.95*L.width:L.width,T=s?.95*L.height:L.height,[_,h]=vt(R,T),h.drawImage(L,0,0,R,T),r*=f==="image/png"?.85:.95,ct(_,f,n.name,n.lastModified,r).then(function($){try{return y=$,Se(L),L=_,U=y.size,w(Math.min(99,Math.floor((E-U)/(E-l)*100))),v}catch(N){return e(N)}},e)}return[1]},o=function(){return Se(L),Se(_),Se(x),Se(i),Se(g),w(100),c(y)};if(m=p,u(),A=m.size>l,S=m.size>n.size,!A&&!S)return w(100),c(m);var P;return b=n.size,E=m.size,U=E,L=i,s=!C.alwaysKeepResolution&&A,(P=(function(R){for(;R;){if(R.then)return void R.then(P,e);try{if(R.pop){if(R.length)return R.pop()?o.call(this):R;R=v}else R=R.call(this)}catch(T){return e(T)}}}).bind(this))(v)}}catch(v){return e(v)}}).bind(this),e)}catch(p){return e(p)}}).bind(this),e)}catch(F){return e(F)}}).bind(this),e)}catch(k){return e(k)}}).bind(this),e)})}const Or=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let wt;function Br(n,C){return new Promise((q,c)=>{wt||(wt=function(d){const l=[];return l.push(d),URL.createObjectURL(new Blob(l))}(Or));const e=new Worker(wt);e.addEventListener("message",function(d){if(C.signal&&C.signal.aborted)e.terminate();else if(d.data.progress===void 0){if(d.data.error)return c(new Error(d.data.error)),void e.terminate();q(d.data.file),e.terminate()}else C.onProgress(d.data.progress)}),e.addEventListener("error",c),C.signal&&C.signal.addEventListener("abort",()=>{c(C.signal.reason),e.terminate()}),e.postMessage({file:n,imageCompressionLibUrl:C.libURL,options:{...C,onProgress:void 0,signal:void 0}})})}function ce(n,C){return new Promise(function(q,c){let e,t,d,l,g,x;if(e={...C},d=0,{onProgress:l}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{d=f,typeof l=="function"&&l(d)},!(n instanceof Blob||n instanceof $r))return c(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return c(new Error("The file given is not an image"));if(x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||x)return Rt(n,e).then((function(f){try{return t=f,r.call(this)}catch(m){return c(m)}}).bind(this),c);var a=(function(){try{return r.call(this)}catch(f){return c(f)}}).bind(this),i=function(f){try{return Rt(n,e).then(function(m){try{return t=m,a()}catch(A){return c(A)}},c)}catch(m){return c(m)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Br(n,e).then(function(f){try{return t=f,a()}catch{return i()}},i)}catch{i()}function r(){try{t.name=n.name,t.lastModified=n.lastModified}catch{}try{e.preserveExif&&n.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===n.type)&&(t=Wt(n,t))}catch{}return q(t)}})}ce.getDataUrlFromFile=Zt,ce.getFilefromDataUrl=xt,ce.loadImage=Xt,ce.drawImageInCanvas=en,ce.drawFileInCanvas=ut,ce.canvasToFile=ct,ce.getExifOrientation=tn,ce.handleMaxWidthOrHeight=nn,ce.followExifOrientation=rn,ce.cleanupCanvasMemory=Se,ce.isAutoOrientationInBrowser=Ge,ce.approximateBelowMaximumCanvasSizeOfBrowser=Jt,ce.copyExifWithoutOrientation=Wt,ce.getBrowserName=De,ce.version="2.0.2";const Vr={class:"row items-center justify-between note__name"},Dr={class:"text-h6 ellipsis store-name"},Nr={class:"note__address-info"},Hr={class:"address-info"},zr={class:"text-subtitle2 ellipsis address-info__address"},Qr={class:"address-info__distance"},jr={class:"rating"},Wr={class:"rating"},Kr={key:0},Gr={__name:"Note",props:{isCreate:{type:Boolean,default:!1},noteInput:{type:Object,required:!0}},emits:["delete:note","update:isNoteOpen","create:note","update:note"],setup(n,{emit:C}){const q=Vn(),c=Dn(),e=n,t=ae({...e.noteInput}),d=V(()=>t.value.user!==q.user.ID),l=V(()=>{const y=c.targetUserList.find(_=>_.user===t.value.user);return y?y.name:"載入中"}),g=ae([]),x=ae(!1),a=V(()=>g.value.length>0),i=ae(!1),r=ae(e.isCreate),f=ae(!1),m=ae(!1),A=V(()=>{let y=Ut(q.userLocation.lat,q.userLocation.lng,e.noteInput.location.lat,e.noteInput.location.lng);return y>1e3?(y=Ut(q.userLocation.lat,q.userLocation.lng,e.noteInput.location.lat,e.noteInput.location.lng,"kilometers"),`${y} 公里`):`${y} 公尺`}),S=C;function b(){return r.value=!1,S("update:note",t.value)}async function E(){i.value=!0;const y=[],_={maxWidthOrHeight:1920,useWebWorker:!0},h=await Promise.all(g.value.map(s=>ce(s,_))),L=await Promise.all(h.map(s=>Pr.POST(s)));return y.push(...L.map(s=>s.data.url)),t.value.photos=[...t.value.photos,...y].slice(0,3),i.value=!1,x.value=!1,S("update:note",t.value)}function U(y){return t.value.photos=y,S("update:note",t.value)}return Ae(x,y=>{y||(i.value=!1)}),(y,_)=>(be(),Fe(je,{class:"note"},{default:j(()=>[H(Ue,{class:"bg-brown-5 text-white note__title-section"},{default:j(()=>[fe("div",Vr,[fe("div",Dr,rt(t.value.storeName),1),d.value?(be(),Fe(jt,{key:0,class:"ellipsis author-name",dense:"",color:"yellow","text-color":"grey-8",ripple:!1},{default:j(()=>[ze(rt(l.value),1)]),_:1})):yt("",!0)]),fe("div",Nr,[fe("div",Hr,[fe("div",zr,rt(t.value.address),1),fe("div",Qr,rt(A.value),1)]),t.value.googlemapURL?(be(),Fe(oe,{key:0,flat:"",round:"",icon:"fa-solid fa-location-dot",href:t.value.googlemapURL},null,8,["href"])):yt("",!0)])]),_:1}),H(Ue,{class:"bg-white text-black note__details"},{default:j(()=>[H(er,{class:"details__form"},{default:j(()=>[fe("div",jr,[_[15]||(_[15]=fe("div",{class:"rating__title"},"餐點",-1)),H(We,{vertical:""}),H(Tt,{class:"rating__input",modelValue:t.value.foodScore,"onUpdate:modelValue":_[0]||(_[0]=h=>t.value.foodScore=h),max:5,size:"32px",color:"grey","color-selected":"red",readonly:!r.value},null,8,["modelValue","readonly"])]),fe("div",Wr,[_[16]||(_[16]=fe("div",{class:"rating__title"},"服務",-1)),H(We,{vertical:""}),H(Tt,{class:"rating__input",modelValue:t.value.serviceScore,"onUpdate:modelValue":_[1]||(_[1]=h=>t.value.serviceScore=h),max:5,size:"32px",color:"grey","color-selected":"red",readonly:!r.value},null,8,["modelValue","readonly"])]),H(ir,{icon:"fa-solid fa-note-sticky",label:"筆記",class:"textarea-title"},{default:j(()=>[H(je,null,{default:j(()=>[H(Ue,null,{default:j(()=>[H(Pt,{label:"優點","stack-label":"",color:"green",outlined:"",autogrow:"",modelValue:t.value.pros,"onUpdate:modelValue":_[2]||(_[2]=h=>t.value.pros=h),readonly:!r.value},null,8,["modelValue","readonly"])]),_:1}),H(Ue,null,{default:j(()=>[H(Pt,{label:"缺點","stack-label":"",color:"red",outlined:"",autogrow:"",modelValue:t.value.cons,"onUpdate:modelValue":_[3]||(_[3]=h=>t.value.cons=h),readonly:!r.value},null,8,["modelValue","readonly"])]),_:1}),H(Ue,{class:"row q-gutter-x-xs"},{default:j(()=>[H(oe,{icon:"add_photo_alternate",label:"上傳照片",flat:"",color:"grey-6",onClick:_[4]||(_[4]=h=>x.value=!0),disable:!r.value},null,8,["disable"]),H(kr,{photos:t.value.photos,"onDelete:photo":U,deletable:!d.value},null,8,["photos","deletable"])]),_:1})]),_:1}),t.value.user===Nn(q).user.ID?(be(),it("div",Kr,[H(We,{spaced:""}),n.isCreate?(be(),Fe(et,{key:1,align:"around"},{default:j(()=>[H(oe,{flat:"",class:"text-grey-8 action-btn",onClick:_[7]||(_[7]=h=>m.value=!0)},{default:j(()=>_[20]||(_[20]=[ze("取消")])),_:1}),H(oe,{flat:"",class:"action-btn",onClick:_[8]||(_[8]=h=>S("create:note",t.value))},{default:j(()=>_[21]||(_[21]=[ze("儲存")])),_:1})]),_:1})):(be(),Fe(et,{key:0,align:"around"},{default:j(()=>[H(oe,{flat:"",class:"text-negative action-btn",onClick:_[5]||(_[5]=h=>f.value=!0)},{default:j(()=>_[17]||(_[17]=[ze("刪除")])),_:1}),r.value?(be(),Fe(oe,{key:1,flat:"",class:"action-btn",onClick:b},{default:j(()=>_[19]||(_[19]=[ze("儲存")])),_:1})):(be(),Fe(oe,{key:0,flat:"",class:"action-btn",onClick:_[6]||(_[6]=h=>r.value=!0)},{default:j(()=>_[18]||(_[18]=[ze("編輯")])),_:1}))]),_:1}))])):yt("",!0)]),_:1})]),_:1})]),_:1}),H(We),H(tt,{modelValue:x.value,"onUpdate:modelValue":_[10]||(_[10]=h=>x.value=h),class:"uploader"},{default:j(()=>[H(je,null,{default:j(()=>[H(Ue,null,{default:j(()=>[_[22]||(_[22]=fe("div",{class:"q-pb-sm uploader__title"},"上傳照片",-1)),_[23]||(_[23]=fe("div",{class:"q-pb-sm uploader__subtitle"},"限上傳圖片檔；照片數量限 3 張",-1)),H(ur,{modelValue:g.value,"onUpdate:modelValue":_[9]||(_[9]=h=>g.value=h),outlined:"","use-chips":"",multiple:"",append:"",accept:".jpg, .png, image/*","max-files":"3",style:{"max-width":"300px"},color:"brown"},zt({prepend:j(()=>[H(Ce,{name:"attach_file"})]),_:2},[a.value?{name:"after",fn:j(()=>[H(oe,{color:"red",dense:"",icon:"cloud_upload",round:"",onClick:E,disable:!a.value,loading:i.value},null,8,["disable","loading"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),H(tt,{modelValue:f.value,"onUpdate:modelValue":_[12]||(_[12]=h=>f.value=h),persistent:""},{default:j(()=>[H(je,null,{default:j(()=>[H(Ue,{class:"row items-center"},{default:j(()=>[H(Ce,{name:"warning",color:"negative",size:"24px"}),_[24]||(_[24]=fe("span",{class:"q-ml-sm"},"確定要刪除這個筆記嗎？",-1))]),_:1}),H(et,{align:"right"},{default:j(()=>[Ve(H(oe,{flat:"",label:"取消",color:"primary"},null,512),[[Ke]]),Ve(H(oe,{flat:"",label:"刪除",color:"negative",onClick:_[11]||(_[11]=h=>S("delete:note",t.value))},null,512),[[Ke]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),H(tt,{modelValue:m.value,"onUpdate:modelValue":_[14]||(_[14]=h=>m.value=h),persistent:""},{default:j(()=>[H(je,null,{default:j(()=>[H(Ue,{class:"row items-center"},{default:j(()=>[H(Ce,{name:"warning",color:"negative",size:"24px"}),_[25]||(_[25]=fe("span",{class:"q-ml-sm"},"確定要取消新增筆記嗎？",-1))]),_:1}),H(et,{align:"right"},{default:j(()=>[Ve(H(oe,{flat:"",label:"放棄編輯",color:"negative",onClick:_[13]||(_[13]=h=>S("update:isNoteOpen",!1))},null,512),[[Ke]]),Ve(H(oe,{flat:"",label:"繼續編輯",color:"primary"},null,512),[[Ke]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Xr=Ht(Gr,[["__scopeId","data-v-08e4cf23"]]);export{Ke as C,Xr as N,jt as Q,We as a,et as b};
