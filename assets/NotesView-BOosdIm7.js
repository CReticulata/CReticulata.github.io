import{u as vt,a as ft,b as mt,p as Be,c as ht,d as gt,e as bt,f as pt,r as Ee,g as xt,h as kt,i as yt,j as Ct,Q as St,k as Mt,l as wt,N as Tt}from"./Note-CFPesb1f.js";import{u as Oe,g as ie,a as je,r as q,c as u,i as qt,b as ke,T as $t,o as se,d as O,p as Ke,h as M,e as Lt,f as Qe,w as R,s as Ue,j as _e,k as Bt,l as Ve,n as Et,m as _t,q as Vt,t as Ft,v as Ce,x as Pt,y as Ht,z as Nt,A as Rt,B as At,C as zt,D as Wt,E as It,F as Dt,G as Ot,H as jt,I as Kt,J as Qt,K as Ut,L as ae,M as J,N as Xe,O as Xt,P as ne,Q as Ye,R as Yt,S as Ge,_ as Gt,U as Jt,V as Zt,W as $,X as P,Y as Fe,Z as Pe}from"./index-Bz71B-1z.js";const He="q-slider__marker-labels",el=t=>({value:t}),tl=({marker:t})=>M("div",{key:t.value,style:t.style,class:t.classes},t.label),Je=[34,37,40,33,39,38],ll={...Oe,...vt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},al=["pan","update:modelValue","change"];function nl({updateValue:t,updatePosition:o,getDragging:i,formAttrs:l}){const{props:e,emit:v,slots:r,proxy:{$q:d}}=ie(),g=je(e,d),h=ft(l),f=q(!1),p=q(!1),s=q(!1),n=q(!1),c=u(()=>e.vertical===!0?"--v":"--h"),E=u(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),L=u(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(d.lang.rtl===!0)),B=u(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),V=u(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),x=u(()=>e.disable!==!0&&e.readonly!==!0&&B.value<V.value),S=u(()=>{if(e.step===0)return m=>m;const a=(String(e.step).trim().split(".")[1]||"").length;return m=>parseFloat(m.toFixed(a))}),k=u(()=>e.step===0?1:e.step),H=u(()=>x.value===!0?e.tabindex||0:-1),w=u(()=>e.max-e.min),F=u(()=>V.value-B.value),_=u(()=>G(B.value)),I=u(()=>G(V.value)),A=u(()=>e.vertical===!0?L.value===!0?"bottom":"top":L.value===!0?"right":"left"),Z=u(()=>e.vertical===!0?"height":"width"),j=u(()=>e.vertical===!0?"width":"height"),K=u(()=>e.vertical===!0?"vertical":"horizontal"),ue=u(()=>{const a={role:"slider","aria-valuemin":B.value,"aria-valuemax":V.value,"aria-orientation":K.value,"data-step":e.step};return e.disable===!0?a["aria-disabled"]="true":e.readonly===!0&&(a["aria-readonly"]="true"),a}),ce=u(()=>`q-slider q-slider${c.value} q-slider--${f.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(x.value===!0?" q-slider--editable":""))+(s.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(g.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+c.value:""));function D(a){const m="q-slider__"+a;return`${m} ${m}${c.value} ${m}${c.value}${E.value}`}function Q(a){const m="q-slider__"+a;return`${m} ${m}${c.value}`}const U=u(()=>{const a=e.selectionColor||e.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),de=u(()=>Q("markers")+" absolute overflow-hidden"),ve=u(()=>Q("track-container")),ee=u(()=>D("pin")),te=u(()=>D("label")),fe=u(()=>D("text-container")),le=u(()=>D("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),X=u(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),z=u(()=>{const a={[j.value]:e.trackSize};return e.trackImg!==void 0&&(a.backgroundImage=`url(${e.trackImg}) !important`),a}),me=u(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),b=u(()=>{const a=I.value-_.value,m={[A.value]:`${100*_.value}%`,[Z.value]:a===0?"2px":`${100*a}%`};return e.innerTrackImg!==void 0&&(m.backgroundImage=`url(${e.innerTrackImg}) !important`),m});function Y(a){const{min:m,max:y,step:C}=e;let T=m+a*(y-m);if(C>0){const N=(T-B.value)%C;T+=(Math.abs(N)>=C/2?(N<0?-1:1)*C:0)-N}return T=S.value(T),O(T,B.value,V.value)}function G(a){return w.value===0?0:(a-e.min)/w.value}function he(a,m){const y=Ke(a),C=e.vertical===!0?O((y.top-m.top)/m.height,0,1):O((y.left-m.left)/m.width,0,1);return O(L.value===!0?1-C:C,_.value,I.value)}const Me=u(()=>qt(e.markers)===!0?e.markers:k.value),we=u(()=>{const a=[],m=Me.value,y=e.max;let C=e.min;do a.push(C),C+=m;while(C<y);return a.push(y),a}),Te=u(()=>{const a=` ${He}${c.value}-`;return He+`${a}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${L.value===!0?"rtl":"ltr"}`}),ge=u(()=>e.markerLabels===!1?null:tt(e.markerLabels).map((a,m)=>({index:m,value:a.value,label:a.label||a.value,classes:Te.value+(a.classes!==void 0?" "+a.classes:""),style:{...$e(a.value),...a.style||{}}}))),qe=u(()=>({markerList:ge.value,markerMap:lt.value,classes:Te.value,getStyle:$e})),et=u(()=>{const a=F.value===0?"2px":100*Me.value/F.value;return{...b.value,backgroundSize:e.vertical===!0?`2px ${a}%`:`${a}% 2px`}});function tt(a){if(a===!1)return null;if(a===!0)return we.value.map(el);if(typeof a=="function")return we.value.map(y=>{const C=a(y);return ke(C)===!0?{...C,value:y}:{value:y,label:C}});const m=({value:y})=>y>=e.min&&y<=e.max;return Array.isArray(a)===!0?a.map(y=>ke(y)===!0?y:{value:y}).filter(m):Object.keys(a).map(y=>{const C=a[y],T=Number(y);return ke(C)===!0?{...C,value:T}:{value:T,label:C}}).filter(m)}function $e(a){return{[A.value]:`${100*(a-e.min)/w.value}%`}}const lt=u(()=>{if(e.markerLabels===!1)return null;const a={};return ge.value.forEach(m=>{a[m.value]=m}),a});function at(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](qe.value);const a=r["marker-label"]||tl;return ge.value.map(m=>a({marker:m,...qe.value}))}const nt=u(()=>[[$t,ot,void 0,{[K.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ot(a){a.isFinal===!0?(n.value!==void 0&&(o(a.evt),a.touch===!0&&t(!0),n.value=void 0,v("pan","end")),f.value=!1,s.value=!1):a.isFirst===!0?(n.value=i(a.evt),o(a.evt),t(),f.value=!0,v("pan","start")):(o(a.evt),t())}function Le(){s.value=!1}function rt(a){o(a,i(a)),t(),p.value=!0,f.value=!0,document.addEventListener("mouseup",be,!0)}function be(){p.value=!1,f.value=!1,t(!0),Le(),document.removeEventListener("mouseup",be,!0)}function it(a){o(a,i(a)),t(!0)}function st(a){Je.includes(a.keyCode)&&t(!0)}function ut(a){if(e.vertical===!0)return null;const m=d.lang.rtl!==e.reverse?1-a:a;return{transform:`translateX(calc(${2*m-1} * ${e.thumbSize} / 2 + ${50-100*m}%))`}}function ct(a){const m=u(()=>p.value===!1&&(s.value===a.focusValue||s.value==="both")?" q-slider--focus":""),y=u(()=>`q-slider__thumb q-slider__thumb${c.value} q-slider__thumb${c.value}-${L.value===!0?"rtl":"ltr"} absolute non-selectable`+m.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),C=u(()=>({width:e.thumbSize,height:e.thumbSize,[A.value]:`${100*a.ratio.value}%`,zIndex:s.value===a.focusValue?2:void 0})),T=u(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),N=u(()=>ut(a.ratio.value)),pe=u(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const xe=[M("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[M("path",{d:e.thumbPath})]),M("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(xe.push(M("div",{class:ee.value+" absolute fit no-pointer-events"+T.value},[M("div",{class:te.value,style:{minWidth:e.thumbSize}},[M("div",{class:fe.value,style:N.value},[M("span",{class:pe.value},a.label.value)])])])),e.name!==void 0&&e.disable!==!0&&h(xe,"push")),M("div",{class:y.value,style:C.value,...a.getNodeData()},xe)}}function dt(a,m,y,C){const T=[];e.innerTrackColor!=="transparent"&&T.push(M("div",{key:"inner",class:me.value,style:b.value})),e.selectionColor!=="transparent"&&T.push(M("div",{key:"selection",class:U.value,style:a.value})),e.markers!==!1&&T.push(M("div",{key:"marker",class:de.value,style:et.value})),C(T);const N=[Lt("div",{key:"trackC",class:ve.value,tabindex:m.value,...y.value},[M("div",{class:X.value,style:z.value},T)],"slide",x.value,()=>nt.value)];if(e.markerLabels!==!1){const pe=e.switchMarkerLabelsSide===!0?"unshift":"push";N[pe](M("div",{key:"markerL",class:le.value},at()))}return N}return se(()=>{document.removeEventListener("mouseup",be,!0)}),{state:{active:f,focus:s,preventFocus:p,dragging:n,editable:x,classes:ce,tabindex:H,attributes:ue,roundValueFn:S,keyStep:k,trackLen:w,innerMin:B,innerMinRatio:_,innerMax:V,innerMaxRatio:I,positionProp:A,sizeProp:Z,isReversed:L},methods:{onActivate:rt,onMobileClick:it,onBlur:Le,onKeyup:st,getContent:dt,getThumbRenderFn:ct,convertRatioToModel:Y,convertModelToRatio:G,getDraggingRatio:he}}}const ol=()=>({}),rl=Qe({name:"QSlider",props:{...ll,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:al,setup(t,{emit:o}){const{proxy:{$q:i}}=ie(),{state:l,methods:e}=nl({updateValue:c,updatePosition:L,getDragging:E,formAttrs:mt(t)}),v=q(null),r=q(0),d=q(0);function g(){d.value=t.modelValue===null?l.innerMin.value:O(t.modelValue,l.innerMin.value,l.innerMax.value)}R(()=>`${t.modelValue}|${l.innerMin.value}|${l.innerMax.value}`,g),g();const h=u(()=>e.convertModelToRatio(d.value)),f=u(()=>l.active.value===!0?r.value:h.value),p=u(()=>{const x={[l.positionProp.value]:`${100*l.innerMinRatio.value}%`,[l.sizeProp.value]:`${100*(f.value-l.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(x.backgroundImage=`url(${t.selectionImg}) !important`),x}),s=e.getThumbRenderFn({focusValue:!0,getNodeData:ol,ratio:f,label:u(()=>t.labelValue!==void 0?t.labelValue:d.value),thumbColor:u(()=>t.thumbColor||t.color),labelColor:u(()=>t.labelColor),labelTextColor:u(()=>t.labelTextColor)}),n=u(()=>l.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:B,onBlur:e.onBlur,onKeydown:V,onKeyup:e.onKeyup});function c(x){d.value!==t.modelValue&&o("update:modelValue",d.value),x===!0&&o("change",d.value)}function E(){return v.value.getBoundingClientRect()}function L(x,S=l.dragging.value){const k=e.getDraggingRatio(x,S);d.value=e.convertRatioToModel(k),r.value=t.snap!==!0||t.step===0?k:e.convertModelToRatio(d.value)}function B(){l.focus.value=!0}function V(x){if(Je.includes(x.keyCode)===!1)return;Ue(x);const S=([34,33].includes(x.keyCode)?10:1)*l.keyStep.value,k=([34,37,40].includes(x.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*S;d.value=O(l.roundValueFn.value(d.value+k),l.innerMin.value,l.innerMax.value),c()}return()=>{const x=e.getContent(p,l.tabindex,n,S=>{S.push(s())});return M("div",{ref:v,class:l.classes.value+(t.modelValue===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":t.modelValue},x)}}}),il={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},sl={...il,contextMenu:Boolean};function ul({showing:t,avoidEmit:o,configureAnchorEl:i}){const{props:l,proxy:e,emit:v}=ie(),r=q(null);let d=null;function g(n){return r.value===null?!1:n===void 0||n.touches===void 0||n.touches.length<=1}const h={};i===void 0&&(Object.assign(h,{hide(n){e.hide(n)},toggle(n){e.toggle(n),n.qAnchorHandled=!0},toggleKey(n){_t(n,13)===!0&&h.toggle(n)},contextClick(n){e.hide(n),_e(n),Et(()=>{e.show(n),n.qAnchorHandled=!0})},prevent:_e,mobileTouch(n){if(h.mobileCleanup(n),g(n)!==!0)return;e.hide(n),r.value.classList.add("non-selectable");const c=n.target;Ve(h,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,e.show(n),n.qAnchorHandled=!0},300)},mobileCleanup(n){r.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),t.value===!0&&n!==void 0&&Bt()}}),i=function(n=l.contextMenu){if(l.noParentEvent===!0||r.value===null)return;let c;n===!0?e.$q.platform.is.mobile===!0?c=[[r.value,"touchstart","mobileTouch","passive"]]:c=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:c=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Ve(h,"anchor",c)});function f(){Ft(h,"anchor")}function p(n){for(r.value=n;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;i()}function s(){if(l.target===!1||l.target===""||e.$el.parentNode===null)r.value=null;else if(l.target===!0)p(e.$el.parentNode);else{let n=l.target;if(typeof l.target=="string")try{n=document.querySelector(l.target)}catch{n=void 0}n!=null?(r.value=n.$el||n,i()):(r.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return R(()=>l.contextMenu,n=>{r.value!==null&&(f(),i(n))}),R(()=>l.target,()=>{r.value!==null&&f(),s()}),R(()=>l.noParentEvent,n=>{r.value!==null&&(n===!0?f():i())}),Vt(()=>{s(),o!==!0&&l.modelValue===!0&&r.value===null&&v("update:modelValue",!1)}),se(()=>{d!==null&&clearTimeout(d),f()}),{anchorEl:r,canShow:g,anchorEvents:h}}function cl(t,o){const i=q(null);let l;function e(d,g){const h=`${g!==void 0?"add":"remove"}EventListener`,f=g!==void 0?g:l;d!==window&&d[h]("scroll",f,Ce.passive),window[h]("scroll",f,Ce.passive),l=g}function v(){i.value!==null&&(e(i.value),i.value=null)}const r=R(()=>t.noParentEvent,()=>{i.value!==null&&(v(),o())});return se(r),{localScrollTarget:i,unconfigureScrollTarget:v,changeScrollEvent:e}}const{notPassiveCapture:oe}=Ce,W=[];function re(t){const o=t.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let i=Be.length-1;for(;i>=0;){const l=Be[i].$;if(l.type.name==="QTooltip"){i--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;i--}for(let l=W.length-1;l>=0;l--){const e=W[l];if((e.anchorEl.value===null||e.anchorEl.value.contains(o)===!1)&&(o===document.body||e.innerRef.value!==null&&e.innerRef.value.contains(o)===!1))t.qClickOutside=!0,e.onClickOutside(t);else return}}function dl(t){W.push(t),W.length===1&&(document.addEventListener("mousedown",re,oe),document.addEventListener("touchstart",re,oe))}function Ne(t){const o=W.findIndex(i=>i===t);o!==-1&&(W.splice(o,1),W.length===0&&(document.removeEventListener("mousedown",re,oe),document.removeEventListener("touchstart",re,oe)))}let Re,Ae;function ze(t){const o=t.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function vl(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const Se={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{Se[`${t}#ltr`]=t,Se[`${t}#rtl`]=t});function We(t,o){const i=t.split(" ");return{vertical:i[0],horizontal:Se[`${i[1]}#${o===!0?"rtl":"ltr"}`]}}function fl(t,o){let{top:i,left:l,right:e,bottom:v,width:r,height:d}=t.getBoundingClientRect();return o!==void 0&&(i-=o[1],l-=o[0],v+=o[1],e+=o[0],r+=o[0],d+=o[1]),{top:i,bottom:v,height:d,left:l,right:e,width:r,middle:l+(e-l)/2,center:i+(v-i)/2}}function ml(t,o,i){let{top:l,left:e}=t.getBoundingClientRect();return l+=o.top,e+=o.left,i!==void 0&&(l+=i[1],e+=i[0]),{top:l,bottom:l+1,height:1,left:e,right:e+1,width:1,middle:e,center:l}}function hl(t,o){return{top:0,center:o/2,bottom:o,left:0,middle:t/2,right:t}}function Ie(t,o,i,l){return{top:t[i.vertical]-o[l.vertical],left:t[i.horizontal]-o[l.horizontal]}}function Ze(t,o=0){if(t.targetEl===null||t.anchorEl===null||o>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{Ze(t,o+1)},10);return}const{targetEl:i,offset:l,anchorEl:e,anchorOrigin:v,selfOrigin:r,absoluteOffset:d,fit:g,cover:h,maxHeight:f,maxWidth:p}=t;if(Pt.is.ios===!0&&window.visualViewport!==void 0){const H=document.body.style,{offsetLeft:w,offsetTop:F}=window.visualViewport;w!==Re&&(H.setProperty("--q-pe-left",w+"px"),Re=w),F!==Ae&&(H.setProperty("--q-pe-top",F+"px"),Ae=F)}const{scrollLeft:s,scrollTop:n}=i,c=d===void 0?fl(e,h===!0?[0,0]:l):ml(e,d,l);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:p,maxHeight:f,visibility:"visible"});const{offsetWidth:E,offsetHeight:L}=i,{elWidth:B,elHeight:V}=g===!0||h===!0?{elWidth:Math.max(c.width,E),elHeight:h===!0?Math.max(c.height,L):L}:{elWidth:E,elHeight:L};let x={maxWidth:p,maxHeight:f};(g===!0||h===!0)&&(x.minWidth=c.width+"px",h===!0&&(x.minHeight=c.height+"px")),Object.assign(i.style,x);const S=hl(B,V);let k=Ie(c,S,v,r);if(d===void 0||l===void 0)ye(k,c,S,v,r);else{const{top:H,left:w}=k;ye(k,c,S,v,r);let F=!1;if(k.top!==H){F=!0;const _=2*l[1];c.center=c.top-=_,c.bottom-=_+2}if(k.left!==w){F=!0;const _=2*l[0];c.middle=c.left-=_,c.right-=_+2}F===!0&&(k=Ie(c,S,v,r),ye(k,c,S,v,r))}x={top:k.top+"px",left:k.left+"px"},k.maxHeight!==void 0&&(x.maxHeight=k.maxHeight+"px",c.height>k.maxHeight&&(x.minHeight=x.maxHeight)),k.maxWidth!==void 0&&(x.maxWidth=k.maxWidth+"px",c.width>k.maxWidth&&(x.minWidth=x.maxWidth)),Object.assign(i.style,x),i.scrollTop!==n&&(i.scrollTop=n),i.scrollLeft!==s&&(i.scrollLeft=s)}function ye(t,o,i,l,e){const v=i.bottom,r=i.right,d=Ht(),g=window.innerHeight-d,h=document.body.clientWidth;if(t.top<0||t.top+v>g)if(e.vertical==="center")t.top=o[l.vertical]>g/2?Math.max(0,g-v):0,t.maxHeight=Math.min(v,g);else if(o[l.vertical]>g/2){const f=Math.min(g,l.vertical==="center"?o.center:l.vertical===e.vertical?o.bottom:o.top);t.maxHeight=Math.min(v,f),t.top=Math.max(0,f-v)}else t.top=Math.max(0,l.vertical==="center"?o.center:l.vertical===e.vertical?o.top:o.bottom),t.maxHeight=Math.min(v,g-t.top);if(t.left<0||t.left+r>h)if(t.maxWidth=Math.min(r,h),e.horizontal==="middle")t.left=o[l.horizontal]>h/2?Math.max(0,h-r):0;else if(o[l.horizontal]>h/2){const f=Math.min(h,l.horizontal==="middle"?o.middle:l.horizontal===e.horizontal?o.right:o.left);t.maxWidth=Math.min(r,f),t.left=Math.max(0,f-t.maxWidth)}else t.left=Math.max(0,l.horizontal==="middle"?o.middle:l.horizontal===e.horizontal?o.left:o.right),t.maxWidth=Math.min(r,h-t.left)}const gl=Qe({name:"QMenu",inheritAttrs:!1,props:{...sl,...At,...Oe,...ht,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ze},self:{type:String,validator:ze},offset:{type:Array,validator:vl},scrollTarget:Rt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Nt,"click","escapeKey"],setup(t,{slots:o,emit:i,attrs:l}){let e=null,v,r,d;const g=ie(),{proxy:h}=g,{$q:f}=h,p=q(null),s=q(!1),n=u(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),c=je(t,f),{registerTick:E,removeTick:L}=zt(),{registerTimeout:B}=Wt(),{transitionProps:V,transitionStyle:x}=gt(t),{localScrollTarget:S,changeScrollEvent:k,unconfigureScrollTarget:H}=cl(t,te),{anchorEl:w,canShow:F}=ul({showing:s}),{hide:_}=It({showing:s,canShow:F,handleShow:de,handleHide:ve,hideOnRouteChange:n,processOnMount:!0}),{showPortal:I,hidePortal:A,renderPortal:Z}=bt(g,p,me,"menu"),j={anchorEl:w,innerRef:p,onClickOutside(b){if(t.persistent!==!0&&s.value===!0)return _(b),(b.type==="touchstart"||b.target.classList.contains("q-dialog__backdrop"))&&Ue(b),!0}},K=u(()=>We(t.anchor||(t.cover===!0?"center middle":"bottom start"),f.lang.rtl)),ue=u(()=>t.cover===!0?K.value:We(t.self||"top start",f.lang.rtl)),ce=u(()=>(t.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),D=u(()=>t.autoClose===!0?{onClick:fe}:{}),Q=u(()=>s.value===!0&&t.persistent!==!0);R(Q,b=>{b===!0?(pt(X),dl(j)):(Ee(X),Ne(j))});function U(){Ct(()=>{let b=p.value;b&&b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||b.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function de(b){if(e=t.noRefocus===!1?document.activeElement:null,xt(le),I(),te(),v=void 0,b!==void 0&&(t.touchPosition||t.contextMenu)){const Y=Ke(b);if(Y.left!==void 0){const{top:G,left:he}=w.value.getBoundingClientRect();v={left:Y.left-he,top:Y.top-G}}}r===void 0&&(r=R(()=>f.screen.width+"|"+f.screen.height+"|"+t.self+"|"+t.anchor+"|"+f.lang.rtl,z)),t.noFocus!==!0&&document.activeElement.blur(),E(()=>{z(),t.noFocus!==!0&&U()}),B(()=>{f.platform.is.ios===!0&&(d=t.autoClose,p.value.click()),z(),I(!0),i("show",b)},t.transitionDuration)}function ve(b){L(),A(),ee(!0),e!==null&&(b===void 0||b.qClickOutside!==!0)&&(((b&&b.type.indexOf("key")===0?e.closest('[tabindex]:not([tabindex^="-"])'):void 0)||e).focus(),e=null),B(()=>{A(!0),i("hide",b)},t.transitionDuration)}function ee(b){v=void 0,r!==void 0&&(r(),r=void 0),(b===!0||s.value===!0)&&(kt(le),H(),Ne(j),Ee(X)),b!==!0&&(e=null)}function te(){(w.value!==null||t.scrollTarget!==void 0)&&(S.value=Dt(w.value,t.scrollTarget),k(S.value,z))}function fe(b){d!==!0?(yt(h,b),i("click",b)):d=!1}function le(b){Q.value===!0&&t.noFocus!==!0&&Kt(p.value,b.target)!==!0&&U()}function X(b){i("escapeKey"),_(b)}function z(){Ze({targetEl:p.value,offset:t.offset,anchorEl:w.value,anchorOrigin:K.value,selfOrigin:ue.value,absoluteOffset:v,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function me(){return M(jt,V.value,()=>s.value===!0?M("div",{role:"menu",...l,ref:p,tabindex:-1,class:["q-menu q-position-engine scroll"+ce.value,l.class],style:[l.style,x.value],...D.value},Ot(o.default)):null)}return se(ee),Object.assign(h,{focus:U,updatePosition:z}),Z}}),De={__name:"SettingOptions",props:Qt({isOnlyOneSelected:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,i=Ut(t,"modelValue");function l(r){return r.map(d=>({...d,value:!1}))}function e(r){const d=l(i.value);return i.value[r].value?[...d.slice(0,r),{...i.value[r],value:!0},...d.slice(r+1)]:[...d.slice(0,r),{...i.value[r],value:!1},...d.slice(r+1)]}function v(r){if(o.isOnlyOneSelected){i.value=e(r);return}}return(r,d)=>(J(!0),ae(Ge,null,Xe(i.value,(g,h)=>(J(),Xt(St,{key:h,selected:g.value,"onUpdate:selected":f=>g.value=f,color:g.value?"light-green":"green",icon:g.icon,"icon-selected":g.icon,"text-color":"white",onClick:f=>v(h)},{default:ne(()=>[Ye(Yt(g.label),1)]),_:2},1032,["selected","onUpdate:selected","color","icon","icon-selected","onClick"]))),128))}},bl={class:"notes column flex-center"},pl={class:"row flex-center q-gutter-md q-pb-md"},xl={class:"search"},kl={class:"q-pa-md column q-gutter-y-md"},yl={class:"q-gutter-y-sm"},Cl={class:"column flex-center filter-option--distance"},Sl={class:"column flex-center filter-option"},Ml={class:"row"},wl={class:"row justify-end"},Tl={class:"row flex-center q-gutter-lg"},ql={__name:"NotesView",setup(t){const o=Jt(),i=q(!1),l=q(""),e=u(()=>{const p=o.notes.map(n=>n.city);return Array.from(new Set(p)).map(n=>({name:n,label:n,value:!1}))}),v=q(e.value);R(()=>e.value,()=>{v.value=e.value});const r=q(5),d=u(()=>{switch(r.value){case 1:return"100 公尺";case 2:return"300 公尺";case 3:return"500 公尺";case 4:return"1 公里";default:return"所有距離"}}),g=u(()=>{let p=[...o.notesSortedByDistance];l.value&&(p=[...p].filter(n=>n.storeName.includes(l.value))),r.value&&(p=[...p].filter(n=>{const c=Zt(o.userLocation.lat,o.userLocation.lng,n.location.lat,n.location.lng);switch(r.value){case 1:return c<101;case 2:return c<301;case 3:return c<501;case 4:return c<1001;default:return!0}}));let s;return v.value&&(s=v.value.filter(n=>n.value===!0).map(n=>n.name),s.length>0&&(p=[...p].filter(n=>s.includes(n.city)))),p}),h=q([{name:"total",icon:"star",label:"總分",value:!1},{name:"food",icon:"lunch_dining",label:"餐點",value:!1},{name:"service",icon:"restaurant",label:"服務",value:!1}]),f=u(()=>{const p=h.value.find(s=>s.value);if(p){if(p.name==="total")return[...g.value].sort((s,n)=>{const c=s.foodScore+s.serviceScore;return n.foodScore+n.serviceScore-c});if(p.name==="food")return[...g.value].sort((s,n)=>n.foodScore-s.foodScore);if(p.name==="service")return[...g.value].sort((s,n)=>n.serviceScore-s.serviceScore)}return g.value});return(p,s)=>(J(),ae("div",bl,[$("div",pl,[$("div",xl,[P(Mt,{class:"search__input",outlined:"",dense:"",placeholder:"以店名搜尋",color:"green",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n)},null,8,["modelValue"]),P(Fe,{icon:"tune",round:"",flat:"",color:"green"},{default:ne(()=>[P(gl,{modelValue:i.value,"onUpdate:modelValue":s[5]||(s[5]=n=>i.value=n),anchor:"bottom right",self:"top right"},{default:ne(()=>[$("div",kl,[$("div",null,[s[8]||(s[8]=$("div",{class:"text-md text-grey-8 q-mb-sm"},"選擇排序方式",-1)),P(De,{isOnlyOneSelected:!0,modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=n=>h.value=n)},null,8,["modelValue"])]),P(wt),$("div",null,[s[11]||(s[11]=$("div",{class:"text-md text-grey-8 q-mb-md"},"選擇篩選方式",-1)),$("div",yl,[$("div",Cl,[s[9]||(s[9]=$("div",{class:"text-md text-grey-8 q-mb-sm"},"依距離",-1)),P(rl,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=n=>r.value=n),color:"green",markers:"",snap:"",label:"","label-always":"","label-value":d.value,min:1,max:5,step:1},null,8,["modelValue","label-value"])]),$("div",Sl,[s[10]||(s[10]=$("div",{class:"text-md text-grey-8 q-mb-sm"},"依城市",-1)),$("div",Ml,[P(De,{modelValue:v.value,"onUpdate:modelValue":s[3]||(s[3]=n=>v.value=n)},null,8,["modelValue"])])])])]),$("div",wl,[P(Fe,{flat:"",size:"md","text-color":"green",onClick:s[4]||(s[4]=n=>i.value=!1)},{default:ne(()=>s[12]||(s[12]=[Ye("確定")])),_:1})])])]),_:1},8,["modelValue"])]),_:1})])]),$("div",Tl,[(J(!0),ae(Ge,null,Xe(f.value,(n,c)=>(J(),ae("div",{class:"note",key:n.id},[P(Tt,{noteInput:f.value[c],"onUpdate:note":s[6]||(s[6]=E=>Pe(o).updateNote(E)),"onDelete:note":s[7]||(s[7]=E=>Pe(o).deleteNote(E))},null,8,["noteInput"])]))),128))])]))}},Bl=Gt(ql,[["__scopeId","data-v-1e8d65e7"]]);export{Bl as default};
