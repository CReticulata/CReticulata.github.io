import{f as Fe,u as dt,a as ht,g as Te,c as V,h as H,a8 as Mt,a9 as $t,e as Ot,a5 as ln,a1 as ke,aa as sn,s as Ne,r as oe,ab as un,ac as Bt,d as cn,ad as fn,ae as dn,H as Ge,o as vt,I as Vt,af as hn,z as vn,B as gn,ag as Dt,E as mn,w as Ae,ah as bn,a3 as yn,a2 as Ve,ai as pn,a4 as yt,aj as wn,x as An,ak as xn,al as _n,j as Sn,am as Cn,m as In,D as kn,an as Fn,ao as Un,ap as Tn,aq as En,ar as Ct,as as qn,q as Nt,i as Pn,a0 as ae,at as Ln,au as Rn,_ as zt,av as Mn,L as it,M as ve,Z as z,P as It,Q as kt,N as Ce,R as j,aw as $n,Y as fe,ax as On,ay as Ht,az as Bn,V as Vn,W as Dn,X as Ft,O as rt,U as at,S as He,$ as Nn}from"./index-CMyxkZVs.js";import{u as Qt,b as zn,a as Hn,o as Qn,k as Ut,q as jn,s as Wn,t as Kn,v as Gn,w as Yn,x as Tt,y as Zn,z as Xn,A as Jn,g as er,h as tr,l as et,m as je,n as Se,B as nr,Q as Et}from"./QDialog-BFzxH6yx.js";const rr={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},pt={xs:2,sm:4,md:8,lg:16,xl:24},tt=Fe({name:"QSeparator",props:{...dt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(n){const _=Te(),q=ht(n,_.proxy.$q),f=V(()=>n.vertical===!0?"vertical":"horizontal"),e=V(()=>` q-separator--${f.value}`),t=V(()=>n.inset!==!1?`${e.value}-${rr[n.inset]}`:""),d=V(()=>`q-separator${e.value}${t.value}`+(n.color!==void 0?` bg-${n.color}`:"")+(q.value===!0?" q-separator--dark":"")),l=V(()=>{const g={};if(n.size!==void 0&&(g[n.vertical===!0?"width":"height"]=n.size),n.spaced!==!1){const x=n.spaced===!0?`${pt.md}px`:n.spaced in pt?`${pt[n.spaced]}px`:n.spaced,a=n.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${a[0]}`]=g[`margin${a[1]}`]=x}return g});return()=>H("hr",{class:d.value,style:l.value,"aria-orientation":f.value})}}),ar={xs:8,sm:10,md:14,lg:20,xl:24},jt=Fe({name:"QChip",props:{...dt,...Mt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(n,{slots:_,emit:q}){const{proxy:{$q:f}}=Te(),e=ht(n,f),t=$t(n,ar),d=V(()=>n.selected===!0||n.icon!==void 0),l=V(()=>n.selected===!0?n.iconSelected||f.iconSet.chip.selected:n.icon),g=V(()=>n.iconRemove||f.iconSet.chip.remove),x=V(()=>n.disable===!1&&(n.clickable===!0||n.selected!==null)),a=V(()=>{const S=n.outline===!0&&n.color||n.textColor;return"q-chip row inline no-wrap items-center"+(n.outline===!1&&n.color!==void 0?` bg-${n.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(n.disable===!0?" disabled":"")+(n.dense===!0?" q-chip--dense":"")+(n.outline===!0?" q-chip--outline":"")+(n.selected===!0?" q-chip--selected":"")+(x.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(n.square===!0?" q-chip--square":"")+(e.value===!0?" q-chip--dark q-dark":"")}),o=V(()=>{const S=n.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0},b={...S,role:"button","aria-hidden":"false","aria-label":n.removeAriaLabel||f.lang.label.remove};return{chip:S,remove:b}});function r(S){S.keyCode===13&&h(S)}function h(S){n.disable||(q("update:selected",!n.selected),q("click",S))}function m(S){(S.keyCode===void 0||S.keyCode===13)&&(Ne(S),n.disable===!1&&(q("update:modelValue",!1),q("remove")))}function w(){const S=[];x.value===!0&&S.push(H("div",{class:"q-focus-helper"})),d.value===!0&&S.push(H(ke,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const b=n.label!==void 0?[H("div",{class:"ellipsis"},[n.label])]:void 0;return S.push(H("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},sn(_.default,b))),n.iconRight&&S.push(H(ke,{class:"q-chip__icon q-chip__icon--right",name:n.iconRight})),n.removable===!0&&S.push(H(ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...o.value.remove,onClick:m,onKeyup:m})),S}return()=>{if(n.modelValue===!1)return;const S={class:a.value,style:t.value};return x.value===!0&&Object.assign(S,o.value.chip,{onClick:h,onKeyup:r}),Ot("div",S,w(),"ripple",n.ripple!==!1&&n.disable!==!0,()=>[[ln,n.ripple]])}}}),qt=Fe({name:"QRating",props:{...Mt,...Qt,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(n,{slots:_,emit:q}){const{proxy:{$q:f}}=Te(),e=$t(n),t=zn(n),d=Hn(t),l=oe(0);let g={};const x=V(()=>n.readonly!==!0&&n.disable!==!0),a=V(()=>`q-rating row inline items-center q-rating--${x.value===!0?"":"non-"}editable`+(n.noDimming===!0?" q-rating--no-dimming":"")+(n.disable===!0?" disabled":"")+(n.color!==void 0&&Array.isArray(n.color)===!1?` text-${n.color}`:"")),o=V(()=>{const F=Array.isArray(n.icon)===!0?n.icon.length:0,A=Array.isArray(n.iconSelected)===!0?n.iconSelected.length:0,L=Array.isArray(n.iconHalf)===!0?n.iconHalf.length:0,u=Array.isArray(n.color)===!0?n.color.length:0,k=Array.isArray(n.colorSelected)===!0?n.colorSelected.length:0,s=Array.isArray(n.colorHalf)===!0?n.colorHalf.length:0;return{iconLen:F,icon:F>0?n.icon[F-1]:n.icon,selIconLen:A,selIcon:A>0?n.iconSelected[A-1]:n.iconSelected,halfIconLen:L,halfIcon:L>0?n.iconHalf[A-1]:n.iconHalf,colorLen:u,color:u>0?n.color[u-1]:n.color,selColorLen:k,selColor:k>0?n.colorSelected[k-1]:n.colorSelected,halfColorLen:s,halfColor:s>0?n.colorHalf[s-1]:n.colorHalf}}),r=V(()=>{if(typeof n.iconAriaLabel=="string"){const F=n.iconAriaLabel.length!==0?`${n.iconAriaLabel} `:"";return A=>`${F}${A}`}if(Array.isArray(n.iconAriaLabel)===!0){const F=n.iconAriaLabel.length;if(F>0)return A=>n.iconAriaLabel[Math.min(A,F)-1]}return(F,A)=>`${A} ${F}`}),h=V(()=>{const F=[],A=o.value,L=Math.ceil(n.modelValue),u=x.value===!0?0:null,k=n.iconHalf===void 0||L===n.modelValue?-1:L;for(let s=1;s<=n.max;s++){const c=l.value===0&&n.modelValue>=s||l.value>0&&l.value>=s,p=k===s&&l.value<s,C=l.value>0&&(p===!0?L:n.modelValue)>=s&&l.value<s,I=p===!0?s<=A.halfColorLen?n.colorHalf[s-1]:A.halfColor:A.selColor!==void 0&&c===!0?s<=A.selColorLen?n.colorSelected[s-1]:A.selColor:s<=A.colorLen?n.color[s-1]:A.color,U=(p===!0?s<=A.halfIconLen?n.iconHalf[s-1]:A.halfIcon:A.selIcon!==void 0&&(c===!0||C===!0)?s<=A.selIconLen?n.iconSelected[s-1]:A.selIcon:s<=A.iconLen?n.icon[s-1]:A.icon)||f.iconSet.rating.icon;F.push({name:(p===!0?s<=A.halfIconLen?n.iconHalf[s-1]:A.halfIcon:A.selIcon!==void 0&&(c===!0||C===!0)?s<=A.selIconLen?n.iconSelected[s-1]:A.selIcon:s<=A.iconLen?n.icon[s-1]:A.icon)||f.iconSet.rating.icon,attrs:{tabindex:u,role:"radio","aria-checked":n.modelValue===s?"true":"false","aria-label":r.value(s,U)},iconClass:"q-rating__icon"+(c===!0||p===!0?" q-rating__icon--active":"")+(C===!0?" q-rating__icon--exselected":"")+(l.value===s?" q-rating__icon--hovered":"")+(I!==void 0?` text-${I}`:"")})}return F}),m=V(()=>{const F={role:"radiogroup"};return n.disable===!0&&(F["aria-disabled"]="true"),n.readonly===!0&&(F["aria-readonly"]="true"),F});function w(F){if(x.value===!0){const A=cn(parseInt(F,10),1,parseInt(n.max,10)),L=n.noReset!==!0&&n.modelValue===A?0:A;L!==n.modelValue&&q("update:modelValue",L),l.value=0}}function S(F){x.value===!0&&(l.value=F)}function b(F,A){switch(F.keyCode){case 13:case 32:return w(A),Ne(F);case 37:case 40:return g[`rt${A-1}`]&&g[`rt${A-1}`].focus(),Ne(F);case 39:case 38:return g[`rt${A+1}`]&&g[`rt${A+1}`].focus(),Ne(F)}}function T(){l.value=0}return un(()=>{g={}}),()=>{const F=[];return h.value.forEach(({iconClass:A,name:L,attrs:u},k)=>{const s=k+1;F.push(H("div",{key:s,ref:c=>{g[`rt${s}`]=c},class:"q-rating__icon-container flex flex-center",...u,onClick(){w(s)},onMouseover(){S(s)},onMouseout:T,onFocus(){S(s)},onBlur:T,onKeyup(c){b(c,s)}},Bt(_[`tip-${s}`],[H(ke,{class:A,name:L})])))}),n.name!==void 0&&n.disable!==!0&&d(F,"push"),H("div",{class:a.value,style:e.value,...m.value},F)}}}),Je=Fe({name:"QCardActions",props:{...fn,vertical:Boolean},setup(n,{slots:_}){const q=dn(n),f=V(()=>`q-card__actions ${q.value} q-card__actions--${n.vertical===!0?"vert column":"horiz row"}`);return()=>H("div",{class:f.value},Ge(_.default))}}),or=Fe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(n,{slots:_,emit:q}){let f=!1,e,t,d=null,l=null,g,x;function a(){e&&e(),e=null,f=!1,d!==null&&(clearTimeout(d),d=null),l!==null&&(clearTimeout(l),l=null),t!==void 0&&t.removeEventListener("transitionend",g),g=null}function o(w,S,b){S!==void 0&&(w.style.height=`${S}px`),w.style.transition=`height ${n.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,e=b}function r(w,S){w.style.overflowY=null,w.style.height=null,w.style.transition=null,a(),S!==x&&q(S)}function h(w,S){let b=0;t=w,f===!0?(a(),b=w.offsetHeight===w.scrollHeight?0:void 0):(x="hide",w.style.overflowY="hidden"),o(w,b,S),d=setTimeout(()=>{d=null,w.style.height=`${w.scrollHeight}px`,g=T=>{l=null,(Object(T)!==T||T.target===w)&&r(w,"show")},w.addEventListener("transitionend",g),l=setTimeout(g,n.duration*1.1)},100)}function m(w,S){let b;t=w,f===!0?a():(x="show",w.style.overflowY="hidden",b=w.scrollHeight),o(w,b,S),d=setTimeout(()=>{d=null,w.style.height=0,g=T=>{l=null,(Object(T)!==T||T.target===w)&&r(w,"hide")},w.addEventListener("transitionend",g),l=setTimeout(g,n.duration*1.1)},100)}return vt(()=>{f===!0&&a()}),()=>H(Vt,{css:!1,appear:n.appear,onEnter:h,onLeave:m},_.default)}}),Be=hn({}),ir=Object.keys(Dt),lr=Fe({name:"QExpansionItem",props:{...Dt,...gn,...dt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...vn,"click","afterShow","afterHide"],setup(n,{slots:_,emit:q}){const{proxy:{$q:f}}=Te(),e=ht(n,f),t=oe(n.modelValue!==null?n.modelValue:n.defaultOpened),d=oe(null),l=Qn(),{show:g,hide:x,toggle:a}=mn({showing:t});let o,r;const h=V(()=>`q-expansion-item q-item-type q-expansion-item--${t.value===!0?"expanded":"collapsed"} q-expansion-item--${n.popup===!0?"popup":"standard"}`),m=V(()=>n.contentInsetLevel===void 0?null:{["padding"+(f.lang.rtl===!0?"Right":"Left")]:n.contentInsetLevel*56+"px"}),w=V(()=>n.disable!==!0&&(n.href!==void 0||n.to!==void 0&&n.to!==null&&n.to!=="")),S=V(()=>{const i={};return ir.forEach(R=>{i[R]=n[R]}),i}),b=V(()=>w.value===!0||n.expandIconToggle!==!0),T=V(()=>n.expandedIcon!==void 0&&t.value===!0?n.expandedIcon:n.expandIcon||f.iconSet.expansionItem[n.denseToggle===!0?"denseIcon":"icon"]),F=V(()=>n.disable!==!0&&(w.value===!0||n.expandIconToggle===!0)),A=V(()=>({expanded:t.value===!0,detailsId:l.value,toggle:a,show:g,hide:x})),L=V(()=>{const i=n.toggleAriaLabel!==void 0?n.toggleAriaLabel:f.lang.label[t.value===!0?"collapse":"expand"](n.label);return{role:"button","aria-expanded":t.value===!0?"true":"false","aria-controls":l.value,"aria-label":i}});Ae(()=>n.group,i=>{r!==void 0&&r(),i!==void 0&&C()});function u(i){w.value!==!0&&a(i),q("click",i)}function k(i){i.keyCode===13&&s(i,!0)}function s(i,R){R!==!0&&d.value!==null&&d.value.focus(),a(i),Ne(i)}function c(){q("afterShow")}function p(){q("afterHide")}function C(){o===void 0&&(o=bn()),t.value===!0&&(Be[n.group]=o);const i=Ae(t,P=>{P===!0?Be[n.group]=o:Be[n.group]===o&&delete Be[n.group]}),R=Ae(()=>Be[n.group],(P,$)=>{$===o&&P!==void 0&&P!==o&&x()});r=()=>{i(),R(),Be[n.group]===o&&delete Be[n.group],r=void 0}}function I(){const i={class:[`q-focusable relative-position cursor-pointer${n.denseToggle===!0&&n.switchToggleSide===!0?" items-end":""}`,n.expandIconClass],side:n.switchToggleSide!==!0,avatar:n.switchToggleSide},R=[H(ke,{class:"q-expansion-item__toggle-icon"+(n.expandedIcon===void 0&&t.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:T.value})];return F.value===!0&&(Object.assign(i,{tabindex:0,...L.value,onClick:s,onKeyup:k}),R.unshift(H("div",{ref:d,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),H(yt,i,()=>R)}function U(){let i;return _.header!==void 0?i=[].concat(_.header(A.value)):(i=[H(yt,()=>[H(Ut,{lines:n.labelLines},()=>n.label||""),n.caption?H(Ut,{lines:n.captionLines,caption:!0},()=>n.caption):null])],n.icon&&i[n.switchToggleSide===!0?"push":"unshift"](H(yt,{side:n.switchToggleSide===!0,avatar:n.switchToggleSide!==!0},()=>H(ke,{name:n.icon})))),n.disable!==!0&&n.hideExpandIcon!==!0&&i[n.switchToggleSide===!0?"unshift":"push"](I()),i}function y(){const i={ref:"item",style:n.headerStyle,class:n.headerClass,dark:e.value,disable:n.disable,dense:n.dense,insetLevel:n.headerInsetLevel};return b.value===!0&&(i.clickable=!0,i.onClick=u,Object.assign(i,w.value===!0?S.value:L.value)),H(yn,i,U)}function E(){return Ve(H("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:m.value,id:l.value},Ge(_.default)),[[pn,t.value]])}function v(){const i=[y(),H(or,{duration:n.duration,onShow:c,onHide:p},E)];return n.expandSeparator===!0&&i.push(H(tt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:e.value}),H(tt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:e.value})),i}return n.group!==void 0&&C(),vt(()=>{r!==void 0&&r()}),()=>H("div",{class:h.value},[H("div",{class:"q-expansion-item__container relative-position"},v())])}});function Qe(n,_,q,f){const e=[];return n.forEach(t=>{f(t)===!0?e.push(t):_.push({failedPropValidation:q,file:t})}),e}function ot(n){n&&n.dataTransfer&&(n.dataTransfer.dropEffect="copy"),Ne(n)}const sr={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},ur=["rejected"];function cr({editable:n,dnd:_,getFileInput:q,addFilesToQueue:f}){const{props:e,emit:t,proxy:d}=Te(),l=oe(null),g=V(()=>e.accept!==void 0?e.accept.split(",").map(T=>(T=T.trim(),T==="*"?"*/":(T.endsWith("/*")&&(T=T.slice(0,T.length-1)),T.toUpperCase()))):null),x=V(()=>parseInt(e.maxFiles,10)),a=V(()=>parseInt(e.maxTotalSize,10));function o(T){if(n.value)if(T!==Object(T)&&(T={target:null}),T.target!==null&&T.target.matches('input[type="file"]')===!0)T.clientX===0&&T.clientY===0&&wn(T);else{const F=q();F&&F!==T.target&&F.click(T)}}function r(T){n.value&&T&&f(null,T)}function h(T,F,A,L){let u=Array.from(F||T.target.files);const k=[],s=()=>{k.length!==0&&t("rejected",k)};if(e.accept!==void 0&&g.value.indexOf("*/")===-1&&(u=Qe(u,k,"accept",c=>g.value.some(p=>c.type.toUpperCase().startsWith(p)||c.name.toUpperCase().endsWith(p))),u.length===0))return s();if(e.maxFileSize!==void 0){const c=parseInt(e.maxFileSize,10);if(u=Qe(u,k,"max-file-size",p=>p.size<=c),u.length===0)return s()}if(e.multiple!==!0&&u.length!==0&&(u=[u[0]]),u.forEach(c=>{c.__key=c.webkitRelativePath+c.lastModified+c.name+c.size}),L===!0){const c=A.map(p=>p.__key);u=Qe(u,k,"duplicate",p=>c.includes(p.__key)===!1)}if(u.length===0)return s();if(e.maxTotalSize!==void 0){let c=L===!0?A.reduce((p,C)=>p+C.size,0):0;if(u=Qe(u,k,"max-total-size",p=>(c+=p.size,c<=a.value)),u.length===0)return s()}if(typeof e.filter=="function"){const c=e.filter(u);u=Qe(u,k,"filter",p=>c.includes(p))}if(e.maxFiles!==void 0){let c=L===!0?A.length:0;if(u=Qe(u,k,"max-files",()=>(c++,c<=x.value)),u.length===0)return s()}if(s(),u.length!==0)return u}function m(T){ot(T),_.value!==!0&&(_.value=!0)}function w(T){Ne(T),(T.relatedTarget!==null||An.is.safari!==!0?T.relatedTarget!==l.value:document.elementsFromPoint(T.clientX,T.clientY).includes(l.value)===!1)===!0&&(_.value=!1)}function S(T){ot(T);const F=T.dataTransfer.files;F.length!==0&&f(null,F),_.value=!1}function b(T){if(_.value===!0)return H("div",{ref:l,class:`q-${T}__dnd absolute-full`,onDragenter:ot,onDragover:ot,onDragleave:w,onDrop:S})}return Object.assign(d,{pickFiles:o,addFiles:r}),{pickFiles:o,addFiles:r,onDragover:m,onDragleave:w,processFiles:h,getDndNode:b,maxFilesNumber:x,maxTotalSizeNumber:a}}const fr=Fe({name:"QFile",inheritAttrs:!1,props:{...Wn,...Qt,...sr,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...jn,...ur],setup(n,{slots:_,emit:q,attrs:f}){const{proxy:e}=Te(),t=Kn(),d=oe(null),l=oe(!1),g=Gn(n),{pickFiles:x,onDragover:a,onDragleave:o,processFiles:r,getDndNode:h}=cr({editable:t.editable,dnd:l,getFileInput:I,addFilesToQueue:U}),m=Yn(n),w=V(()=>Object(n.modelValue)===n.modelValue?"length"in n.modelValue?Array.from(n.modelValue):[n.modelValue]:[]),S=V(()=>Tt(w.value)),b=V(()=>w.value.map(i=>i.name).join(", ")),T=V(()=>xn(w.value.reduce((i,R)=>i+R.size,0))),F=V(()=>({totalSize:T.value,filesNumber:w.value.length,maxFiles:n.maxFiles})),A=V(()=>({tabindex:-1,type:"file",title:"",accept:n.accept,capture:n.capture,name:g.value,...f,id:t.targetUid.value,disabled:t.editable.value!==!0})),L=V(()=>"q-file q-field--auto-height"+(l.value===!0?" q-file--dnd":"")),u=V(()=>n.multiple===!0&&n.append===!0);function k(i){const R=w.value.slice();R.splice(i,1),c(R)}function s(i){const R=w.value.indexOf(i);R!==-1&&k(R)}function c(i){q("update:modelValue",n.multiple===!0?i:i[0])}function p(i){i.keyCode===13&&Sn(i)}function C(i){(i.keyCode===13||i.keyCode===32)&&x(i)}function I(){return d.value}function U(i,R){const P=r(i,R,w.value,u.value),$=I();$!=null&&($.value=""),P!==void 0&&((n.multiple===!0?n.modelValue&&P.every(N=>w.value.includes(N)):n.modelValue===P[0])||c(u.value===!0?w.value.concat(P):P))}function y(){return[H("input",{class:[n.inputClass,"q-file__filler"],style:n.inputStyle})]}function E(){if(_.file!==void 0)return w.value.length===0?y():w.value.map((R,P)=>_.file({index:P,file:R,ref:this}));if(_.selected!==void 0)return w.value.length===0?y():_.selected({files:w.value,ref:this});if(n.useChips===!0)return w.value.length===0?y():w.value.map((R,P)=>H(jt,{key:"file-"+P,removable:t.editable.value,dense:!0,textColor:n.color,tabindex:n.tabindex,onRemove:()=>{k(P)}},()=>H("span",{class:"ellipsis",textContent:R.name})));const i=n.displayValue!==void 0?n.displayValue:b.value;return i.length!==0?[H("div",{class:n.inputClass,style:n.inputStyle,textContent:i})]:y()}function v(){const i={ref:d,...A.value,...m.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:U};return n.multiple===!0&&(i.multiple=!0),H("input",i)}return Object.assign(t,{fieldClass:L,emitValue:c,hasValue:S,inputRef:d,innerValue:w,floatingLabel:V(()=>S.value===!0||Tt(n.displayValue)),computedCounter:V(()=>{if(n.counterLabel!==void 0)return n.counterLabel(F.value);const i=n.maxFiles;return`${w.value.length}${i!==void 0?" / "+i:""} (${T.value})`}),getControlChild:()=>h("file"),getControl:()=>{const i={ref:t.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:n.tabindex};return t.editable.value===!0&&Object.assign(i,{onDragover:a,onDragleave:o,onKeydown:p,onKeyup:C}),H("div",i,[v()].concat(E()))}}),Object.assign(e,{removeAtIndex:k,removeFile:s,getNativeElement:()=>d.value}),_n(e,"nativeEl",()=>d.value),Zn(t)}});function Pt(n){if(n===!1)return 0;if(n===!0||n===void 0)return 1;const _=parseInt(n,10);return isNaN(_)?0:_}const We=Cn({name:"close-popup",beforeMount(n,{value:_}){const q={depth:Pt(_),handler(f){q.depth!==0&&setTimeout(()=>{const e=Xn(n);e!==void 0&&Jn(e,f,q.depth)})},handlerKey(f){In(f,13)===!0&&q.handler(f)}};n.__qclosepopup=q,n.addEventListener("click",q.handler),n.addEventListener("keyup",q.handlerKey)},updated(n,{value:_,oldValue:q}){_!==q&&(n.__qclosepopup.depth=Pt(_))},beforeUnmount(n){const _=n.__qclosepopup;n.removeEventListener("click",_.handler),n.removeEventListener("keyup",_.handlerKey),delete n.__qclosepopup}});function dr(n){const _=document.createElement("textarea");_.value=n,_.contentEditable="true",_.style.position="fixed";const q=()=>{};er(q),document.body.appendChild(_),_.focus(),_.select();const f=document.execCommand("copy");return _.remove(),tr(q),f}function hr(n){return navigator.clipboard!==void 0?navigator.clipboard.writeText(n):new Promise((_,q)=>{const f=dr(n);f?_(!0):q(f)})}function vr(){let n=Object.create(null);return{getCache:(_,q)=>n[_]===void 0?n[_]=typeof q=="function"?q():q:n[_],setCache(_,q){n[_]=q},hasCache(_){return Object.hasOwnProperty.call(n,_)},clearCache(_){_!==void 0?delete n[_]:n=Object.create(null)}}}const gr={name:{required:!0},disable:Boolean},Lt={setup(n,{slots:_}){return()=>H("div",{class:"q-panel scroll",role:"tabpanel"},Ge(_.default))}},mr={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},br=["update:modelValue","beforeTransition","transition"];function yr(){const{props:n,emit:_,proxy:q}=Te(),{getCache:f}=vr(),{registerTimeout:e}=kn();let t,d;const l=oe(null),g={value:null};function x(y){const E=n.vertical===!0?"up":"left";s((q.$q.lang.rtl===!0?-1:1)*(y.direction===E?1:-1))}const a=V(()=>[[Fn,x,void 0,{horizontal:n.vertical!==!0,vertical:n.vertical,mouse:!0}]]),o=V(()=>n.transitionPrev||`slide-${n.vertical===!0?"down":"right"}`),r=V(()=>n.transitionNext||`slide-${n.vertical===!0?"up":"left"}`),h=V(()=>`--q-transition-duration: ${n.transitionDuration}ms`),m=V(()=>typeof n.modelValue=="string"||typeof n.modelValue=="number"?n.modelValue:String(n.modelValue)),w=V(()=>({include:n.keepAliveInclude,exclude:n.keepAliveExclude,max:n.keepAliveMax})),S=V(()=>n.keepAliveInclude!==void 0||n.keepAliveExclude!==void 0);Ae(()=>n.modelValue,(y,E)=>{const v=A(y)===!0?L(y):-1;d!==!0&&k(v===-1?0:v<L(E)?-1:1),g.value!==v&&(g.value=v,_("beforeTransition",y,E),e(()=>{_("transition",y,E)},n.transitionDuration))});function b(){s(1)}function T(){s(-1)}function F(y){_("update:modelValue",y)}function A(y){return y!=null&&y!==""}function L(y){return t.findIndex(E=>E.props.name===y&&E.props.disable!==""&&E.props.disable!==!0)}function u(){return t.filter(y=>y.props.disable!==""&&y.props.disable!==!0)}function k(y){const E=y!==0&&n.animated===!0&&g.value!==-1?"q-transition--"+(y===-1?o.value:r.value):null;l.value!==E&&(l.value=E)}function s(y,E=g.value){let v=E+y;for(;v!==-1&&v<t.length;){const i=t[v];if(i!==void 0&&i.props.disable!==""&&i.props.disable!==!0){k(y),d=!0,_("update:modelValue",i.props.name),setTimeout(()=>{d=!1});return}v+=y}n.infinite===!0&&t.length!==0&&E!==-1&&E!==t.length&&s(y,y===-1?t.length:-1)}function c(){const y=L(n.modelValue);return g.value!==y&&(g.value=y),!0}function p(){const y=A(n.modelValue)===!0&&c()&&t[g.value];return n.keepAlive===!0?[H(Tn,w.value,[H(S.value===!0?f(m.value,()=>({...Lt,name:m.value})):Lt,{key:m.value,style:h.value},()=>y)])]:[H("div",{class:"q-panel scroll",style:h.value,key:m.value,role:"tabpanel"},[y])]}function C(){if(t.length!==0)return n.animated===!0?[H(Vt,{name:l.value},p)]:p()}function I(y){return t=Un(Ge(y.default,[])).filter(E=>E.props!==null&&E.props.slot===void 0&&A(E.props.name)===!0),t.length}function U(){return t}return Object.assign(q,{next:b,previous:T,goTo:F}),{panelIndex:g,panelDirectives:a,updatePanelsList:I,updatePanelIndex:c,getPanelContent:C,getEnabledPanels:u,getPanels:U,isValidPanelName:A,keepAliveProps:w,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:s,goToPanel:F,nextPanel:b,previousPanel:T}}const pr=Fe({name:"QCarouselSlide",props:{...gr,imgSrc:String},setup(n,{slots:_}){const q=V(()=>n.imgSrc?{backgroundImage:`url("${n.imgSrc}")`}:{});return()=>H("div",{class:"q-carousel__slide",style:q.value},Ge(_.default))}}),wr=Fe({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:n=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(n)},offset:{type:Array,default:()=>[18,18],validator:n=>n.length===2}},setup(n,{slots:_}){const q=V(()=>`q-carousel__control absolute absolute-${n.position}`),f=V(()=>({margin:`${n.offset[1]}px ${n.offset[0]}px`}));return()=>H("div",{class:q.value,style:f.value},Ge(_.default))}});let Xe=0;const Ar={fullscreen:Boolean,noRouteFullscreenExit:Boolean},xr=["update:fullscreen","fullscreen"];function _r(){const n=Te(),{props:_,emit:q,proxy:f}=n;let e,t,d;const l=oe(!1);En(n)===!0&&Ae(()=>f.$route.fullPath,()=>{_.noRouteFullscreenExit!==!0&&a()}),Ae(()=>_.fullscreen,o=>{l.value!==o&&g()}),Ae(l,o=>{q("update:fullscreen",o),q("fullscreen",o)});function g(){l.value===!0?a():x()}function x(){l.value!==!0&&(l.value=!0,d=f.$el.parentNode,d.replaceChild(t,f.$el),document.body.appendChild(f.$el),Xe++,Xe===1&&document.body.classList.add("q-body--fullscreen-mixin"),e={handler:a},Ct.add(e))}function a(){l.value===!0&&(e!==void 0&&(Ct.remove(e),e=void 0),d.replaceChild(f.$el,t),l.value=!1,Xe=Math.max(0,Xe-1),Xe===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),f.$el.scrollIntoView!==void 0&&setTimeout(()=>{f.$el.scrollIntoView()})))}return qn(()=>{t=document.createElement("span")}),Nt(()=>{_.fullscreen===!0&&x()}),vt(a),Object.assign(f,{toggleFullscreen:g,setFullscreen:x,exitFullscreen:a}),{inFullscreen:l,toggleFullscreen:g}}const Sr=["top","right","bottom","left"],Cr=["regular","flat","outline","push","unelevated"],Ir=Fe({name:"QCarousel",props:{...dt,...mr,...Ar,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:n=>Cr.includes(n),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:n=>Sr.includes(n)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...xr,...br],setup(n,{slots:_}){const{proxy:{$q:q}}=Te(),f=ht(n,q);let e=null,t;const{updatePanelsList:d,getPanelContent:l,panelDirectives:g,goToPanel:x,previousPanel:a,nextPanel:o,getEnabledPanels:r,panelIndex:h}=yr(),{inFullscreen:m}=_r(),w=V(()=>m.value!==!0&&n.height!==void 0?{height:n.height}:{}),S=V(()=>n.vertical===!0?"vertical":"horizontal"),b=V(()=>n.navigationPosition||(n.vertical===!0?"right":"bottom")),T=V(()=>`q-carousel q-panel-parent q-carousel--with${n.padding===!0?"":"out"}-padding`+(m.value===!0?" fullscreen":"")+(f.value===!0?" q-carousel--dark q-dark":"")+(n.arrows===!0?` q-carousel--arrows-${S.value}`:"")+(n.navigation===!0?` q-carousel--navigation-${b.value}`:"")),F=V(()=>{const p=[n.prevIcon||q.iconSet.carousel[n.vertical===!0?"up":"left"],n.nextIcon||q.iconSet.carousel[n.vertical===!0?"down":"right"]];return n.vertical===!1&&q.lang.rtl===!0?p.reverse():p}),A=V(()=>n.navigationIcon||q.iconSet.carousel.navigationIcon),L=V(()=>n.navigationActiveIcon||A.value),u=V(()=>({color:n.controlColor,textColor:n.controlTextColor,round:!0,[n.controlType]:!0,dense:!0}));Ae(()=>n.modelValue,()=>{n.autoplay&&k()}),Ae(()=>n.autoplay,p=>{p?k():e!==null&&(clearTimeout(e),e=null)});function k(){const p=Pn(n.autoplay)===!0?Math.abs(n.autoplay):5e3;e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,p>=0?o():a()},p)}Nt(()=>{n.autoplay&&k()}),vt(()=>{e!==null&&clearTimeout(e)});function s(p,C){return H("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${p} q-carousel__navigation--${b.value}`+(n.controlColor!==void 0?` text-${n.controlColor}`:"")},[H("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},r().map(C))])}function c(){const p=[];if(n.navigation===!0){const C=_["navigation-icon"]!==void 0?_["navigation-icon"]:U=>H(ae,{key:"nav"+U.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${U.active===!0?"":"in"}active`,...U.btnProps,onClick:U.onClick}),I=t-1;p.push(s("buttons",(U,y)=>{const E=U.props.name,v=h.value===y;return C({index:y,maxIndex:I,name:E,active:v,btnProps:{icon:v===!0?L.value:A.value,size:"sm",...u.value},onClick:()=>{x(E)}})}))}else if(n.thumbnails===!0){const C=n.controlColor!==void 0?` text-${n.controlColor}`:"";p.push(s("thumbnails",I=>{const U=I.props;return H("img",{key:"tmb#"+U.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${U.name===n.modelValue?"":"in"}active`+C,src:U.imgSrc||U["img-src"],onClick:()=>{x(U.name)}})}))}return n.arrows===!0&&h.value>=0&&((n.infinite===!0||h.value>0)&&p.push(H("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[H(ae,{icon:F.value[0],...u.value,onClick:a})])),(n.infinite===!0||h.value<t-1)&&p.push(H("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[H(ae,{icon:F.value[1],...u.value,onClick:o})]))),Bt(_.control,p)}return()=>(t=d(_),H("div",{class:T.value,style:w.value},[Ot("div",{class:"q-carousel__slides-container"},l(),"sl-cont",n.swipeable,()=>g.value)].concat(c())))}});function kr(){return Ln(Rn)}const Fr={class:"row photo-carousel-btns"},Ur=["src"],Tr={__name:"PhotoCarouselBtns",props:{photos:{type:Array,required:!0},deletable:{type:Boolean,default:!0}},emits:["delete:photo"],setup(n,{emit:_}){const q=kr(),f=()=>{q.loading.show({message:"載入圖片中...",spinnerColor:"green",spinnerSize:"4em"})},e=()=>{q.loading.hide()},t=n,d=oe(!1),l=oe(1),g=oe(!1),x=oe(!1),a=oe([]),o=V(()=>a.value.map(b=>{const{height:T,width:F}=Mn,A=T(document.body)-48,L=F(document.body)>600?560:F(document.body)-48;if(b.height<=A&&b.width<=L)return b;const u={width:L,height:b.height*L/b.width},k={width:b.width*A/b.height,height:A};if(b.height>A&&b.width<=L)return k;if(b.height<=A&&b.width>L)return u;if(b.height>A&&b.width>L)return b.height>b.width?A>L?u:k:u})),r=_;async function h(b){if(!a.value[b]){f(),await S(t.photos),e(),l.value=b,d.value=!0;return}l.value=b,d.value=!0}function m(){g.value=!0}function w(){x.value=!0;const b=l.value,T=[...t.photos.slice(0,b),...t.photos.slice(b+1)];return d.value=!1,r("delete:photo",T)}async function S(b){const T=[];for(const F of b){const A=await new Promise((L,u)=>{const k=new Image;k.onload=()=>{L({width:k.naturalWidth,height:k.naturalHeight})},k.onerror=u,k.src=F});T.push(A)}a.value=T}return Ae(()=>t.photos,async()=>{if(x.value){x.value=!1;return}await S(t.photos)}),(b,T)=>(ve(),it("div",Fr,[(ve(!0),it(It,null,kt(n.photos,(F,A)=>(ve(),Ce(ae,{key:A,round:"",size:"12px",onClick:L=>h(A)},{default:j(()=>[z($n,{size:"36px"},{default:j(()=>[fe("img",{src:F,loading:"lazy"},null,8,Ur)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),z(et,{modelValue:d.value,"onUpdate:modelValue":T[1]||(T[1]=F=>d.value=F)},{default:j(()=>[z(Ir,{swipeable:"",animated:"",arrows:"",modelValue:l.value,"onUpdate:modelValue":T[0]||(T[0]=F=>l.value=F),infinite:"",style:On(`width: ${o.value[l.value].width}px; height: ${o.value[l.value].height}px`),class:"carousel-dialog"},Ht({default:j(()=>[(ve(!0),it(It,null,kt(n.photos,(F,A)=>(ve(),Ce(pr,{name:A,"img-src":F,key:A},null,8,["name","img-src"]))),128))]),_:2},[n.deletable?{name:"control",fn:j(()=>[z(wr,{position:"bottom-right",offset:[18,18]},{default:j(()=>[z(ae,{round:"",dense:"",color:"white","text-color":"grey-8",icon:"delete",onClick:m})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","style"])]),_:1},8,["modelValue"]),z(et,{modelValue:g.value,"onUpdate:modelValue":T[2]||(T[2]=F=>g.value=F),persistent:""},{default:j(()=>[z(je,null,{default:j(()=>[z(Se,{class:"row items-center"},{default:j(()=>[z(ke,{name:"warning",color:"negative",size:"24px"}),T[3]||(T[3]=fe("span",{class:"q-ml-sm"},"確定要刪除這張照片嗎？",-1))]),_:1}),z(Je,{align:"right"},{default:j(()=>[Ve(z(ae,{flat:"",label:"取消",color:"primary"},null,512),[[We]]),Ve(z(ae,{flat:"",label:"刪除",color:"negative",onClick:w},null,512),[[We]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Er=zt(Tr,[["__scopeId","data-v-9034d172"]]),qr="https://yhbtdswgzercvhikcfkp.supabase.co/functions/v1/storage-upload",Pr=Bn.create({baseURL:`${qr}`}),Lr={async POST(n){const _=new FormData;return _.append("file",n),(await Pr.post("",_)).data}};function Rr(n,_){return _.forEach(function(q){q&&typeof q!="string"&&!Array.isArray(q)&&Object.keys(q).forEach(function(f){if(f!=="default"&&!(f in n)){var e=Object.getOwnPropertyDescriptor(q,f);Object.defineProperty(n,f,e.get?e:{enumerable:!0,get:function(){return q[f]}})}})}),Object.freeze(n)}function Wt(n,_){return new Promise(function(q,f){let e;return Mr(n).then(function(t){try{return e=t,q(new Blob([_.slice(0,2),e,_.slice(2)],{type:"image/jpeg"}))}catch(d){return f(d)}},f)})}const Mr=n=>new Promise((_,q)=>{const f=new FileReader;f.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let d=0;if(t.getUint16(d)!==65496)return q("not a valid JPEG");for(d+=2;;){const l=t.getUint16(d);if(l===65498)break;const g=t.getUint16(d+2);if(l===65505&&t.getUint32(d+4)===1165519206){const x=d+10;let a;switch(t.getUint16(x)){case 18761:a=!0;break;case 19789:a=!1;break;default:return q("TIFF header contains invalid endian")}if(t.getUint16(x+2,a)!==42)return q("TIFF header contains invalid version");const o=t.getUint32(x+4,a),r=x+o+2+12*t.getUint16(x+o,a);for(let h=x+o+2;h<r;h+=12)if(t.getUint16(h,a)==274){if(t.getUint16(h+2,a)!==3)return q("Orientation data type is invalid");if(t.getUint32(h+4,a)!==1)return q("Orientation data count is invalid");t.setUint16(h+8,1,a);break}return _(e.slice(d,d+2+g))}d+=2+g}return _(new Blob)}),f.readAsArrayBuffer(n)});var st={},$r={get exports(){return st},set exports(n){st=n}};(function(n){var _,q,f={};$r.exports=f,f.parse=function(e,t){for(var d=f.bin.readUshort,l=f.bin.readUint,g=0,x={},a=new Uint8Array(e),o=a.length-4;l(a,o)!=101010256;)o--;g=o,g+=4;var r=d(a,g+=4);d(a,g+=2);var h=l(a,g+=2),m=l(a,g+=4);g+=4,g=m;for(var w=0;w<r;w++){l(a,g),g+=4,g+=4,g+=4,l(a,g+=4),h=l(a,g+=4);var S=l(a,g+=4),b=d(a,g+=4),T=d(a,g+2),F=d(a,g+4);g+=6;var A=l(a,g+=8);g+=4,g+=b+T+F,f._readLocal(a,A,x,h,S,t)}return x},f._readLocal=function(e,t,d,l,g,x){var a=f.bin.readUshort,o=f.bin.readUint;o(e,t),a(e,t+=4),a(e,t+=2);var r=a(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var h=a(e,t+=8),m=a(e,t+=2);t+=2;var w=f.bin.readUTF8(e,t,h);if(t+=h,t+=m,x)d[w]={size:g,csize:l};else{var S=new Uint8Array(e.buffer,t);if(r==0)d[w]=new Uint8Array(S.buffer.slice(t,t+l));else{if(r!=8)throw"unknown compression method: "+r;var b=new Uint8Array(g);f.inflateRaw(S,b),d[w]=b}}},f.inflateRaw=function(e,t){return f.F.inflate(e,t)},f.inflate=function(e,t){return e[0],e[1],f.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},f.deflate=function(e,t){t==null&&(t={level:6});var d=0,l=new Uint8Array(50+Math.floor(1.1*e.length));l[d]=120,l[d+1]=156,d+=2,d=f.F.deflateRaw(e,l,d,t.level);var g=f.adler(e,0,e.length);return l[d+0]=g>>>24&255,l[d+1]=g>>>16&255,l[d+2]=g>>>8&255,l[d+3]=g>>>0&255,new Uint8Array(l.buffer,0,d+4)},f.deflateRaw=function(e,t){t==null&&(t={level:6});var d=new Uint8Array(50+Math.floor(1.1*e.length)),l=f.F.deflateRaw(e,d,l,t.level);return new Uint8Array(d.buffer,0,l)},f.encode=function(e,t){t==null&&(t=!1);var d=0,l=f.bin.writeUint,g=f.bin.writeUshort,x={};for(var a in e){var o=!f._noNeed(a)&&!t,r=e[a],h=f.crc.crc(r,0,r.length);x[a]={cpr:o,usize:r.length,crc:h,file:o?f.deflateRaw(r):r}}for(var a in x)d+=x[a].file.length+30+46+2*f.bin.sizeUTF8(a);d+=22;var m=new Uint8Array(d),w=0,S=[];for(var a in x){var b=x[a];S.push(w),w=f._writeHeader(m,w,a,b,0)}var T=0,F=w;for(var a in x)b=x[a],S.push(w),w=f._writeHeader(m,w,a,b,1,S[T++]);var A=w-F;return l(m,w,101010256),w+=4,g(m,w+=4,T),g(m,w+=2,T),l(m,w+=2,A),l(m,w+=4,F),w+=4,w+=2,m.buffer},f._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},f._writeHeader=function(e,t,d,l,g,x){var a=f.bin.writeUint,o=f.bin.writeUshort,r=l.file;return a(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,l.cpr?8:0),a(e,t+=2,0),a(e,t+=4,l.crc),a(e,t+=4,r.length),a(e,t+=4,l.usize),o(e,t+=4,f.bin.sizeUTF8(d)),o(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,a(e,t+=6,x),t+=4),t+=f.bin.writeUTF8(e,t,d),g==0&&(e.set(r,t),t+=r.length),t},f.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var d=t,l=0;l<8;l++)1&d?d=3988292384^d>>>1:d>>>=1;e[t]=d}return e}(),update:function(e,t,d,l){for(var g=0;g<l;g++)e=f.crc.table[255&(e^t[d+g])]^e>>>8;return e},crc:function(e,t,d){return 4294967295^f.crc.update(4294967295,e,t,d)}},f.adler=function(e,t,d){for(var l=1,g=0,x=t,a=t+d;x<a;){for(var o=Math.min(x+5552,a);x<o;)g+=l+=e[x++];l%=65521,g%=65521}return g<<16|l},f.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255,e[t+2]=d>>16&255,e[t+3]=d>>24&255},readASCII:function(e,t,d){for(var l="",g=0;g<d;g++)l+=String.fromCharCode(e[t+g]);return l},writeASCII:function(e,t,d){for(var l=0;l<d.length;l++)e[t+l]=d.charCodeAt(l)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,d){for(var l,g="",x=0;x<d;x++)g+="%"+f.bin.pad(e[t+x].toString(16));try{l=decodeURIComponent(g)}catch{return f.bin.readASCII(e,t,d)}return l},writeUTF8:function(e,t,d){for(var l=d.length,g=0,x=0;x<l;x++){var a=d.charCodeAt(x);if((4294967168&a)==0)e[t+g]=a,g++;else if((4294965248&a)==0)e[t+g]=192|a>>6,e[t+g+1]=128|a>>0&63,g+=2;else if((4294901760&a)==0)e[t+g]=224|a>>12,e[t+g+1]=128|a>>6&63,e[t+g+2]=128|a>>0&63,g+=3;else{if((4292870144&a)!=0)throw"e";e[t+g]=240|a>>18,e[t+g+1]=128|a>>12&63,e[t+g+2]=128|a>>6&63,e[t+g+3]=128|a>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,d=0,l=0;l<t;l++){var g=e.charCodeAt(l);if((4294967168&g)==0)d++;else if((4294965248&g)==0)d+=2;else if((4294901760&g)==0)d+=3;else{if((4292870144&g)!=0)throw"e";d+=4}}return d}},f.F={},f.F.deflateRaw=function(e,t,d,l){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],x=f.F.U,a=f.F._goodIndex;f.F._hash;var o=f.F._putsE,r=0,h=d<<3,m=0,w=e.length;if(l==0){for(;r<w;)o(t,h,r+(C=Math.min(65535,w-r))==w?1:0),h=f.F._copyExact(e,r,C,t,h+8),r+=C;return h>>>3}var S=x.lits,b=x.strt,T=x.prev,F=0,A=0,L=0,u=0,k=0,s=0;for(w>2&&(b[s=f.F._hash(e,0)]=0),r=0;r<w;r++){if(k=s,r+1<w-2){s=f.F._hash(e,r+1);var c=r+1&32767;T[c]=b[s],b[s]=c}if(m<=r){(F>14e3||A>26697)&&w-r>100&&(m<r&&(S[F]=r-m,F+=2,m=r),h=f.F._writeBlock(r==w-1||m==w?1:0,S,F,u,e,L,r-L,t,h),F=A=u=0,L=r);var p=0;r<w-2&&(p=f.F._bestMatch(e,r,T,k,Math.min(g[2],w-r),g[3]));var C=p>>>16,I=65535&p;if(p!=0){I=65535&p;var U=a(C=p>>>16,x.of0);x.lhst[257+U]++;var y=a(I,x.df0);x.dhst[y]++,u+=x.exb[U]+x.dxb[y],S[F]=C<<23|r-m,S[F+1]=I<<16|U<<8|y,F+=2,m=r+C}else x.lhst[e[r]]++;A++}}for(L==r&&e.length!=0||(m<r&&(S[F]=r-m,F+=2,m=r),h=f.F._writeBlock(1,S,F,u,e,L,r-L,t,h),F=0,A=0,F=A=u=0,L=r);(7&h)!=0;)h++;return h>>>3},f.F._bestMatch=function(e,t,d,l,g,x){var a=32767&t,o=d[a],r=a-o+32768&32767;if(o==a||l!=f.F._hash(e,t-r))return 0;for(var h=0,m=0,w=Math.min(32767,t);r<=w&&--x!=0&&o!=a;){if(h==0||e[t+h]==e[t+h-r]){var S=f.F._howLong(e,t,r);if(S>h){if(m=r,(h=S)>=g)break;r+2<S&&(S=r+2);for(var b=0,T=0;T<S-2;T++){var F=t-r+T+32768&32767,A=F-d[F]+32768&32767;A>b&&(b=A,o=F)}}}r+=(a=o)-(o=d[a])+32768&32767}return h<<16|m},f.F._howLong=function(e,t,d){if(e[t]!=e[t-d]||e[t+1]!=e[t+1-d]||e[t+2]!=e[t+2-d])return 0;var l=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-d];)t++;return t-l},f.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},f.saved=0,f.F._writeBlock=function(e,t,d,l,g,x,a,o,r){var h,m,w,S,b,T,F,A,L,u=f.F.U,k=f.F._putsF,s=f.F._putsE;u.lhst[256]++,m=(h=f.F.getTrees())[0],w=h[1],S=h[2],b=h[3],T=h[4],F=h[5],A=h[6],L=h[7];var c=32+((r+3&7)==0?0:8-(r+3&7))+(a<<3),p=l+f.F.contSize(u.fltree,u.lhst)+f.F.contSize(u.fdtree,u.dhst),C=l+f.F.contSize(u.ltree,u.lhst)+f.F.contSize(u.dtree,u.dhst);C+=14+3*F+f.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var I=0;I<286;I++)u.lhst[I]=0;for(I=0;I<30;I++)u.dhst[I]=0;for(I=0;I<19;I++)u.ihst[I]=0;var U=c<p&&c<C?0:p<C?1:2;if(k(o,r,e),k(o,r+1,U),r+=3,U==0){for(;(7&r)!=0;)r++;r=f.F._copyExact(g,x,a,o,r)}else{var y,E;if(U==1&&(y=u.fltree,E=u.fdtree),U==2){f.F.makeCodes(u.ltree,m),f.F.revCodes(u.ltree,m),f.F.makeCodes(u.dtree,w),f.F.revCodes(u.dtree,w),f.F.makeCodes(u.itree,S),f.F.revCodes(u.itree,S),y=u.ltree,E=u.dtree,s(o,r,b-257),s(o,r+=5,T-1),s(o,r+=5,F-4),r+=4;for(var v=0;v<F;v++)s(o,r+3*v,u.itree[1+(u.ordr[v]<<1)]);r+=3*F,r=f.F._codeTiny(A,u.itree,o,r),r=f.F._codeTiny(L,u.itree,o,r)}for(var i=x,R=0;R<d;R+=2){for(var P=t[R],$=P>>>23,N=i+(8388607&P);i<N;)r=f.F._writeLit(g[i++],y,o,r);if($!=0){var B=t[R+1],D=B>>16,O=B>>8&255,M=255&B;s(o,r=f.F._writeLit(257+O,y,o,r),$-u.of0[O]),r+=u.exb[O],k(o,r=f.F._writeLit(M,E,o,r),D-u.df0[M]),r+=u.dxb[M],i+=$}}r=f.F._writeLit(256,y,o,r)}return r},f.F._copyExact=function(e,t,d,l,g){var x=g>>>3;return l[x]=d,l[x+1]=d>>>8,l[x+2]=255-l[x],l[x+3]=255-l[x+1],x+=4,l.set(new Uint8Array(e.buffer,t,d),x),g+(d+4<<3)},f.F.getTrees=function(){for(var e=f.F.U,t=f.F._hufTree(e.lhst,e.ltree,15),d=f.F._hufTree(e.dhst,e.dtree,15),l=[],g=f.F._lenCodes(e.ltree,l),x=[],a=f.F._lenCodes(e.dtree,x),o=0;o<l.length;o+=2)e.ihst[l[o]]++;for(o=0;o<x.length;o+=2)e.ihst[x[o]]++;for(var r=f.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&e.itree[1+(e.ordr[h-1]<<1)]==0;)h--;return[t,d,r,g,a,h,l,x]},f.F.getSecond=function(e){for(var t=[],d=0;d<e.length;d+=2)t.push(e[d+1]);return t},f.F.nonZero=function(e){for(var t="",d=0;d<e.length;d+=2)e[d+1]!=0&&(t+=(d>>1)+",");return t},f.F.contSize=function(e,t){for(var d=0,l=0;l<t.length;l++)d+=t[l]*e[1+(l<<1)];return d},f.F._codeTiny=function(e,t,d,l){for(var g=0;g<e.length;g+=2){var x=e[g],a=e[g+1];l=f.F._writeLit(x,t,d,l);var o=x==16?2:x==17?3:7;x>15&&(f.F._putsE(d,l,a,o),l+=o)}return l},f.F._lenCodes=function(e,t){for(var d=e.length;d!=2&&e[d-1]==0;)d-=2;for(var l=0;l<d;l+=2){var g=e[l+1],x=l+3<d?e[l+3]:-1,a=l+5<d?e[l+5]:-1,o=l==0?-1:e[l-1];if(g==0&&x==g&&a==g){for(var r=l+5;r+2<d&&e[r+2]==g;)r+=2;(h=Math.min(r+1-l>>>1,138))<11?t.push(17,h-3):t.push(18,h-11),l+=2*h-2}else if(g==o&&x==g&&a==g){for(r=l+5;r+2<d&&e[r+2]==g;)r+=2;var h=Math.min(r+1-l>>>1,6);t.push(16,h-3),l+=2*h-2}else t.push(g,0)}return d>>>1},f.F._hufTree=function(e,t,d){var l=[],g=e.length,x=t.length,a=0;for(a=0;a<x;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<g;a++)e[a]!=0&&l.push({lit:a,f:e[a]});var o=l.length,r=l.slice(0);if(o==0)return 0;if(o==1){var h=l[0].lit;return r=h==0?1:0,t[1+(h<<1)]=1,t[1+(r<<1)]=1,1}l.sort(function(A,L){return A.f-L.f});var m=l[0],w=l[1],S=0,b=1,T=2;for(l[0]={lit:-1,f:m.f+w.f,l:m,r:w,d:0};b!=o-1;)m=S!=b&&(T==o||l[S].f<l[T].f)?l[S++]:l[T++],w=S!=b&&(T==o||l[S].f<l[T].f)?l[S++]:l[T++],l[b++]={lit:-1,f:m.f+w.f,l:m,r:w};var F=f.F.setDepth(l[b-1],0);for(F>d&&(f.F.restrictDepth(r,d,F),F=d),a=0;a<o;a++)t[1+(r[a].lit<<1)]=r[a].d;return F},f.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(f.F.setDepth(e.l,t+1),f.F.setDepth(e.r,t+1))},f.F.restrictDepth=function(e,t,d){var l=0,g=1<<d-t,x=0;for(e.sort(function(o,r){return r.d==o.d?o.f-r.f:r.d-o.d}),l=0;l<e.length&&e[l].d>t;l++){var a=e[l].d;e[l].d=t,x+=g-(1<<d-a)}for(x>>>=d-t;x>0;)(a=e[l].d)<t?(e[l].d++,x-=1<<t-a-1):l++;for(;l>=0;l--)e[l].d==t&&x<0&&(e[l].d--,x++);x!=0&&console.log("debt left")},f.F._goodIndex=function(e,t){var d=0;return t[16|d]<=e&&(d|=16),t[8|d]<=e&&(d|=8),t[4|d]<=e&&(d|=4),t[2|d]<=e&&(d|=2),t[1|d]<=e&&(d|=1),d},f.F._writeLit=function(e,t,d,l){return f.F._putsF(d,l,t[e<<1]),l+t[1+(e<<1)]},f.F.inflate=function(e,t){var d=Uint8Array;if(e[0]==3&&e[1]==0)return t||new d(0);var l=f.F,g=l._bitsF,x=l._bitsE,a=l._decodeTiny,o=l.makeCodes,r=l.codes2map,h=l._get17,m=l.U,w=t==null;w&&(t=new d(e.length>>>2<<3));for(var S,b,T=0,F=0,A=0,L=0,u=0,k=0,s=0,c=0,p=0;T==0;)if(T=g(e,p,1),F=g(e,p+1,2),p+=3,F!=0){if(w&&(t=f.F._check(t,c+(1<<17))),F==1&&(S=m.flmap,b=m.fdmap,k=511,s=31),F==2){A=x(e,p,5)+257,L=x(e,p+5,5)+1,u=x(e,p+10,4)+4,p+=14;for(var C=0;C<38;C+=2)m.itree[C]=0,m.itree[C+1]=0;var I=1;for(C=0;C<u;C++){var U=x(e,p+3*C,3);m.itree[1+(m.ordr[C]<<1)]=U,U>I&&(I=U)}p+=3*u,o(m.itree,I),r(m.itree,I,m.imap),S=m.lmap,b=m.dmap,p=a(m.imap,(1<<I)-1,A+L,e,p,m.ttree);var y=l._copyOut(m.ttree,0,A,m.ltree);k=(1<<y)-1;var E=l._copyOut(m.ttree,A,L,m.dtree);s=(1<<E)-1,o(m.ltree,y),r(m.ltree,y,S),o(m.dtree,E),r(m.dtree,E,b)}for(;;){var v=S[h(e,p)&k];p+=15&v;var i=v>>>4;if(!(i>>>8))t[c++]=i;else{if(i==256)break;var R=c+i-254;if(i>264){var P=m.ldef[i-257];R=c+(P>>>3)+x(e,p,7&P),p+=7&P}var $=b[h(e,p)&s];p+=15&$;var N=$>>>4,B=m.ddef[N],D=(B>>>4)+g(e,p,15&B);for(p+=15&B,w&&(t=f.F._check(t,c+(1<<17)));c<R;)t[c]=t[c++-D],t[c]=t[c++-D],t[c]=t[c++-D],t[c]=t[c++-D];c=R}}}else{(7&p)!=0&&(p+=8-(7&p));var O=4+(p>>>3),M=e[O-4]|e[O-3]<<8;w&&(t=f.F._check(t,c+M)),t.set(new d(e.buffer,e.byteOffset+O,M),c),p=O+M<<3,c+=M}return t.length==c?t:t.slice(0,c)},f.F._check=function(e,t){var d=e.length;if(t<=d)return e;var l=new Uint8Array(Math.max(d<<1,t));return l.set(e,0),l},f.F._decodeTiny=function(e,t,d,l,g,x){for(var a=f.F._bitsE,o=f.F._get17,r=0;r<d;){var h=e[o(l,g)&t];g+=15&h;var m=h>>>4;if(m<=15)x[r]=m,r++;else{var w=0,S=0;m==16?(S=3+a(l,g,2),g+=2,w=x[r-1]):m==17?(S=3+a(l,g,3),g+=3):m==18&&(S=11+a(l,g,7),g+=7);for(var b=r+S;r<b;)x[r]=w,r++}}return g},f.F._copyOut=function(e,t,d,l){for(var g=0,x=0,a=l.length>>>1;x<d;){var o=e[x+t];l[x<<1]=0,l[1+(x<<1)]=o,o>g&&(g=o),x++}for(;x<a;)l[x<<1]=0,l[1+(x<<1)]=0,x++;return g},f.F.makeCodes=function(e,t){for(var d,l,g,x,a=f.F.U,o=e.length,r=a.bl_count,h=0;h<=t;h++)r[h]=0;for(h=1;h<o;h+=2)r[e[h]]++;var m=a.next_code;for(d=0,r[0]=0,l=1;l<=t;l++)d=d+r[l-1]<<1,m[l]=d;for(g=0;g<o;g+=2)(x=e[g+1])!=0&&(e[g]=m[x],m[x]++)},f.F.codes2map=function(e,t,d){for(var l=e.length,g=f.F.U.rev15,x=0;x<l;x+=2)if(e[x+1]!=0)for(var a=x>>1,o=e[x+1],r=a<<4|o,h=t-o,m=e[x]<<h,w=m+(1<<h);m!=w;)d[g[m]>>>15-t]=r,m++},f.F.revCodes=function(e,t){for(var d=f.F.U.rev15,l=15-t,g=0;g<e.length;g+=2){var x=e[g]<<t-e[g+1];e[g]=d[x]>>>l}},f.F._putsE=function(e,t,d){d<<=7&t;var l=t>>>3;e[l]|=d,e[l+1]|=d>>>8},f.F._putsF=function(e,t,d){d<<=7&t;var l=t>>>3;e[l]|=d,e[l+1]|=d>>>8,e[l+2]|=d>>>16},f.F._bitsE=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<d)-1},f.F._bitsF=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<d)-1},f.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},f.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},f.F.U=(_=Uint16Array,q=Uint32Array,{next_code:new _(16),bl_count:new _(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new _(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new q(32),flmap:new _(512),fltree:[],fdmap:new _(32),fdtree:[],lmap:new _(32768),ltree:[],ttree:[],dmap:new _(32768),dtree:[],imap:new _(512),itree:[],rev15:new _(32768),lhst:new q(286),dhst:new q(30),ihst:new q(19),lits:new q(15e3),strt:new _(65536),prev:new _(32768)}),function(){for(var e=f.F.U,t=0;t<32768;t++){var d=t;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,e.rev15[t]=(d>>>16|d<<16)>>>17}function l(g,x,a){for(;x--!=0;)g.push(0,a)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];l(e.fltree,144,8),l(e.fltree,112,9),l(e.fltree,24,7),l(e.fltree,8,8),f.F.makeCodes(e.fltree,9),f.F.codes2map(e.fltree,9,e.flmap),f.F.revCodes(e.fltree,9),l(e.fdtree,32,5),f.F.makeCodes(e.fdtree,5),f.F.codes2map(e.fdtree,5,e.fdmap),f.F.revCodes(e.fdtree,5),l(e.itree,19,0),l(e.ltree,286,0),l(e.dtree,30,0),l(e.ttree,320,0)}()})();var Or=Rr({__proto__:null,default:st},[st]);const we=function(){var n={nextZero(a,o){for(;a[o]!=0;)o++;return o},readUshort:(a,o)=>a[o]<<8|a[o+1],writeUshort(a,o,r){a[o]=r>>8&255,a[o+1]=255&r},readUint:(a,o)=>16777216*a[o]+(a[o+1]<<16|a[o+2]<<8|a[o+3]),writeUint(a,o,r){a[o]=r>>24&255,a[o+1]=r>>16&255,a[o+2]=r>>8&255,a[o+3]=255&r},readASCII(a,o,r){let h="";for(let m=0;m<r;m++)h+=String.fromCharCode(a[o+m]);return h},writeASCII(a,o,r){for(let h=0;h<r.length;h++)a[o+h]=r.charCodeAt(h)},readBytes(a,o,r){const h=[];for(let m=0;m<r;m++)h.push(a[o+m]);return h},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,o,r){let h,m="";for(let w=0;w<r;w++)m+=`%${n.pad(a[o+w].toString(16))}`;try{h=decodeURIComponent(m)}catch{return n.readASCII(a,o,r)}return h}};function _(a,o,r,h){const m=o*r,w=t(h),S=Math.ceil(o*w/8),b=new Uint8Array(4*m),T=new Uint32Array(b.buffer),{ctype:F}=h,{depth:A}=h,L=n.readUshort;if(F==6){const P=m<<2;if(A==8)for(var u=0;u<P;u+=4)b[u]=a[u],b[u+1]=a[u+1],b[u+2]=a[u+2],b[u+3]=a[u+3];if(A==16)for(u=0;u<P;u++)b[u]=a[u<<1]}else if(F==2){const P=h.tabs.tRNS;if(P==null){if(A==8)for(u=0;u<m;u++){var k=3*u;T[u]=255<<24|a[k+2]<<16|a[k+1]<<8|a[k]}if(A==16)for(u=0;u<m;u++)k=6*u,T[u]=255<<24|a[k+4]<<16|a[k+2]<<8|a[k]}else{var s=P[0];const $=P[1],N=P[2];if(A==8)for(u=0;u<m;u++){var c=u<<2;k=3*u,T[u]=255<<24|a[k+2]<<16|a[k+1]<<8|a[k],a[k]==s&&a[k+1]==$&&a[k+2]==N&&(b[c+3]=0)}if(A==16)for(u=0;u<m;u++)c=u<<2,k=6*u,T[u]=255<<24|a[k+4]<<16|a[k+2]<<8|a[k],L(a,k)==s&&L(a,k+2)==$&&L(a,k+4)==N&&(b[c+3]=0)}}else if(F==3){const P=h.tabs.PLTE,$=h.tabs.tRNS,N=$?$.length:0;if(A==1)for(var p=0;p<r;p++){var C=p*S,I=p*o;for(u=0;u<o;u++){c=I+u<<2;var U=3*(y=a[C+(u>>3)]>>7-((7&u)<<0)&1);b[c]=P[U],b[c+1]=P[U+1],b[c+2]=P[U+2],b[c+3]=y<N?$[y]:255}}if(A==2)for(p=0;p<r;p++)for(C=p*S,I=p*o,u=0;u<o;u++)c=I+u<<2,U=3*(y=a[C+(u>>2)]>>6-((3&u)<<1)&3),b[c]=P[U],b[c+1]=P[U+1],b[c+2]=P[U+2],b[c+3]=y<N?$[y]:255;if(A==4)for(p=0;p<r;p++)for(C=p*S,I=p*o,u=0;u<o;u++)c=I+u<<2,U=3*(y=a[C+(u>>1)]>>4-((1&u)<<2)&15),b[c]=P[U],b[c+1]=P[U+1],b[c+2]=P[U+2],b[c+3]=y<N?$[y]:255;if(A==8)for(u=0;u<m;u++){var y;c=u<<2,U=3*(y=a[u]),b[c]=P[U],b[c+1]=P[U+1],b[c+2]=P[U+2],b[c+3]=y<N?$[y]:255}}else if(F==4){if(A==8)for(u=0;u<m;u++){c=u<<2;var E=a[v=u<<1];b[c]=E,b[c+1]=E,b[c+2]=E,b[c+3]=a[v+1]}if(A==16)for(u=0;u<m;u++){var v;c=u<<2,E=a[v=u<<2],b[c]=E,b[c+1]=E,b[c+2]=E,b[c+3]=a[v+2]}}else if(F==0)for(s=h.tabs.tRNS?h.tabs.tRNS:-1,p=0;p<r;p++){const P=p*S,$=p*o;if(A==1)for(var i=0;i<o;i++){var R=(E=255*(a[P+(i>>>3)]>>>7-(7&i)&1))==255*s?0:255;T[$+i]=R<<24|E<<16|E<<8|E}else if(A==2)for(i=0;i<o;i++)R=(E=85*(a[P+(i>>>2)]>>>6-((3&i)<<1)&3))==85*s?0:255,T[$+i]=R<<24|E<<16|E<<8|E;else if(A==4)for(i=0;i<o;i++)R=(E=17*(a[P+(i>>>1)]>>>4-((1&i)<<2)&15))==17*s?0:255,T[$+i]=R<<24|E<<16|E<<8|E;else if(A==8)for(i=0;i<o;i++)R=(E=a[P+i])==s?0:255,T[$+i]=R<<24|E<<16|E<<8|E;else if(A==16)for(i=0;i<o;i++)E=a[P+(i<<1)],R=L(a,P+(i<<1))==s?0:255,T[$+i]=R<<24|E<<16|E<<8|E}return b}function q(a,o,r,h){const m=t(a),w=Math.ceil(r*m/8),S=new Uint8Array((w+1+a.interlace)*h);return o=a.tabs.CgBI?e(o,S):f(o,S),a.interlace==0?o=d(o,a,0,r,h):a.interlace==1&&(o=function(T,F){const A=F.width,L=F.height,u=t(F),k=u>>3,s=Math.ceil(A*u/8),c=new Uint8Array(L*s);let p=0;const C=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],y=[8,8,4,4,2,2,1];let E=0;for(;E<7;){const i=U[E],R=y[E];let P=0,$=0,N=C[E];for(;N<L;)N+=i,$++;let B=I[E];for(;B<A;)B+=R,P++;const D=Math.ceil(P*u/8);d(T,F,p,P,$);let O=0,M=C[E];for(;M<L;){let Q=I[E],X=p+O*D<<3;for(;Q<A;){var v;if(u==1&&(v=(v=T[X>>3])>>7-(7&X)&1,c[M*s+(Q>>3)]|=v<<7-((7&Q)<<0)),u==2&&(v=(v=T[X>>3])>>6-(7&X)&3,c[M*s+(Q>>2)]|=v<<6-((3&Q)<<1)),u==4&&(v=(v=T[X>>3])>>4-(7&X)&15,c[M*s+(Q>>1)]|=v<<4-((1&Q)<<2)),u>=8){const K=M*s+Q*k;for(let W=0;W<k;W++)c[K+W]=T[(X>>3)+W]}X+=u,Q+=R}O++,M+=i}P*$!=0&&(p+=$*(1+D)),E+=1}return c}(o,a)),o}function f(a,o){return e(new Uint8Array(a.buffer,2,a.length-6),o)}var e=function(){const a={H:{}};return a.H.N=function(o,r){const h=Uint8Array;let m,w,S=0,b=0,T=0,F=0,A=0,L=0,u=0,k=0,s=0;if(o[0]==3&&o[1]==0)return r||new h(0);const c=a.H,p=c.b,C=c.e,I=c.R,U=c.n,y=c.A,E=c.Z,v=c.m,i=r==null;for(i&&(r=new h(o.length>>>2<<5));S==0;)if(S=p(o,s,1),b=p(o,s+1,2),s+=3,b!=0){if(i&&(r=a.H.W(r,k+(1<<17))),b==1&&(m=v.J,w=v.h,L=511,u=31),b==2){T=C(o,s,5)+257,F=C(o,s+5,5)+1,A=C(o,s+10,4)+4,s+=14;let P=1;for(var R=0;R<38;R+=2)v.Q[R]=0,v.Q[R+1]=0;for(R=0;R<A;R++){const B=C(o,s+3*R,3);v.Q[1+(v.X[R]<<1)]=B,B>P&&(P=B)}s+=3*A,U(v.Q,P),y(v.Q,P,v.u),m=v.w,w=v.d,s=I(v.u,(1<<P)-1,T+F,o,s,v.v);const $=c.V(v.v,0,T,v.C);L=(1<<$)-1;const N=c.V(v.v,T,F,v.D);u=(1<<N)-1,U(v.C,$),y(v.C,$,m),U(v.D,N),y(v.D,N,w)}for(;;){const P=m[E(o,s)&L];s+=15&P;const $=P>>>4;if(!($>>>8))r[k++]=$;else{if($==256)break;{let N=k+$-254;if($>264){const Q=v.q[$-257];N=k+(Q>>>3)+C(o,s,7&Q),s+=7&Q}const B=w[E(o,s)&u];s+=15&B;const D=B>>>4,O=v.c[D],M=(O>>>4)+p(o,s,15&O);for(s+=15&O;k<N;)r[k]=r[k++-M],r[k]=r[k++-M],r[k]=r[k++-M],r[k]=r[k++-M];k=N}}}}else{(7&s)!=0&&(s+=8-(7&s));const P=4+(s>>>3),$=o[P-4]|o[P-3]<<8;i&&(r=a.H.W(r,k+$)),r.set(new h(o.buffer,o.byteOffset+P,$),k),s=P+$<<3,k+=$}return r.length==k?r:r.slice(0,k)},a.H.W=function(o,r){const h=o.length;if(r<=h)return o;const m=new Uint8Array(h<<1);return m.set(o,0),m},a.H.R=function(o,r,h,m,w,S){const b=a.H.e,T=a.H.Z;let F=0;for(;F<h;){const A=o[T(m,w)&r];w+=15&A;const L=A>>>4;if(L<=15)S[F]=L,F++;else{let u=0,k=0;L==16?(k=3+b(m,w,2),w+=2,u=S[F-1]):L==17?(k=3+b(m,w,3),w+=3):L==18&&(k=11+b(m,w,7),w+=7);const s=F+k;for(;F<s;)S[F]=u,F++}}return w},a.H.V=function(o,r,h,m){let w=0,S=0;const b=m.length>>>1;for(;S<h;){const T=o[S+r];m[S<<1]=0,m[1+(S<<1)]=T,T>w&&(w=T),S++}for(;S<b;)m[S<<1]=0,m[1+(S<<1)]=0,S++;return w},a.H.n=function(o,r){const h=a.H.m,m=o.length;let w,S,b,T;const F=h.j;for(var A=0;A<=r;A++)F[A]=0;for(A=1;A<m;A+=2)F[o[A]]++;const L=h.K;for(w=0,F[0]=0,S=1;S<=r;S++)w=w+F[S-1]<<1,L[S]=w;for(b=0;b<m;b+=2)T=o[b+1],T!=0&&(o[b]=L[T],L[T]++)},a.H.A=function(o,r,h){const m=o.length,w=a.H.m.r;for(let S=0;S<m;S+=2)if(o[S+1]!=0){const b=S>>1,T=o[S+1],F=b<<4|T,A=r-T;let L=o[S]<<A;const u=L+(1<<A);for(;L!=u;)h[w[L]>>>15-r]=F,L++}},a.H.l=function(o,r){const h=a.H.m.r,m=15-r;for(let w=0;w<o.length;w+=2){const S=o[w]<<r-o[w+1];o[w]=h[S]>>>m}},a.H.M=function(o,r,h){h<<=7&r;const m=r>>>3;o[m]|=h,o[m+1]|=h>>>8},a.H.I=function(o,r,h){h<<=7&r;const m=r>>>3;o[m]|=h,o[m+1]|=h>>>8,o[m+2]|=h>>>16},a.H.e=function(o,r,h){return(o[r>>>3]|o[1+(r>>>3)]<<8)>>>(7&r)&(1<<h)-1},a.H.b=function(o,r,h){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)&(1<<h)-1},a.H.Z=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)},a.H.i=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16|o[3+(r>>>3)]<<24)>>>(7&r)},a.H.m=function(){const o=Uint16Array,r=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=a.H.m;for(var r=0;r<32768;r++){let m=r;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,o.r[r]=(m>>>16|m<<16)>>>17}function h(m,w,S){for(;w--!=0;)m.push(0,S)}for(r=0;r<32;r++)o.q[r]=o.S[r]<<3|o.T[r],o.c[r]=o.p[r]<<4|o.z[r];h(o._,144,8),h(o._,112,9),h(o._,24,7),h(o._,8,8),a.H.n(o._,9),a.H.A(o._,9,o.J),a.H.l(o._,9),h(o.$,32,5),a.H.n(o.$,5),a.H.A(o.$,5,o.h),a.H.l(o.$,5),h(o.Q,19,0),h(o.C,286,0),h(o.D,30,0),h(o.v,320,0)}(),a.H.N}();function t(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function d(a,o,r,h,m){let w=t(o);const S=Math.ceil(h*w/8);let b,T;w=Math.ceil(w/8);let F=a[r],A=0;if(F>1&&(a[r]=[0,0,1][F-2]),F==3)for(A=w;A<S;A++)a[A+1]=a[A+1]+(a[A+1-w]>>>1)&255;for(let L=0;L<m;L++)if(b=r+L*S,T=b+L+1,F=a[T-1],A=0,F==0)for(;A<S;A++)a[b+A]=a[T+A];else if(F==1){for(;A<w;A++)a[b+A]=a[T+A];for(;A<S;A++)a[b+A]=a[T+A]+a[b+A-w]}else if(F==2)for(;A<S;A++)a[b+A]=a[T+A]+a[b+A-S];else if(F==3){for(;A<w;A++)a[b+A]=a[T+A]+(a[b+A-S]>>>1);for(;A<S;A++)a[b+A]=a[T+A]+(a[b+A-S]+a[b+A-w]>>>1)}else{for(;A<w;A++)a[b+A]=a[T+A]+l(0,a[b+A-S],0);for(;A<S;A++)a[b+A]=a[T+A]+l(a[b+A-w],a[b+A-S],a[b+A-w-S])}return a}function l(a,o,r){const h=a+o-r,m=h-a,w=h-o,S=h-r;return m*m<=w*w&&m*m<=S*S?a:w*w<=S*S?o:r}function g(a,o,r){r.width=n.readUint(a,o),o+=4,r.height=n.readUint(a,o),o+=4,r.depth=a[o],o++,r.ctype=a[o],o++,r.compress=a[o],o++,r.filter=a[o],o++,r.interlace=a[o],o++}function x(a,o,r,h,m,w,S,b,T){const F=Math.min(o,m),A=Math.min(r,w);let L=0,u=0;for(let E=0;E<A;E++)for(let v=0;v<F;v++)if(S>=0&&b>=0?(L=E*o+v<<2,u=(b+E)*m+S+v<<2):(L=(-b+E)*o-S+v<<2,u=E*m+v<<2),T==0)h[u]=a[L],h[u+1]=a[L+1],h[u+2]=a[L+2],h[u+3]=a[L+3];else if(T==1){var k=a[L+3]*.00392156862745098,s=a[L]*k,c=a[L+1]*k,p=a[L+2]*k,C=h[u+3]*(1/255),I=h[u]*C,U=h[u+1]*C,y=h[u+2]*C;const i=1-k,R=k+C*i,P=R==0?0:1/R;h[u+3]=255*R,h[u+0]=(s+I*i)*P,h[u+1]=(c+U*i)*P,h[u+2]=(p+y*i)*P}else if(T==2)k=a[L+3],s=a[L],c=a[L+1],p=a[L+2],C=h[u+3],I=h[u],U=h[u+1],y=h[u+2],k==C&&s==I&&c==U&&p==y?(h[u]=0,h[u+1]=0,h[u+2]=0,h[u+3]=0):(h[u]=s,h[u+1]=c,h[u+2]=p,h[u+3]=k);else if(T==3){if(k=a[L+3],s=a[L],c=a[L+1],p=a[L+2],C=h[u+3],I=h[u],U=h[u+1],y=h[u+2],k==C&&s==I&&c==U&&p==y)continue;if(k<220&&C>20)return!1}return!0}return{decode:function(o){const r=new Uint8Array(o);let h=8;const m=n,w=m.readUshort,S=m.readUint,b={tabs:{},frames:[]},T=new Uint8Array(r.length);let F,A=0,L=0;const u=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(r[k]!=u[k])throw"The input is not a PNG file!";for(;h<r.length;){const E=m.readUint(r,h);h+=4;const v=m.readASCII(r,h,4);if(h+=4,v=="IHDR")g(r,h,b);else if(v=="iCCP"){for(var s=h;r[s]!=0;)s++;m.readASCII(r,h,s-h),r[s+1];const i=r.slice(s+2,h+E);let R=null;try{R=f(i)}catch{R=e(i)}b.tabs[v]=R}else if(v=="CgBI")b.tabs[v]=r.slice(h,h+4);else if(v=="IDAT"){for(k=0;k<E;k++)T[A+k]=r[h+k];A+=E}else if(v=="acTL")b.tabs[v]={num_frames:S(r,h),num_plays:S(r,h+4)},F=new Uint8Array(r.length);else if(v=="fcTL"){L!=0&&((y=b.frames[b.frames.length-1]).data=q(b,F.slice(0,L),y.rect.width,y.rect.height),L=0);const i={x:S(r,h+12),y:S(r,h+16),width:S(r,h+4),height:S(r,h+8)};let R=w(r,h+22);R=w(r,h+20)/(R==0?100:R);const P={rect:i,delay:Math.round(1e3*R),dispose:r[h+24],blend:r[h+25]};b.frames.push(P)}else if(v=="fdAT"){for(k=0;k<E-4;k++)F[L+k]=r[h+k+4];L+=E-4}else if(v=="pHYs")b.tabs[v]=[m.readUint(r,h),m.readUint(r,h+4),r[h+8]];else if(v=="cHRM")for(b.tabs[v]=[],k=0;k<8;k++)b.tabs[v].push(m.readUint(r,h+4*k));else if(v=="tEXt"||v=="zTXt"){b.tabs[v]==null&&(b.tabs[v]={});var c=m.nextZero(r,h),p=m.readASCII(r,h,c-h),C=h+E-c-1;if(v=="tEXt")U=m.readASCII(r,c+1,C);else{var I=f(r.slice(c+2,c+2+C));U=m.readUTF8(I,0,I.length)}b.tabs[v][p]=U}else if(v=="iTXt"){b.tabs[v]==null&&(b.tabs[v]={}),c=0,s=h,c=m.nextZero(r,s),p=m.readASCII(r,s,c-s);const i=r[s=c+1];var U;r[s+1],s+=2,c=m.nextZero(r,s),m.readASCII(r,s,c-s),s=c+1,c=m.nextZero(r,s),m.readUTF8(r,s,c-s),C=E-((s=c+1)-h),i==0?U=m.readUTF8(r,s,C):(I=f(r.slice(s,s+C)),U=m.readUTF8(I,0,I.length)),b.tabs[v][p]=U}else if(v=="PLTE")b.tabs[v]=m.readBytes(r,h,E);else if(v=="hIST"){const i=b.tabs.PLTE.length/3;for(b.tabs[v]=[],k=0;k<i;k++)b.tabs[v].push(w(r,h+2*k))}else if(v=="tRNS")b.ctype==3?b.tabs[v]=m.readBytes(r,h,E):b.ctype==0?b.tabs[v]=w(r,h):b.ctype==2&&(b.tabs[v]=[w(r,h),w(r,h+2),w(r,h+4)]);else if(v=="gAMA")b.tabs[v]=m.readUint(r,h)/1e5;else if(v=="sRGB")b.tabs[v]=r[h];else if(v=="bKGD")b.ctype==0||b.ctype==4?b.tabs[v]=[w(r,h)]:b.ctype==2||b.ctype==6?b.tabs[v]=[w(r,h),w(r,h+2),w(r,h+4)]:b.ctype==3&&(b.tabs[v]=r[h]);else if(v=="IEND")break;h+=E,m.readUint(r,h),h+=4}var y;return L!=0&&((y=b.frames[b.frames.length-1]).data=q(b,F.slice(0,L),y.rect.width,y.rect.height)),b.data=q(b,T,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(o){const r=o.width,h=o.height;if(o.tabs.acTL==null)return[_(o.data,r,h,o).buffer];const m=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const w=r*h*4,S=new Uint8Array(w),b=new Uint8Array(w),T=new Uint8Array(w);for(let A=0;A<o.frames.length;A++){const L=o.frames[A],u=L.rect.x,k=L.rect.y,s=L.rect.width,c=L.rect.height,p=_(L.data,s,c,o);if(A!=0)for(var F=0;F<w;F++)T[F]=S[F];if(L.blend==0?x(p,s,c,S,r,h,u,k,0):L.blend==1&&x(p,s,c,S,r,h,u,k,1),m.push(S.buffer.slice(0)),L.dispose!=0){if(L.dispose==1)x(b,s,c,S,r,h,u,k,0);else if(L.dispose==2)for(F=0;F<w;F++)S[F]=T[F]}}return m},_paeth:l,_copyTile:x,_bin:n}}();(function(){const{_copyTile:n}=we,{_bin:_}=we,q=we._paeth;var f={table:function(){const s=new Uint32Array(256);for(let c=0;c<256;c++){let p=c;for(let C=0;C<8;C++)1&p?p=3988292384^p>>>1:p>>>=1;s[c]=p}return s}(),update(s,c,p,C){for(let I=0;I<C;I++)s=f.table[255&(s^c[p+I])]^s>>>8;return s},crc:(s,c,p)=>4294967295^f.update(4294967295,s,c,p)};function e(s,c,p,C){c[p]+=s[0]*C>>4,c[p+1]+=s[1]*C>>4,c[p+2]+=s[2]*C>>4,c[p+3]+=s[3]*C>>4}function t(s){return Math.max(0,Math.min(255,s))}function d(s,c){const p=s[0]-c[0],C=s[1]-c[1],I=s[2]-c[2],U=s[3]-c[3];return p*p+C*C+I*I+U*U}function l(s,c,p,C,I,U,y){y==null&&(y=1);const E=C.length,v=[];for(var i=0;i<E;i++){const M=C[i];v.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(i=0;i<E;i++){let M=4294967295;for(var R=0,P=0;P<E;P++){var $=d(v[i],v[P]);P!=i&&$<M&&(M=$,R=P)}}const N=new Uint32Array(I.buffer),B=new Int16Array(c*p*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(i=0;i<D.length;i++)D[i]=255*((D[i]+.5)/16-.5);for(let M=0;M<p;M++)for(let Q=0;Q<c;Q++){var O;i=4*(M*c+Q),y!=2?O=[t(s[i]+B[i]),t(s[i+1]+B[i+1]),t(s[i+2]+B[i+2]),t(s[i+3]+B[i+3])]:($=D[4*(3&M)+(3&Q)],O=[t(s[i]+$),t(s[i+1]+$),t(s[i+2]+$),t(s[i+3]+$)]),R=0;let X=16777215;for(P=0;P<E;P++){const G=d(O,v[P]);G<X&&(X=G,R=P)}const K=v[R],W=[O[0]-K[0],O[1]-K[1],O[2]-K[2],O[3]-K[3]];y==1&&(Q!=c-1&&e(W,B,i+4,7),M!=p-1&&(Q!=0&&e(W,B,i+4*c-4,3),e(W,B,i+4*c,5),Q!=c-1&&e(W,B,i+4*c+4,1))),U[i>>2]=R,N[i>>2]=C[R]}}function g(s,c,p,C,I){I==null&&(I={});const{crc:U}=f,y=_.writeUint,E=_.writeUshort,v=_.writeASCII;let i=8;const R=s.frames.length>1;let P,$=!1,N=33+(R?20:0);if(I.sRGB!=null&&(N+=13),I.pHYs!=null&&(N+=21),I.iCCP!=null&&(P=pako.deflate(I.iCCP),N+=21+P.length+4),s.ctype==3){for(var B=s.plte.length,D=0;D<B;D++)s.plte[D]>>>24!=255&&($=!0);N+=8+3*B+4+($?8+1*B+4:0)}for(var O=0;O<s.frames.length;O++)R&&(N+=38),N+=(K=s.frames[O]).cimg.length+12,O!=0&&(N+=4);N+=12;const M=new Uint8Array(N),Q=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)M[D]=Q[D];if(y(M,i,13),i+=4,v(M,i,"IHDR"),i+=4,y(M,i,c),i+=4,y(M,i,p),i+=4,M[i]=s.depth,i++,M[i]=s.ctype,i++,M[i]=0,i++,M[i]=0,i++,M[i]=0,i++,y(M,i,U(M,i-17,17)),i+=4,I.sRGB!=null&&(y(M,i,1),i+=4,v(M,i,"sRGB"),i+=4,M[i]=I.sRGB,i++,y(M,i,U(M,i-5,5)),i+=4),I.iCCP!=null){const W=13+P.length;y(M,i,W),i+=4,v(M,i,"iCCP"),i+=4,v(M,i,"ICC profile"),i+=11,i+=2,M.set(P,i),i+=P.length,y(M,i,U(M,i-(W+4),W+4)),i+=4}if(I.pHYs!=null&&(y(M,i,9),i+=4,v(M,i,"pHYs"),i+=4,y(M,i,I.pHYs[0]),i+=4,y(M,i,I.pHYs[1]),i+=4,M[i]=I.pHYs[2],i++,y(M,i,U(M,i-13,13)),i+=4),R&&(y(M,i,8),i+=4,v(M,i,"acTL"),i+=4,y(M,i,s.frames.length),i+=4,y(M,i,I.loop!=null?I.loop:0),i+=4,y(M,i,U(M,i-12,12)),i+=4),s.ctype==3){for(y(M,i,3*(B=s.plte.length)),i+=4,v(M,i,"PLTE"),i+=4,D=0;D<B;D++){const W=3*D,G=s.plte[D],te=255&G,ie=G>>>8&255,Le=G>>>16&255;M[i+W+0]=te,M[i+W+1]=ie,M[i+W+2]=Le}if(i+=3*B,y(M,i,U(M,i-3*B-4,3*B+4)),i+=4,$){for(y(M,i,B),i+=4,v(M,i,"tRNS"),i+=4,D=0;D<B;D++)M[i+D]=s.plte[D]>>>24&255;i+=B,y(M,i,U(M,i-B-4,B+4)),i+=4}}let X=0;for(O=0;O<s.frames.length;O++){var K=s.frames[O];R&&(y(M,i,26),i+=4,v(M,i,"fcTL"),i+=4,y(M,i,X++),i+=4,y(M,i,K.rect.width),i+=4,y(M,i,K.rect.height),i+=4,y(M,i,K.rect.x),i+=4,y(M,i,K.rect.y),i+=4,E(M,i,C[O]),i+=2,E(M,i,1e3),i+=2,M[i]=K.dispose,i++,M[i]=K.blend,i++,y(M,i,U(M,i-30,30)),i+=4);const W=K.cimg;y(M,i,(B=W.length)+(O==0?0:4)),i+=4;const G=i;v(M,i,O==0?"IDAT":"fdAT"),i+=4,O!=0&&(y(M,i,X++),i+=4),M.set(W,i),i+=B,y(M,i,U(M,G,i-G)),i+=4}return y(M,i,0),i+=4,v(M,i,"IEND"),i+=4,y(M,i,U(M,i-4,4)),i+=4,M.buffer}function x(s,c,p){for(let C=0;C<s.frames.length;C++){const I=s.frames[C];I.rect.width;const U=I.rect.height,y=new Uint8Array(U*I.bpl+U);I.cimg=h(I.img,U,I.bpp,I.bpl,y,c,p)}}function a(s,c,p,C,I){const U=I[0],y=I[1],E=I[2],v=I[3],i=I[4],R=I[5];let P=6,$=8,N=255;for(var B=0;B<s.length;B++){const se=new Uint8Array(s[B]);for(var D=se.length,O=0;O<D;O+=4)N&=se[O+3]}const M=N!=255,Q=function(J,Y,le,de,ne,me){const re=[];for(var Z=0;Z<J.length;Z++){const he=new Uint8Array(J[Z]),pe=new Uint32Array(he.buffer);var be;let ye=0,Ue=0,_e=Y,Me=le,mt=de?1:0;if(Z!=0){const an=me||de||Z==1||re[Z-2].dispose!=0?1:2;let bt=0,_t=1e9;for(let Ye=0;Ye<an;Ye++){var Ee=new Uint8Array(J[Z-1-Ye]);const on=new Uint32Array(J[Z-1-Ye]);let qe=Y,Pe=le,ze=-1,Ze=-1;for(let $e=0;$e<le;$e++)for(let Oe=0;Oe<Y;Oe++)pe[ue=$e*Y+Oe]!=on[ue]&&(Oe<qe&&(qe=Oe),Oe>ze&&(ze=Oe),$e<Pe&&(Pe=$e),$e>Ze&&(Ze=$e));ze==-1&&(qe=Pe=ze=Ze=0),ne&&((1&qe)==1&&qe--,(1&Pe)==1&&Pe--);const St=(ze-qe+1)*(Ze-Pe+1);St<_t&&(_t=St,bt=Ye,ye=qe,Ue=Pe,_e=ze-qe+1,Me=Ze-Pe+1)}Ee=new Uint8Array(J[Z-1-bt]),bt==1&&(re[Z-1].dispose=2),be=new Uint8Array(_e*Me*4),n(Ee,Y,le,be,_e,Me,-ye,-Ue,0),mt=n(he,Y,le,be,_e,Me,-ye,-Ue,3)?1:0,mt==1?r(he,Y,le,be,{x:ye,y:Ue,width:_e,height:Me}):n(he,Y,le,be,_e,Me,-ye,-Ue,0)}else be=he.slice(0);re.push({rect:{x:ye,y:Ue,width:_e,height:Me},img:be,blend:mt,dispose:0})}if(de)for(Z=0;Z<re.length;Z++){if((Re=re[Z]).blend==1)continue;const he=Re.rect,pe=re[Z-1].rect,ye=Math.min(he.x,pe.x),Ue=Math.min(he.y,pe.y),_e={x:ye,y:Ue,width:Math.max(he.x+he.width,pe.x+pe.width)-ye,height:Math.max(he.y+he.height,pe.y+pe.height)-Ue};re[Z-1].dispose=1,Z-1!=0&&o(J,Y,le,re,Z-1,_e,ne),o(J,Y,le,re,Z,_e,ne)}let nt=0;if(J.length!=1)for(var ue=0;ue<re.length;ue++){var Re;nt+=(Re=re[ue]).rect.width*Re.rect.height}return re}(s,c,p,U,y,E),X={},K=[],W=[];if(C!=0){const se=[];for(O=0;O<Q.length;O++)se.push(Q[O].img.buffer);const J=function(ne){let me=0;for(var re=0;re<ne.length;re++)me+=ne[re].byteLength;const Z=new Uint8Array(me);let be=0;for(re=0;re<ne.length;re++){const Ee=new Uint8Array(ne[re]),nt=Ee.length;for(let ue=0;ue<nt;ue+=4){let Re=Ee[ue],he=Ee[ue+1],pe=Ee[ue+2];const ye=Ee[ue+3];ye==0&&(Re=he=pe=0),Z[be+ue]=Re,Z[be+ue+1]=he,Z[be+ue+2]=pe,Z[be+ue+3]=ye}be+=nt}return Z.buffer}(se),Y=w(J,C);for(O=0;O<Y.plte.length;O++)K.push(Y.plte[O].est.rgba);let le=0;for(O=0;O<Q.length;O++){const de=(te=Q[O]).img.length;var G=new Uint8Array(Y.inds.buffer,le>>2,de>>2);W.push(G);const ne=new Uint8Array(Y.abuf,le,de);R&&l(te.img,te.rect.width,te.rect.height,K,ne,G),te.img.set(ne),le+=de}}else for(B=0;B<Q.length;B++){var te=Q[B];const se=new Uint32Array(te.img.buffer);var ie=te.rect.width;for(D=se.length,G=new Uint8Array(D),W.push(G),O=0;O<D;O++){const J=se[O];if(O!=0&&J==se[O-1])G[O]=G[O-1];else if(O>ie&&J==se[O-ie])G[O]=G[O-ie];else{let Y=X[J];if(Y==null&&(X[J]=Y=K.length,K.push(J),K.length>=300))break;G[O]=Y}}}const Le=K.length;for(Le<=256&&i==0&&($=Le<=2?1:Le<=4?2:Le<=16?4:8,$=Math.max($,v)),B=0;B<Q.length;B++){(te=Q[B]).rect.x,te.rect.y,ie=te.rect.width;const se=te.rect.height;let J=te.img;new Uint32Array(J.buffer);let Y=4*ie,le=4;if(Le<=256&&i==0){Y=Math.ceil($*ie/8);var xe=new Uint8Array(Y*se);const de=W[B];for(let ne=0;ne<se;ne++){O=ne*Y;const me=ne*ie;if($==8)for(var ee=0;ee<ie;ee++)xe[O+ee]=de[me+ee];else if($==4)for(ee=0;ee<ie;ee++)xe[O+(ee>>1)]|=de[me+ee]<<4-4*(1&ee);else if($==2)for(ee=0;ee<ie;ee++)xe[O+(ee>>2)]|=de[me+ee]<<6-2*(3&ee);else if($==1)for(ee=0;ee<ie;ee++)xe[O+(ee>>3)]|=de[me+ee]<<7-1*(7&ee)}J=xe,P=3,le=1}else if(M==0&&Q.length==1){xe=new Uint8Array(ie*se*3);const de=ie*se;for(O=0;O<de;O++){const ne=3*O,me=4*O;xe[ne]=J[me],xe[ne+1]=J[me+1],xe[ne+2]=J[me+2]}J=xe,P=2,le=3,Y=3*ie}te.img=J,te.bpl=Y,te.bpp=le}return{ctype:P,depth:$,plte:K,frames:Q}}function o(s,c,p,C,I,U,y){const E=Uint8Array,v=Uint32Array,i=new E(s[I-1]),R=new v(s[I-1]),P=I+1<s.length?new E(s[I+1]):null,$=new E(s[I]),N=new v($.buffer);let B=c,D=p,O=-1,M=-1;for(let X=0;X<U.height;X++)for(let K=0;K<U.width;K++){const W=U.x+K,G=U.y+X,te=G*c+W,ie=N[te];ie==0||C[I-1].dispose==0&&R[te]==ie&&(P==null||P[4*te+3]!=0)||(W<B&&(B=W),W>O&&(O=W),G<D&&(D=G),G>M&&(M=G))}O==-1&&(B=D=O=M=0),y&&((1&B)==1&&B--,(1&D)==1&&D--),U={x:B,y:D,width:O-B+1,height:M-D+1};const Q=C[I];Q.rect=U,Q.blend=1,Q.img=new Uint8Array(U.width*U.height*4),C[I-1].dispose==0?(n(i,c,p,Q.img,U.width,U.height,-U.x,-U.y,0),r($,c,p,Q.img,U)):n($,c,p,Q.img,U.width,U.height,-U.x,-U.y,0)}function r(s,c,p,C,I){n(s,c,p,C,I.width,I.height,-I.x,-I.y,2)}function h(s,c,p,C,I,U,y){const E=[];let v,i=[0,1,2,3,4];U!=-1?i=[U]:(c*C>5e5||p==1)&&(i=[0]),y&&(v={level:0});const R=Or;for(var P=0;P<i.length;P++){for(let B=0;B<c;B++)m(I,s,B,C,p,i[P]);E.push(R.deflate(I,v))}let $,N=1e9;for(P=0;P<E.length;P++)E[P].length<N&&($=P,N=E[P].length);return E[$]}function m(s,c,p,C,I,U){const y=p*C;let E=y+p;if(s[E]=U,E++,U==0)if(C<500)for(var v=0;v<C;v++)s[E+v]=c[y+v];else s.set(new Uint8Array(c.buffer,y,C),E);else if(U==1){for(v=0;v<I;v++)s[E+v]=c[y+v];for(v=I;v<C;v++)s[E+v]=c[y+v]-c[y+v-I]+256&255}else if(p==0){for(v=0;v<I;v++)s[E+v]=c[y+v];if(U==2)for(v=I;v<C;v++)s[E+v]=c[y+v];if(U==3)for(v=I;v<C;v++)s[E+v]=c[y+v]-(c[y+v-I]>>1)+256&255;if(U==4)for(v=I;v<C;v++)s[E+v]=c[y+v]-q(c[y+v-I],0,0)+256&255}else{if(U==2)for(v=0;v<C;v++)s[E+v]=c[y+v]+256-c[y+v-C]&255;if(U==3){for(v=0;v<I;v++)s[E+v]=c[y+v]+256-(c[y+v-C]>>1)&255;for(v=I;v<C;v++)s[E+v]=c[y+v]+256-(c[y+v-C]+c[y+v-I]>>1)&255}if(U==4){for(v=0;v<I;v++)s[E+v]=c[y+v]+256-q(0,c[y+v-C],0)&255;for(v=I;v<C;v++)s[E+v]=c[y+v]+256-q(c[y+v-I],c[y+v-C],c[y+v-I-C])&255}}}function w(s,c){const p=new Uint8Array(s),C=p.slice(0),I=new Uint32Array(C.buffer),U=S(C,c),y=U[0],E=U[1],v=p.length,i=new Uint8Array(v>>2);let R;if(p.length<2e7)for(var P=0;P<v;P+=4)R=b(y,$=p[P]*(1/255),N=p[P+1]*(1/255),B=p[P+2]*(1/255),D=p[P+3]*(1/255)),i[P>>2]=R.ind,I[P>>2]=R.est.rgba;else for(P=0;P<v;P+=4){var $=p[P]*.00392156862745098,N=p[P+1]*(1/255),B=p[P+2]*(1/255),D=p[P+3]*(1/255);for(R=y;R.left;)R=T(R.est,$,N,B,D)<=0?R.left:R.right;i[P>>2]=R.ind,I[P>>2]=R.est.rgba}return{abuf:C.buffer,inds:i,plte:E}}function S(s,c,p){p==null&&(p=1e-4);const C=new Uint32Array(s.buffer),I={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=L(s,I.i0,I.i1),I.est=u(I.bst);const U=[I];for(;U.length<c;){let E=0,v=0;for(var y=0;y<U.length;y++)U[y].est.L>E&&(E=U[y].est.L,v=y);if(E<p)break;const i=U[v],R=F(s,C,i.i0,i.i1,i.est.e,i.est.eMq255);if(i.i0>=R||i.i1<=R){i.est.L=0;continue}const P={i0:i.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};P.bst=L(s,P.i0,P.i1),P.est=u(P.bst);const $={i0:R,i1:i.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:i.bst.N-P.bst.N},y=0;y<16;y++)$.bst.R[y]=i.bst.R[y]-P.bst.R[y];for(y=0;y<4;y++)$.bst.m[y]=i.bst.m[y]-P.bst.m[y];$.est=u($.bst),i.left=P,i.right=$,U[v]=P,U.push($)}for(U.sort((E,v)=>v.bst.N-E.bst.N),y=0;y<U.length;y++)U[y].ind=y;return[I,U]}function b(s,c,p,C,I){if(s.left==null)return s.tdst=function(P,$,N,B,D){const O=$-P[0],M=N-P[1],Q=B-P[2],X=D-P[3];return O*O+M*M+Q*Q+X*X}(s.est.q,c,p,C,I),s;const U=T(s.est,c,p,C,I);let y=s.left,E=s.right;U>0&&(y=s.right,E=s.left);const v=b(y,c,p,C,I);if(v.tdst<=U*U)return v;const i=b(E,c,p,C,I);return i.tdst<v.tdst?i:v}function T(s,c,p,C,I){const{e:U}=s;return U[0]*c+U[1]*p+U[2]*C+U[3]*I-s.eMq}function F(s,c,p,C,I,U){for(C-=4;p<C;){for(;A(s,p,I)<=U;)p+=4;for(;A(s,C,I)>U;)C-=4;if(p>=C)break;const y=c[p>>2];c[p>>2]=c[C>>2],c[C>>2]=y,p+=4,C-=4}for(;A(s,p,I)>U;)p-=4;return p+4}function A(s,c,p){return s[c]*p[0]+s[c+1]*p[1]+s[c+2]*p[2]+s[c+3]*p[3]}function L(s,c,p){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],U=p-c>>2;for(let y=c;y<p;y+=4){const E=s[y]*.00392156862745098,v=s[y+1]*(1/255),i=s[y+2]*(1/255),R=s[y+3]*(1/255);I[0]+=E,I[1]+=v,I[2]+=i,I[3]+=R,C[0]+=E*E,C[1]+=E*v,C[2]+=E*i,C[3]+=E*R,C[5]+=v*v,C[6]+=v*i,C[7]+=v*R,C[10]+=i*i,C[11]+=i*R,C[15]+=R*R}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:I,N:U}}function u(s){const{R:c}=s,{m:p}=s,{N:C}=s,I=p[0],U=p[1],y=p[2],E=p[3],v=C==0?0:1/C,i=[c[0]-I*I*v,c[1]-I*U*v,c[2]-I*y*v,c[3]-I*E*v,c[4]-U*I*v,c[5]-U*U*v,c[6]-U*y*v,c[7]-U*E*v,c[8]-y*I*v,c[9]-y*U*v,c[10]-y*y*v,c[11]-y*E*v,c[12]-E*I*v,c[13]-E*U*v,c[14]-E*y*v,c[15]-E*E*v],R=i,P=k;let $=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,B=0;if(C!=0)for(let O=0;O<16&&($=P.multVec(R,$),B=Math.sqrt(P.dot($,$)),$=P.sml(1/B,$),!(O!=0&&Math.abs(B-N)<1e-9));O++)N=B;const D=[I*v,U*v,y*v,E*v];return{Cov:i,q:D,e:$,L:N,eMq255:P.dot(P.sml(255,D),$),eMq:P.dot($,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var k={multVec:(s,c)=>[s[0]*c[0]+s[1]*c[1]+s[2]*c[2]+s[3]*c[3],s[4]*c[0]+s[5]*c[1]+s[6]*c[2]+s[7]*c[3],s[8]*c[0]+s[9]*c[1]+s[10]*c[2]+s[11]*c[3],s[12]*c[0]+s[13]*c[1]+s[14]*c[2]+s[15]*c[3]],dot:(s,c)=>s[0]*c[0]+s[1]*c[1]+s[2]*c[2]+s[3]*c[3],sml:(s,c)=>[s*c[0],s*c[1],s*c[2],s*c[3]]};we.encode=function(c,p,C,I,U,y,E){I==null&&(I=0),E==null&&(E=!1);const v=a(c,p,C,I,[!1,!1,!1,0,E,!1]);return x(v,-1),g(v,p,C,U,y)},we.encodeLL=function(c,p,C,I,U,y,E,v){const i={ctype:0+(I==1?0:2)+(U==0?0:4),depth:y,frames:[]},R=(I+U)*y,P=R*p;for(let $=0;$<c.length;$++)i.frames.push({rect:{x:0,y:0,width:p,height:C},img:new Uint8Array(c[$]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(P/8)});return x(i,0,!0),g(i,p,C,E,v)},we.encode.compress=a,we.encode.dither=l,we.quantize=w,we.quantize.getKDtree=S,we.quantize.getNearest=b})();const Kt={toArrayBuffer(n,_){const q=n.width,f=n.height,e=q<<2,t=n.getContext("2d").getImageData(0,0,q,f),d=new Uint32Array(t.data.buffer),l=(32*q+31)/32<<2,g=l*f,x=122+g,a=new ArrayBuffer(x),o=new DataView(a),r=1<<20;let h,m,w,S,b=r,T=0,F=0,A=0;function L(s){o.setUint16(F,s,!0),F+=2}function u(s){o.setUint32(F,s,!0),F+=4}function k(s){F+=s}L(19778),u(x),k(4),u(122),u(108),u(q),u(-f>>>0),L(1),L(32),u(3),u(g),u(2835),u(2835),k(8),u(16711680),u(65280),u(255),u(4278190080),u(1466527264),function s(){for(;T<f&&b>0;){for(S=122+T*l,h=0;h<e;)b--,m=d[A++],w=m>>>24,o.setUint32(S+h,m<<8|w),h+=4;T++}A<d.length?(b=r,setTimeout(s,Kt._dly)):_(a)}()},toBlob(n,_){this.toArrayBuffer(n,q=>{_(new Blob([q],{type:"image/bmp"}))})},_dly:9};var ge={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Br={[ge.CHROME]:16384,[ge.FIREFOX]:11180,[ge.DESKTOP_SAFARI]:16384,[ge.IE]:8192,[ge.IOS]:4096,[ge.ETC]:8192};const At=typeof window<"u",Gt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ut=At&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Vr=(At||Gt)&&(ut&&ut.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Yt=(At||Gt)&&(ut&&ut.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function xt(n,_,q=Date.now()){return new Promise(f=>{const e=n.split(","),t=e[0].match(/:(.*?);/)[1],d=globalThis.atob(e[1]);let l=d.length;const g=new Uint8Array(l);for(;l--;)g[l]=d.charCodeAt(l);const x=new Blob([g],{type:t});x.name=_,x.lastModified=q,f(x)})}function Zt(n){return new Promise((_,q)=>{const f=new Yt;f.onload=()=>_(f.result),f.onerror=e=>q(e),f.readAsDataURL(n)})}function Xt(n){return new Promise((_,q)=>{const f=new Image;f.onload=()=>_(f),f.onerror=e=>q(e),f.src=n})}function De(){if(De.cachedResult!==void 0)return De.cachedResult;let n=ge.ETC;const{userAgent:_}=navigator;return/Chrom(e|ium)/i.test(_)?n=ge.CHROME:/iP(ad|od|hone)/i.test(_)&&/WebKit/i.test(_)?n=ge.IOS:/Safari/i.test(_)?n=ge.DESKTOP_SAFARI:/Firefox/i.test(_)?n=ge.FIREFOX:(/MSIE/i.test(_)||document.documentMode)&&(n=ge.IE),De.cachedResult=n,De.cachedResult}function Jt(n,_){const q=De(),f=Br[q];let e=n,t=_,d=e*t;const l=e>t?t/e:e/t;for(;d>f*f;){const g=(f+e)/2,x=(f+t)/2;g<x?(t=x,e=x*l):(t=g*l,e=g),d=e*t}return{width:e,height:t}}function gt(n,_){let q,f;try{if(q=new OffscreenCanvas(n,_),f=q.getContext("2d"),f===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{q=document.createElement("canvas"),f=q.getContext("2d")}return q.width=n,q.height=_,[q,f]}function en(n,_){const{width:q,height:f}=Jt(n.width,n.height),[e,t]=gt(q,f);return _&&/jpe?g/.test(_)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(n,0,0,e.width,e.height),e}function lt(){return lt.cachedResult!==void 0||(lt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),lt.cachedResult}function ct(n,_={}){return new Promise(function(q,f){let e,t;var d=function(){try{return t=en(e,_.fileType||n.type),q([e,t])}catch(g){return f(g)}},l=function(g){try{var x=function(a){try{throw a}catch(o){return f(o)}};try{let a;return Zt(n).then(function(o){try{return a=o,Xt(a).then(function(r){try{return e=r,function(){try{return d()}catch(h){return f(h)}}()}catch(h){return x(h)}},x)}catch(r){return x(r)}},x)}catch(a){x(a)}}catch(a){return f(a)}};try{if(lt()||[ge.DESKTOP_SAFARI,ge.MOBILE_SAFARI].includes(De()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(g){try{return e=g,d()}catch{return l()}},l)}catch{l()}})}function ft(n,_,q,f,e=1){return new Promise(function(t,d){let l;if(_==="image/png"){let x,a,o;return x=n.getContext("2d"),{data:a}=x.getImageData(0,0,n.width,n.height),o=we.encode([a.buffer],n.width,n.height,4096*e),l=new Blob([o],{type:_}),l.name=q,l.lastModified=f,g.call(this)}{let x=function(){return g.call(this)};if(_==="image/bmp")return new Promise(a=>Kt.toBlob(n,a)).then((function(a){try{return l=a,l.name=q,l.lastModified=f,x.call(this)}catch(o){return d(o)}}).bind(this),d);{let a=function(){return x.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:_,quality:e}).then((function(o){try{return l=o,l.name=q,l.lastModified=f,a.call(this)}catch(r){return d(r)}}).bind(this),d);{let o;return o=n.toDataURL(_,e),xt(o,q,f).then((function(r){try{return l=r,a.call(this)}catch(h){return d(h)}}).bind(this),d)}}}function g(){return t(l)}})}function Ie(n){n.width=0,n.height=0}function Ke(){return new Promise(function(n,_){let q,f,e,t;return Ke.cachedResult!==void 0?n(Ke.cachedResult):xt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(d){try{return q=d,ct(q).then(function(l){try{return f=l[1],ft(f,q.type,q.name,q.lastModified).then(function(g){try{return e=g,Ie(f),ct(e).then(function(x){try{return t=x[0],Ke.cachedResult=t.width===1&&t.height===2,n(Ke.cachedResult)}catch(a){return _(a)}},_)}catch(x){return _(x)}},_)}catch(g){return _(g)}},_)}catch(l){return _(l)}},_)})}function tn(n){return new Promise((_,q)=>{const f=new Yt;f.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return _(-2);const d=t.byteLength;let l=2;for(;l<d;){if(t.getUint16(l+2,!1)<=8)return _(-1);const g=t.getUint16(l,!1);if(l+=2,g==65505){if(t.getUint32(l+=2,!1)!=1165519206)return _(-1);const x=t.getUint16(l+=6,!1)==18761;l+=t.getUint32(l+4,x);const a=t.getUint16(l,x);l+=2;for(let o=0;o<a;o++)if(t.getUint16(l+12*o,x)==274)return _(t.getUint16(l+12*o+8,x))}else{if((65280&g)!=65280)break;l+=t.getUint16(l,!1)}}return _(-1)},f.onerror=e=>q(e),f.readAsArrayBuffer(n)})}function nn(n,_){const{width:q}=n,{height:f}=n,{maxWidthOrHeight:e}=_;let t,d=n;return isFinite(e)&&(q>e||f>e)&&([d,t]=gt(q,f),q>f?(d.width=e,d.height=f/q*e):(d.width=q/f*e,d.height=e),t.drawImage(n,0,0,d.width,d.height),Ie(n)),d}function rn(n,_){const{width:q}=n,{height:f}=n,[e,t]=gt(q,f);switch(_>4&&_<9?(e.width=f,e.height=q):(e.width=q,e.height=f),_){case 2:t.transform(-1,0,0,1,q,0);break;case 3:t.transform(-1,0,0,-1,q,f);break;case 4:t.transform(1,0,0,-1,0,f);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,f,0);break;case 7:t.transform(0,-1,-1,0,f,q);break;case 8:t.transform(0,-1,1,0,0,q)}return t.drawImage(n,0,0,q,f),Ie(n),e}function Rt(n,_,q=0){return new Promise(function(f,e){let t,d,l,g,x,a,o,r,h,m,w,S,b,T,F,A,L,u,k,s;function c(C=5){if(_.signal&&_.signal.aborted)throw _.signal.reason;t+=C,_.onProgress(Math.min(t,100))}function p(C){if(_.signal&&_.signal.aborted)throw _.signal.reason;t=Math.min(Math.max(C,t),100),_.onProgress(t)}return t=q,d=_.maxIteration||10,l=1024*_.maxSizeMB*1024,c(),ct(n,_).then((function(C){try{return[,g]=C,c(),x=nn(g,_),c(),new Promise(function(I,U){var y;if(!(y=_.exifOrientation))return tn(n).then((function(v){try{return y=v,E.call(this)}catch(i){return U(i)}}).bind(this),U);function E(){return I(y)}return E.call(this)}).then((function(I){try{return a=I,c(),Ke().then((function(U){try{return o=U?x:rn(x,a),c(),r=_.initialQuality||1,h=_.fileType||n.type,ft(o,h,n.name,n.lastModified,r).then((function(y){try{{let v=function(){if(d--&&(F>l||F>b)){let R,P;return R=s?.95*k.width:k.width,P=s?.95*k.height:k.height,[L,u]=gt(R,P),u.drawImage(k,0,0,R,P),r*=h==="image/png"?.85:.95,ft(L,h,n.name,n.lastModified,r).then(function($){try{return A=$,Ie(k),k=L,F=A.size,p(Math.min(99,Math.floor((T-F)/(T-l)*100))),v}catch(N){return e(N)}},e)}return[1]},i=function(){return Ie(k),Ie(L),Ie(x),Ie(o),Ie(g),p(100),f(A)};if(m=y,c(),w=m.size>l,S=m.size>n.size,!w&&!S)return p(100),f(m);var E;return b=n.size,T=m.size,F=T,k=o,s=!_.alwaysKeepResolution&&w,(E=(function(R){for(;R;){if(R.then)return void R.then(E,e);try{if(R.pop){if(R.length)return R.pop()?i.call(this):R;R=v}else R=R.call(this)}catch(P){return e(P)}}}).bind(this))(v)}}catch(v){return e(v)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)}catch(U){return e(U)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)})}const Dr=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let wt;function Nr(n,_){return new Promise((q,f)=>{wt||(wt=function(d){const l=[];return l.push(d),URL.createObjectURL(new Blob(l))}(Dr));const e=new Worker(wt);e.addEventListener("message",function(d){if(_.signal&&_.signal.aborted)e.terminate();else if(d.data.progress===void 0){if(d.data.error)return f(new Error(d.data.error)),void e.terminate();q(d.data.file),e.terminate()}else _.onProgress(d.data.progress)}),e.addEventListener("error",f),_.signal&&_.signal.addEventListener("abort",()=>{f(_.signal.reason),e.terminate()}),e.postMessage({file:n,imageCompressionLibUrl:_.libURL,options:{..._,onProgress:void 0,signal:void 0}})})}function ce(n,_){return new Promise(function(q,f){let e,t,d,l,g,x;if(e={..._},d=0,{onProgress:l}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=h=>{d=h,typeof l=="function"&&l(d)},!(n instanceof Blob||n instanceof Vr))return f(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return f(new Error("The file given is not an image"));if(x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||x)return Rt(n,e).then((function(h){try{return t=h,r.call(this)}catch(m){return f(m)}}).bind(this),f);var a=(function(){try{return r.call(this)}catch(h){return f(h)}}).bind(this),o=function(h){try{return Rt(n,e).then(function(m){try{return t=m,a()}catch(w){return f(w)}},f)}catch(m){return f(m)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Nr(n,e).then(function(h){try{return t=h,a()}catch{return o()}},o)}catch{o()}function r(){try{t.name=n.name,t.lastModified=n.lastModified}catch{}try{e.preserveExif&&n.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===n.type)&&(t=Wt(n,t))}catch{}return q(t)}})}ce.getDataUrlFromFile=Zt,ce.getFilefromDataUrl=xt,ce.loadImage=Xt,ce.drawImageInCanvas=en,ce.drawFileInCanvas=ct,ce.canvasToFile=ft,ce.getExifOrientation=tn,ce.handleMaxWidthOrHeight=nn,ce.followExifOrientation=rn,ce.cleanupCanvasMemory=Ie,ce.isAutoOrientationInBrowser=Ke,ce.approximateBelowMaximumCanvasSizeOfBrowser=Jt,ce.copyExifWithoutOrientation=Wt,ce.getBrowserName=De,ce.version="2.0.2";const zr={class:"row items-center justify-between note__name"},Hr={class:"text-h6 ellipsis store-name"},Qr={class:"note__address-info"},jr={class:"address-info"},Wr={class:"text-subtitle2 ellipsis address-info__address"},Kr={class:"address-info__distance"},Gr={class:"rating"},Yr={class:"rating"},Zr={key:0},Xr={__name:"Note",props:{isCreate:{type:Boolean,default:!1},noteInput:{type:Object,required:!0}},emits:["delete:note","update:isNoteOpen","create:note","update:note"],setup(n,{emit:_}){const q=Vn(),f=Dn(),e=n,t=oe({...e.noteInput}),d=V(()=>t.value.user!==q.user.ID),l=V(()=>{const L=f.targetUserList.find(u=>u.user===t.value.user);return L?L.name:"載入中"}),g=oe([]),x=oe(!1),a=V(()=>g.value.length>0),o=oe(!1),r=oe(e.isCreate),h=oe(!1),m=oe(!1),w=V(()=>{let L=Ft(q.userLocation.lat,q.userLocation.lng,e.noteInput.location.lat,e.noteInput.location.lng);return L>1e3?(L=Ft(q.userLocation.lat,q.userLocation.lng,e.noteInput.location.lat,e.noteInput.location.lng,"kilometers"),`${L} 公里`):`${L} 公尺`}),S=_;function b(){return r.value=!1,S("update:note",t.value)}async function T(){o.value=!0;const L=[],u={maxWidthOrHeight:1920,useWebWorker:!0},k=await Promise.all(g.value.map(s=>ce(s,u)));for(const s of k){const c=await Lr.POST(s);L.push(`https://yhbtdswgzercvhikcfkp.supabase.co/storage/v1/object/public/${c.data.fullPath}`)}return t.value.photos=[...t.value.photos,...L].slice(0,3),o.value=!1,x.value=!1,S("update:note",t.value)}function F(L){return t.value.photos=L,S("update:note",t.value)}function A(){console.log(t.value),hr(`😃 優點：
${t.value.pros}

🫤 缺點：
${t.value.cons}`),window.open(`https://search.google.com/local/writereview?placeid=${t.value.id}`,"_blank")}return Ae(x,L=>{L||(o.value=!1)}),(L,u)=>(ve(),Ce(je,{class:"note"},{default:j(()=>[z(Se,{class:"bg-brown-5 text-white note__title-section"},{default:j(()=>[fe("div",zr,[fe("div",Hr,at(t.value.storeName),1),d.value?(ve(),Ce(jt,{key:0,class:"ellipsis author-name",dense:"",color:"yellow","text-color":"grey-8",ripple:!1},{default:j(()=>[He(at(l.value),1)]),_:1})):rt("",!0)]),fe("div",Qr,[fe("div",jr,[fe("div",Wr,at(t.value.address),1),fe("div",Kr,at(w.value),1)]),t.value.googlemapURL?(ve(),Ce(ae,{key:0,flat:"",round:"",icon:"fa-solid fa-location-dot",href:t.value.googlemapURL},null,8,["href"])):rt("",!0)])]),_:1}),z(Se,{class:"bg-white text-black note__details"},{default:j(()=>[z(nr,{class:"details__form"},{default:j(()=>[fe("div",Gr,[u[15]||(u[15]=fe("div",{class:"rating__title"},"餐點",-1)),z(tt,{vertical:""}),z(qt,{class:"rating__input",modelValue:t.value.foodScore,"onUpdate:modelValue":u[0]||(u[0]=k=>t.value.foodScore=k),max:5,size:"32px",color:"grey","color-selected":"red",readonly:!r.value},null,8,["modelValue","readonly"])]),fe("div",Yr,[u[16]||(u[16]=fe("div",{class:"rating__title"},"服務",-1)),z(tt,{vertical:""}),z(qt,{class:"rating__input",modelValue:t.value.serviceScore,"onUpdate:modelValue":u[1]||(u[1]=k=>t.value.serviceScore=k),max:5,size:"32px",color:"grey","color-selected":"red",readonly:!r.value},null,8,["modelValue","readonly"])]),z(lr,{icon:"fa-solid fa-note-sticky",label:"筆記",class:"textarea-title"},{default:j(()=>[z(je,null,{default:j(()=>[z(Se,null,{default:j(()=>[z(Et,{label:"優點","stack-label":"",color:"green",outlined:"",autogrow:"",modelValue:t.value.pros,"onUpdate:modelValue":u[2]||(u[2]=k=>t.value.pros=k),readonly:!r.value},null,8,["modelValue","readonly"])]),_:1}),z(Se,null,{default:j(()=>[z(Et,{label:"缺點","stack-label":"",color:"red",outlined:"",autogrow:"",modelValue:t.value.cons,"onUpdate:modelValue":u[3]||(u[3]=k=>t.value.cons=k),readonly:!r.value},null,8,["modelValue","readonly"])]),_:1}),z(Se,{class:"row q-gutter-x-xs"},{default:j(()=>[z(ae,{icon:"add_photo_alternate",label:"上傳照片",flat:"",color:"grey-6",onClick:u[4]||(u[4]=k=>x.value=!0),disable:!r.value},null,8,["disable"]),z(Er,{photos:t.value.photos,"onDelete:photo":F,deletable:!d.value},null,8,["photos","deletable"])]),_:1}),d.value?rt("",!0):(ve(),Ce(Se,{key:0,class:"row q-gutter-x-xs"},{default:j(()=>[z(ae,{icon:"sym_o_export_notes",label:"複製內容並前往 Google 評論",outline:"",rounded:"",color:"brown",class:"fit",onClick:A,disable:d.value},null,8,["disable"])]),_:1}))]),_:1}),t.value.user===Nn(q).user.ID?(ve(),it("div",Zr,[z(tt,{spaced:""}),n.isCreate?(ve(),Ce(Je,{key:1,align:"around"},{default:j(()=>[z(ae,{flat:"",class:"text-grey-8 action-btn",onClick:u[7]||(u[7]=k=>m.value=!0)},{default:j(()=>u[20]||(u[20]=[He("取消")])),_:1}),z(ae,{flat:"",class:"action-btn",onClick:u[8]||(u[8]=k=>S("create:note",t.value))},{default:j(()=>u[21]||(u[21]=[He("儲存")])),_:1})]),_:1})):(ve(),Ce(Je,{key:0,align:"around"},{default:j(()=>[z(ae,{flat:"",class:"text-negative action-btn",onClick:u[5]||(u[5]=k=>h.value=!0)},{default:j(()=>u[17]||(u[17]=[He("刪除")])),_:1}),r.value?(ve(),Ce(ae,{key:1,flat:"",class:"action-btn",onClick:b},{default:j(()=>u[19]||(u[19]=[He("儲存")])),_:1})):(ve(),Ce(ae,{key:0,flat:"",class:"action-btn",onClick:u[6]||(u[6]=k=>r.value=!0)},{default:j(()=>u[18]||(u[18]=[He("編輯")])),_:1}))]),_:1}))])):rt("",!0)]),_:1})]),_:1})]),_:1}),z(et,{modelValue:x.value,"onUpdate:modelValue":u[10]||(u[10]=k=>x.value=k),class:"uploader"},{default:j(()=>[z(je,null,{default:j(()=>[z(Se,null,{default:j(()=>[u[22]||(u[22]=fe("div",{class:"q-pb-sm uploader__title"},"上傳照片",-1)),u[23]||(u[23]=fe("div",{class:"q-pb-sm uploader__subtitle"},"限上傳圖片檔；照片數量限 3 張",-1)),z(fr,{modelValue:g.value,"onUpdate:modelValue":u[9]||(u[9]=k=>g.value=k),outlined:"","use-chips":"",multiple:"",append:"",accept:".jpg, .png, image/*","max-files":"3",style:{"max-width":"300px"},color:"brown"},Ht({prepend:j(()=>[z(ke,{name:"attach_file"})]),_:2},[a.value?{name:"after",fn:j(()=>[z(ae,{color:"red",dense:"",icon:"cloud_upload",round:"",onClick:T,disable:!a.value,loading:o.value},null,8,["disable","loading"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(et,{modelValue:h.value,"onUpdate:modelValue":u[12]||(u[12]=k=>h.value=k),persistent:""},{default:j(()=>[z(je,null,{default:j(()=>[z(Se,{class:"row items-center"},{default:j(()=>[z(ke,{name:"warning",color:"negative",size:"24px"}),u[24]||(u[24]=fe("span",{class:"q-ml-sm"},"確定要刪除這個筆記嗎？",-1))]),_:1}),z(Je,{align:"right"},{default:j(()=>[Ve(z(ae,{flat:"",label:"取消",color:"primary"},null,512),[[We]]),Ve(z(ae,{flat:"",label:"刪除",color:"negative",onClick:u[11]||(u[11]=k=>S("delete:note",t.value))},null,512),[[We]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(et,{modelValue:m.value,"onUpdate:modelValue":u[14]||(u[14]=k=>m.value=k),persistent:""},{default:j(()=>[z(je,null,{default:j(()=>[z(Se,{class:"row items-center"},{default:j(()=>[z(ke,{name:"warning",color:"negative",size:"24px"}),u[25]||(u[25]=fe("span",{class:"q-ml-sm"},"確定要取消新增筆記嗎？",-1))]),_:1}),z(Je,{align:"right"},{default:j(()=>[Ve(z(ae,{flat:"",label:"放棄編輯",color:"negative",onClick:u[13]||(u[13]=k=>S("update:isNoteOpen",!1))},null,512),[[We]]),Ve(z(ae,{flat:"",label:"繼續編輯",color:"primary"},null,512),[[We]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ta=zt(Xr,[["__scopeId","data-v-60b2ea38"]]);export{We as C,ta as N,jt as Q,tt as a,Je as b};
